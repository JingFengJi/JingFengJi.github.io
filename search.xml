<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[GameFrameworkæ¡†æž¶æºç è§£è¯»ï¼ˆäºŒï¼‰ï¼šSetting]]></title>
    <url>%2F2020%2F07%2F20%2Fgameframework-kuang-jia-yuan-ma-jie-du-er-setting%2F</url>
    <content type="text"><![CDATA[GameFrameworkæ¡†æž¶æºç è§£è¯»Settingç»„ä»¶ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‚ æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€~click here! æ¨¡å—ä»‹ç»ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨çŽ©å®¶æ•°æ®ï¼Œå¯¹UnityEngine.PlayerPrefsè¿›è¡Œå°è£…ï¼Œä¹Ÿå¯ä»¥ä¿å­˜å°†æ•°æ®ç›´æŽ¥å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚PlayerPrefsåœ¨è¿è¡Œæ—¶æ— æ³•ç›´æŽ¥èŽ·å–åˆ°æ‰€æœ‰é”®å€¼ï¼Œå› æ­¤Eå¤§æä¾›äº†è¯¥æ¨¡å—æ¥ä»£æ›¿PlayerPrefsã€‚å…³äºŽå¦‚ä½•åœ¨Editorä¸‹èŽ·å–æ‰€æœ‰é”®å€¼å¯¹ï¼Œå‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šUnityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰åä¸€:èŽ·å–PlayerPrefsæ‰€æœ‰é”®å€¼å¯¹ å¸¸è§„æŽ¥å£ä½¿ç”¨ä½¿ç”¨GameEntry.GetComponent()èŽ·å–Settingç»„ä»¶ã€‚ å¯¹æ¯”PlayerPrefsç±»çš„æŽ¥å£æ¥çœ‹ï¼ŒSettingç»„ä»¶ä¹Ÿæä¾›äº†GetIntã€SetIntã€GetBoolã€SetBoolã€GetStringã€SetStringã€GetFloatã€SetFloatç­‰æŽ¥å£ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSettingç»„ä»¶è¿˜åšäº†äº›æ‹“å±•ã€‚ 1ã€GetAllSettingNamesèŽ·å–èŽ·å–æ‰€æœ‰æ¸¸æˆé…ç½®é¡¹çš„åç§° 2ã€HasSettingæ£€æŸ¥æ˜¯å¦å­˜åœ¨æ¸¸æˆé…ç½®é¡¹ï¼ŒåŒPlayerPrefs.HasKey 3ã€RemoveSettingç§»å‡ºæŒ‡å®šæ¸¸æˆé…ç½®é¡¹ï¼ŒåŒPlayerPrefs.DeleteKey 4ã€RemoveAllSettingsæ¸…ç©ºæ‰€æœ‰æ¸¸æˆé…ç½®é¡¹ï¼ŒåŒPlayerPrefs.DeleteAll(æ…Žç”¨) 5ã€GetObjectè¯»å–å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªæ³›åž‹æŽ¥å£ã€‚ è·Ÿè¿›åˆ°SettingManageré‡Œé¢å¯ä»¥çœ‹åˆ°æ˜¯è°ƒç”¨äº†SettingHelperé‡Œçš„GetObjectå‡½æ•°ï¼Œç»§ç»­è¿›åŽ»çœ‹ã€‚SettingHelperBaseç±»å®žçŽ°äº†ISettingHelperæŽ¥å£ï¼Œè€ŒUGFé‡Œæä¾›äº†ä¸¤ä¸ªSettingHelper,DefaultSettingHelperå’ŒPlayerPrefsSettingHelperï¼Œè€Œè¿™ä¸¤ä¸ªSettingHelperé‡Œéƒ½æ˜¯é€šè¿‡Utility.Json.ToObjectè¿›è¡Œå¯¹è±¡çš„è¯»å–çš„ã€‚ 6ã€SetObjectå†™å…¥å¯¹è±¡ï¼ŒåŒä¸ŠGetObject å®žè·µ1ã€ä¸ºé¡¹ç›®é€‰æ‹©SettingHelper è¿™é‡Œä¸å»ºè®®ä½¿ç”¨PlayerPrefsSettingHelperäº†ï¼Œå› ä¸ºå®ƒæ˜¯åŸºäºŽPlayerPrefsè¿›è¡Œçš„äºŒæ¬¡å°è£…ï¼Œæ‰€ä»¥ä¾ç„¶æ˜¯ä¸æ”¯æŒè¿è¡Œæ—¶èŽ·å–æ‰€æœ‰é”®å€¼çš„ã€‚ å½“ç„¶ï¼Œå¯ä»¥è‡ªå·±ç¼–å†™ä¸€ä¸ªHelperï¼Œç»§æ‰¿SettingHelperBaseï¼Œæ¯”å¦‚ä½ çš„æ¸¸æˆæ•°æ®éœ€è¦è‡ªè¡ŒåšåŠ å¯†è§£å¯†ðŸ¤”ðŸ¤”ðŸ¤” 2ã€è¿è¡ŒStarForceæ¡ˆä¾‹åŽï¼ŒSettingçš„Inspectoré¢æ¿å¦‚ä¸‹ï¼š é¢æ¿ä¸Šèƒ½çœ‹åˆ°æ‰€æœ‰é”®å€¼å¯¹ï¼Œä»¥åŠä¸€ä¸ªä¿å­˜å’Œåˆ é™¤æ‰€æœ‰æ•°æ®çš„æŒ‰é’®ã€‚ç›®å‰å°šæœªæ”¯æŒåœ¨éžè¿è¡Œæ—¶å°±å¯ä»¥é¢„è§ˆSettingé‡Œçš„æ‰€æœ‰æ•°æ®ï¼Œè¦æ”¯æŒä¹Ÿä¸éš¾ï¼Œåœ¨éžè¿è¡Œæ—¶å°†å­˜æ”¾æ•°æ®çš„æ–‡ä»¶åŠ è½½å‡ºæ¥æ˜¾ç¤ºåœ¨Inspectoré¢æ¿ä¸Šå³å¯ã€‚ æœ¬ç³»åˆ—GameFrameworkæ¡†æž¶æºç ä»‹ç»ä¼šæŒç»­æ›´æ–°ï¼Œä¹Ÿä½œä¸ºè‡ªå·±çš„å­¦ä¹ ç¬”è®°ã€‚å¦‚æœ‰ä¸è¯¦ç»†ä¹‹å¤„ï¼Œæ¬¢è¿Žæ²Ÿé€šã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
  </entry>
  <entry>
    <title><![CDATA[[UIElementå…¥é—¨]:4.è‡ªå®šä¹‰å…ƒç´ ]]></title>
    <url>%2F2020%2F05%2F17%2Fuielement-ru-men-4-zi-ding-yi-yuan-su%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‰ UIElementå®˜æ–¹æ–‡æ¡£ æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1 æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼šUIElement : EditorWindowç®€å•ä»‹ç»UIElement : UXMLå…ƒç´ ä»‹ç»UIElement : UQueryä»‹ç»UIElement : Layout EngineUIElement : è‡ªå®šä¹‰å…ƒç´ åŽç»­å¾…æ›´æ–°å†…å®¹ï¼šUIElement : Editor Demo Quick ToolUIElement : Layout Engine YogaLayoutUIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickToolUIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æž¶çš„AssetBundlBuilderUIElement : Runtime Demo Tank è‡ªå®šä¹‰å…ƒç´ å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ç±»åœ¨ä½¿ç”¨UXMLæ–‡ä»¶å®šä¹‰æ–°å…ƒç´ ä¹‹å‰ï¼Œå¿…é¡»ä»ŽVisualElementæˆ–å®ƒçš„ä¸€ä¸ªå­ç±»æ´¾ç”Ÿä¸€ä¸ªæ–°ç±»ï¼Œç„¶åŽåœ¨è¿™ä¸ªæ–°ç±»ä¸­å®žçŽ°é€‚å½“çš„åŠŸèƒ½ã€‚ä½ çš„æ–°ç±»å¿…é¡»å®žçŽ°ä¸€ä¸ªé»˜è®¤æž„é€ å‡½æ•°ã€‚ 12345678910class StatusBar : VisualElement&#123; public StatusBar() &#123; m_Status = String.Empty; &#125; string m_Status; public string status &#123; get; set; &#125;&#125; å…ƒç´ å·¥åŽ‚ä¸ºäº†è®©UIElementåœ¨è¯»å–UXMLæ–‡ä»¶æ—¶èƒ½å¤Ÿè¯†åˆ«åˆ°è¯¥è‡ªå®šä¹‰å…ƒç´ ç±»ï¼Œå¿…é¡»ä¸ºè¯¥å…ƒç´ ç±»å®šä¹‰ä¸€ä¸ªå·¥åŽ‚ã€‚å¦‚æžœå·¥åŽ‚ä¸éœ€è¦åšä¸€äº›ç‰¹æ®Šçš„äº‹æƒ…ï¼Œå¯ä»¥ç›´æŽ¥ä»ŽUxmlFactoyæ´¾ç”Ÿå·¥åŽ‚ã€‚å»ºè®®å°†å·¥åŽ‚ç±»æ”¾åœ¨ç»„ä»¶ç±»ä¸­ã€‚ 1234567891011121314class StatusBar : VisualElement&#123; public StatusBar() &#123; m_Status = String.Empty; &#125; string m_Status; public string status &#123; get; set; &#125; public new class UxmlFactory : UxmlFactory&lt;StatusBar&gt; &#123;&#125; // ...&#125; å®šä¹‰äº†è¿™ä¸ªå·¥åŽ‚ä¹‹åŽï¼Œå¯ä»¥åœ¨UXMLæ–‡ä»¶ä¸­ä½¿ç”¨&lt;StatusBar&gt;å…ƒç´ ã€‚ æ·»åŠ å…ƒç´ å¯ä»¥ä¸ºä¸€ä¸ªæ–°ç±»å®šä¹‰UXMLç‰¹å¾ï¼Œå¹¶è®¾ç½®å®ƒçš„å·¥åŽ‚æ¥ä½¿ç”¨è¿™äº›ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å®šä¹‰ä¸€ä¸ªUXML traitsç±»ï¼Œå°†statuså±žæ€§åˆå§‹åŒ–ä¸ºStatusBarç±»çš„å±žæ€§ã€‚statuså±žæ€§æ˜¯ä»ŽXMLæ•°æ®åˆå§‹åŒ–çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536class StatusBar : VisualElement&#123; public StatusBar() &#123; m_Status = String.Empty; &#125; string m_Status; public string status &#123; get; set; &#125; public new class UxmlFactory : UxmlFactory&lt;StatusBar, UxmlTraits&gt; &#123;&#125; //å°†UxmlTraitsç±»æ”¾åœ¨StatusBarç±»ä¸­ï¼ŒInit()æ–¹æ³•å¯ä»¥è®¿é—®StatusBarçš„ç§æœ‰æˆå‘˜ã€‚ public new class UxmlTraits : VisualElement.UxmlTraits &#123; //å®šä¹‰ä¸€ä¸ªå˜é‡åm_Statusåˆå§‹å€¼ä¸ºstatusçš„UXMLå±žæ€§ UxmlStringAttributeDescription m_Status = new UxmlStringAttributeDescription &#123; name = "status" &#125;; public override IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription &#123; //è¿”å›žä¸€ä¸ªç©ºçš„IEnumerableï¼Œè¡¨ç¤ºStatusBarä¸å…è®¸åŒ…å«å­å…ƒç´  get &#123; yield break; &#125; &#125; public override void Init(VisualElement ve, IUxmlAttributes bag, CreationContext cc) &#123; //è°ƒç”¨base.Init()æ¥åˆå§‹åŒ–åŸºç±»å±žæ€§ã€‚ base.Init(ve, bag, cc); //ä»ŽUXMLè§£æžå™¨ä¸­è¯»å–å±žæ€§åŒ…ä¸­statuså±žæ€§çš„å€¼å¹¶è®¾ç½®statuså±žæ€§è®¾ç½®ä¸ºè¯¥å€¼ã€‚ //å°†å…ƒç´ çš„statusåˆå§‹åŒ–ä¸ºm_Statusçš„å€¼ï¼Œä¹Ÿå°±æ˜¯"status" ((StatusBar)ve).status = m_Status.GetValueFromBag(bag, cc); &#125; &#125; // ...&#125; UxmlTraitsæœ‰ä¸¤ä¸ªç”¨é€”:å·¥åŽ‚ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚æ¨¡å¼ç”Ÿæˆè¿‡ç¨‹å¯¹å…¶è¿›è¡Œåˆ†æžï¼Œä»¥èŽ·å¾—å…³äºŽå…ƒç´ çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯è¢«è½¬æ¢æˆXMLæ¨¡å¼æŒ‡ä»¤ã€‚ ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä½¿ç”¨UxmlStringAttributeDescriptionç±»å£°æ˜Žäº†ä¸€ä¸ªstringå±žæ€§ã€‚UIElementsæ”¯æŒä»¥ä¸‹ç±»åž‹çš„å±žæ€§ï¼Œæ¯ä¸ªéƒ½å°†c#ç±»åž‹é“¾æŽ¥åˆ°UXMLç±»åž‹ Attribute Attribute Value Type UxmlStringAttributeDescription String UxmlFloatAttributeDescription Float UxmlDoubleAttributeDescription Double UxmlIntAttributeDescription Int UxmlLongAttributeDescription Long UxmlBoolAttributeDescription Bool UxmlColorAttributeDescription Color UxmlEnumAttributeDescription&lt;T&gt; Enum è¦ä½¿å…ƒç´ æŽ¥å—ä»»ä½•ç±»åž‹çš„å­å…ƒç´ ï¼Œå¿…é¡»é‡å†™uxmlChildElementsDescriptionå±žæ€§ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿StatusBarå…ƒç´ æŽ¥å—ä»»ä½•ç±»åž‹çš„å­å…ƒç´ ï¼Œå¿…é¡»æŒ‡å®šuxmlChildElementsDescriptionå±žæ€§ï¼Œå¦‚ä¸‹æ‰€ç¤º 1234567public override IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription&#123; get &#123; yield return new UxmlChildElementDescription(typeof(VisualElement)); &#125;&#125; å®šä¹‰å‘½åç©ºé—´åœ¨c#ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå°±å¯ä»¥å¼€å§‹åœ¨UXMLæ–‡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªå…ƒç´ äº†ã€‚å¦‚æžœæ–°å…ƒç´ æ˜¯åœ¨ä¸€ä¸ªæ–°çš„åç§°ç©ºé—´ä¸­å®šä¹‰çš„ï¼Œé‚£ä¹ˆåº”è¯¥ä¸ºè¯¥åç§°ç©ºé—´å®šä¹‰ä¸€ä¸ªå‰ç¼€ã€‚å‘½åç©ºé—´å‰ç¼€è¢«å£°æ˜Žä¸ºæ ¹&lt;UXML&gt;å…ƒç´ çš„å±žæ€§ï¼Œå¹¶åœ¨é™å®šå…ƒç´ ä½œç”¨åŸŸæ—¶æ›¿æ¢å®Œæ•´çš„å‘½åç©ºé—´åç§°ã€‚ ä¾‹å¦‚å°†StatusBaræ”¾åˆ°MyVisualElementå‘½åç©ºé—´ä¸‹ï¼š 1234567891011using UnityEditor.UIElements;using UnityEngine;using UnityEngine.UIElements;namespace MyVisualElement&#123; class StatusBar : VisualElement &#123; //...çœç•¥ &#125;&#125; é‚£ä¹ˆUXMLä¸­ä½¿ç”¨Statuså…ƒç´ æ˜¯ï¼š 12345678910&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;!--æ­¤å¤„è¦å†™å®Œæ•´çš„å‘½åç©ºé—´--&gt; &lt;MyVisualElement.StatusBar /&gt;&lt;/engine:UXML&gt; é«˜çº§ç”¨æ³•è‡ªå®šä¹‰UXML nameå¯ä»¥è‡ªå®šä¹‰UXMLåç§°é€šè¿‡é‡å†™IUxmlFactory.uxmlNameå’ŒIUXmlFactory.uxmlQualifiedNameå±žæ€§ã€‚ç¡®ä¿uxmlNameåœ¨å‘½åç©ºé—´ä¸­æ˜¯å”¯ä¸€çš„ï¼ŒuxmlQualifiedNameåœ¨é¡¹ç›®ä¸­æ˜¯å”¯ä¸€çš„ã€‚å¦‚æžœä¸¤ä¸ªåç§°éƒ½ä¸å”¯ä¸€ï¼Œåˆ™åœ¨å°è¯•åŠ è½½ç¨‹åºé›†æ—¶ä¼šå¼•å‘å¼‚å¸¸ã€‚ 123456789101112public class FactoryWithCustomName : UxmlFactory&lt;..., ...&gt;&#123; public override string uxmlName &#123; get &#123; return "UniqueName"; &#125; &#125; public override string uxmlQualifiedName &#123; get &#123; return uxmlNamespace + "." + uxmlName; &#125; &#125;&#125; ä¸ºå…ƒç´ é€‰æ‹©å·¥åŽ‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒIUxmlFactoryå®žä¾‹åŒ–ä¸€ä¸ªå…ƒç´ å¹¶ä½¿ç”¨å…ƒç´ çš„åç§°é€‰æ‹©è¯¥å…ƒç´ ã€‚ å¯ä»¥é€šè¿‡é‡å†™IUXmlFactory.AcceptsAttributeBagä½¿é€‰æ‹©è¿‡ç¨‹è€ƒè™‘å…ƒç´ ä¸Šçš„å±žæ€§å€¼ã€‚ç„¶åŽï¼Œå·¥åŽ‚å°†æ£€æŸ¥å…ƒç´ å±žæ€§ï¼Œä»¥å†³å®šæ˜¯å¦å¯ä»¥ä¸ºUXMLå…ƒç´ å®žä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ å¦‚æžœVisualElementç±»æ˜¯æ³›åž‹çš„ï¼Œè¿™å°±å¾ˆæœ‰ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨äºŽä¸“é—¨åŒ–ç±»çš„ç±»å·¥åŽ‚å¯ä»¥æ£€æŸ¥XMLç±»åž‹å±žæ€§çš„å€¼ã€‚æ ¹æ®å€¼çš„ä¸åŒï¼Œå¯ä»¥æŽ¥å—æˆ–æ‹’ç»å®žä¾‹åŒ–ã€‚ åœ¨æœ‰å¤šä¸ªå·¥åŽ‚å¯ä»¥å®žä¾‹åŒ–ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªæ³¨å†Œçš„å·¥åŽ‚ã€‚ é‡å†™åŸºç±»å…ƒç´ å±žæ€§çš„é»˜è®¤å€¼é€šè¿‡åœ¨æ´¾ç”Ÿçš„UxmlTraitsç±»ä¸­è®¾ç½®å…¶defaultValueæ¥æ›´æ”¹åŸºç±»ä¸­å£°æ˜Žçš„å±žæ€§çš„é»˜è®¤å€¼ã€‚ 12345678class MyElementTraits : VisualElement.UxmlTraits&#123; public MyElementTraits() &#123; //æ›´æ”¹m TabIndexçš„é»˜è®¤å€¼ä¸º0 m_TabIndex.defaultValue = 0; &#125;&#125; æŽ¥å—ä»»ä½•å±žæ€§é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„XMLæ¨¡å¼å£°æ˜Žå…ƒç´ å¯ä»¥å…·æœ‰ä»»ä½•å±žæ€§ã€‚ é™¤äº†åœ¨UxmlTraitsç±»ä¸­å£°æ˜Žçš„å±žæ€§å€¼ä¹‹å¤–ï¼Œå…¶ä»–å±žæ€§çš„å€¼ä¸å—é™åˆ¶ã€‚è¿™ä¸ŽXMLéªŒè¯å™¨ç›¸åï¼ŒXMLéªŒè¯å™¨æ£€æŸ¥å£°æ˜Žçš„å±žæ€§å€¼æ˜¯å¦ä¸Žå…¶å£°æ˜Žç›¸åŒ¹é…ã€‚ é¢å¤–çš„å±žæ€§åŒ…å«åœ¨IUxmlAttributesåŒ…ä¸­ï¼Œè¯¥åŒ…ä¼ é€’ç»™IUxmlFactory.AcceptsAttributBag()å’ŒIUxmlFactory.Init()å‡½æ•°ã€‚å·¥åŽ‚å®žçŽ°å†³å®šæ˜¯å¦ä½¿ç”¨è¿™äº›é™„åŠ å±žæ€§ã€‚é»˜è®¤è¡Œä¸ºæ˜¯æ”¾å¼ƒé™„åŠ å±žæ€§ã€‚ å¦‚æžœæ”¾å¼ƒé™„åŠ å±žæ€§ï¼Œå°±æ„å‘³ç€è¿™äº›é™„åŠ å±žæ€§æ²¡æœ‰é™„åŠ åˆ°å®žä¾‹åŒ–çš„VisualElementï¼Œå¹¶ä¸”è¿™äº›atttibuteä¸èƒ½ç”¨UQueryæŸ¥è¯¢ã€‚ åœ¨å®šä¹‰æ–°å…ƒç´ æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®UxmlTraitså°†æŽ¥å—çš„å±žæ€§é™åˆ¶ä¸ºé‚£äº›æ˜¾å¼å£°æ˜Žçš„å±žæ€§ï¼Œåœ¨UxmlTraitsæž„é€ å‡½æ•°ä¸­å°†anyattributeå±žæ€§è®¾ä¸ºfalseå³å¯ã€‚ è‡ªå®šä¹‰å…ƒç´ æ¡ˆä¾‹ä»¥ä¸‹ä»£ç å®žçŽ°åŒ…å«8ç§æ•°æ®ç±»åž‹çš„VisualElementã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091using System.Collections.Generic;using UnityEditor.UIElements;using UnityEngine;using UnityEngine.UIElements;//å‘½åç©ºé—´namespace MyVisualElement&#123; //è‡ªå®šä¹‰å…ƒç´ ç±» class CustomVisualElement : VisualElement &#123; //æžšä¸¾ public enum Existance &#123; None, Good, Bad &#125; //8ç§æ•°æ®ç±»åž‹çš„å±žæ€§ public string stringAttr &#123; get; set; &#125; public float floatAttr &#123; get; set; &#125; public double doubleAttr &#123; get; set; &#125; public int intAttr &#123; get; set; &#125; public long longAttr &#123; get; set; &#125; public bool boolAttr &#123; get; set; &#125; public Color colorAttr &#123; get; set; &#125; public Existance enumAttr &#123; get; set; &#125; //å·¥åŽ‚ public new class UxmlFactory : UxmlFactory&lt;CustomVisualElement, UxmlTraits&gt; &#123; &#125; //ä½¿ç”¨UxmlTraitsåˆå§‹åŒ–æ–°åˆ›å»ºçš„å…ƒç´ å¯¹è±¡ public new class UxmlTraits : VisualElement.UxmlTraits &#123; UxmlStringAttributeDescription m_String = new UxmlStringAttributeDescription &#123;name = "string-attr", defaultValue = "default_value"&#125;; UxmlFloatAttributeDescription m_Float = new UxmlFloatAttributeDescription &#123;name = "float-attr", defaultValue = 0.1f&#125;; UxmlDoubleAttributeDescription m_Double = new UxmlDoubleAttributeDescription &#123;name = "double-attr", defaultValue = 0.1&#125;; UxmlIntAttributeDescription m_Int = new UxmlIntAttributeDescription &#123;name = "int-attr", defaultValue = 2&#125;; UxmlLongAttributeDescription m_Long = new UxmlLongAttributeDescription &#123;name = "long-attr", defaultValue = 3&#125;; UxmlBoolAttributeDescription m_Bool = new UxmlBoolAttributeDescription &#123;name = "bool-attr", defaultValue = false&#125;; UxmlColorAttributeDescription m_Color = new UxmlColorAttributeDescription &#123;name = "color-attr", defaultValue = Color.red&#125;; UxmlEnumAttributeDescription&lt;Existance&gt; m_Enum = new UxmlEnumAttributeDescription&lt;Existance&gt; &#123;name = "enum-attr", defaultValue = Existance.Bad&#125;; //è¯¥è‡ªå®šä¹‰çš„å…ƒç´  æ— å­å…ƒç´  public override IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription &#123; get &#123; yield break; &#125; &#125; //åˆå§‹åŒ– public override void Init(VisualElement ve, IUxmlAttributes bag, CreationContext cc) &#123; base.Init(ve, bag, cc); var ate = ve as CustomVisualElement; ate.Clear(); //æ·»åŠ 8ä¸ªå±žæ€§å¯¹åº”çš„Fieldï¼Œä»¥åŠåˆå§‹åŒ–é»˜è®¤å€¼ ate.stringAttr = m_String.GetValueFromBag(bag, cc); ate.Add(new TextField("String") &#123;value = ate.stringAttr&#125;); ate.floatAttr = m_Float.GetValueFromBag(bag, cc); ate.Add(new FloatField("Float") &#123;value = ate.floatAttr&#125;); ate.doubleAttr = m_Double.GetValueFromBag(bag, cc); ate.Add(new DoubleField("Double") &#123;value = ate.doubleAttr&#125;); ate.intAttr = m_Int.GetValueFromBag(bag, cc); ate.Add(new IntegerField("Integer") &#123;value = ate.intAttr&#125;); ate.longAttr = m_Long.GetValueFromBag(bag, cc); ate.Add(new LongField("Long") &#123;value = ate.longAttr&#125;); ate.boolAttr = m_Bool.GetValueFromBag(bag, cc); ate.Add(new Toggle("Toggle") &#123;value = ate.boolAttr&#125;); ate.colorAttr = m_Color.GetValueFromBag(bag, cc); ate.Add(new ColorField("Color") &#123;value = ate.colorAttr&#125;); ate.enumAttr = m_Enum.GetValueFromBag(bag, cc); var en = new EnumField("Enum"); en.Init(m_Enum.defaultValue); en.value = ate.enumAttr; ate.Add(en); &#125; &#125; &#125;&#125; UXMLï¼š 12345678910&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;!--C#å…ƒç´ ç±»å®šä¹‰äº†å‘½åç©ºé—´--&gt; &lt;MyVisualElement.CustomVisualElement /&gt;&lt;/engine:UXML&gt; UXMLä¸­ä¹Ÿå¯ä»¥ç›´æŽ¥å®šä¹‰å±žæ€§å€¼ï¼š 12345678910111213141516171819&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;!--C#å…ƒç´ ç±»å®šä¹‰äº†å‘½åç©ºé—´--&gt; &lt;!--ä¸¾ä¾‹è¯´æ˜Žï¼šstring-attr å¾—è·ŸUxmlTraitsä¸­å®šä¹‰çš„UxmlAttributeDescriptionçš„nameä¿æŒä¸€è‡´--&gt; &lt;MyVisualElement.CustomVisualElement string-attr="my-string" float-attr="4.2" double-attr="4.3" int-attr="4" long-attr="423" bool-attr="true" color-attr="#CA7C03FF" enum-attr="Good"/&gt;&lt;/engine:UXML&gt; C# Load Code: 12var customElement = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;("Assets/Editor/CustomElement.uxml");root.Add(customElement.CloneTree()); å‚è€ƒæ–‡ç«  è‡ªå®šä¹‰å…ƒç´ å®˜æ–¹æ–‡æ¡£å®˜æ–¹è®ºå›è®¨è®ºï¼šå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ï¼Ÿ æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« ~ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>UIElement</category>
      </categories>
      <tags>
        <tag>UIElement</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[UIElementå…¥é—¨]:3.Layout Engine]]></title>
    <url>%2F2020%2F05%2F13%2Fuielement-ru-men-3-layout-engine%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‰ UIElementå®˜æ–¹æ–‡æ¡£ æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1 æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼šUIElement : EditorWindowç®€å•ä»‹ç»UIElement : UXMLå…ƒç´ ä»‹ç»UIElement : UQueryä»‹ç»UIElement : Layout EngineUIElement : è‡ªå®šä¹‰å…ƒç´ åŽç»­å¾…æ›´æ–°å†…å®¹ï¼šUIElement : Editor Demo Quick ToolUIElement : Layout Engine YogaLayoutUIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickToolUIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æž¶çš„AssetBundlBuilderUIElement : Runtime Demo Tank å‰è¨€UIElementsä½¿ç”¨Yogaå¸ƒå±€å¼•æ“Žæ ¹æ®å¸ƒå±€å’Œæ ·å¼å±žæ€§æ¥å®šä¹‰UIã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¸ƒå±€çš„ä¸€éƒ¨åˆ†ï¼Œå¸ƒå±€å…·æœ‰ä»¥ä¸‹é»˜è®¤è¡Œä¸ºï¼š å®¹å™¨åž‚ç›´åˆ†å¸ƒå…¶å­å…ƒç´  å®¹å™¨çŸ©å½¢çš„ä½ç½®åŒ…æ‹¬å…¶å­çŸ©å½¢ï¼Œæ­¤è¡Œä¸ºå¯èƒ½å—åˆ°å…¶ä»–å¸ƒå±€å±žæ€§çš„é™åˆ¶ã€‚ å…·æœ‰æ–‡æœ¬çš„å…ƒç´ åœ¨å…¶å¤§å°è®¡ç®—ä¸­ä½¿ç”¨æ–‡æœ¬å¤§å°ï¼Œæ­¤è¡Œä¸ºå¯èƒ½å—åˆ°å…¶ä»–å¸ƒå±€å±žæ€§çš„é™åˆ¶ã€‚ Layout Engine Yoga Layout å®˜æ–¹æ–‡æ¡£ Position Positionåˆ†ä¸ºRelative/Absolute: Relativeï¼šç›¸å¯¹å®šä½ã€‚å…ƒç´ æ ¹æ®å¸ƒå±€çš„æ­£å¸¸æµç¨‹è¿›è¡Œå®šä½ï¼Œç„¶åŽæ ¹æ®é¡¶éƒ¨ã€å³ä¾§ã€åº•éƒ¨å’Œå·¦ä¾§çš„å€¼ç›¸å¯¹äºŽè¯¥ä½ç½®è¿›è¡Œåç§»ã€‚åç§»é‡ä¸å½±å“ä»»ä½•åŒçº§æˆ–çˆ¶å…ƒç´ çš„ä½ç½®ã€‚ Absoluteï¼šç»å¯¹å®šä½ã€‚å½“å…ƒç´ è¢«ç»å¯¹å®šä½æ—¶ï¼Œå®ƒä¸å‚ä¸Žå¸¸è§„å¸ƒå±€æµã€‚ç›¸åï¼Œå®ƒæ˜¯ç‹¬ç«‹äºŽå®ƒçš„å…„å¼Ÿå§å¦¹è€Œè®¾è®¡çš„ã€‚ä½ç½®æ˜¯æ ¹æ®é¡¶éƒ¨ã€å³ä¾§ã€åº•éƒ¨å’Œå·¦ä¾§å€¼ç¡®å®šçš„ã€‚ Leftã€Topã€Rightã€Bottomè¿™ä¸ªå€¼æ˜¯ç”¨æ¥ä½¿ç”¨Absoluteæˆ–è€…Relative LayoutåŽå¯¹å…ƒç´ ä½ç½®è¿›è¡Œåç§»çš„ã€‚ FlexFlex DirectionFlexæ–¹å‘æŽ§åˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¸ƒå±€çš„æ–¹å‘ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºä¸»è½´ã€‚ä¸»è½´æ˜¯å­å…ƒç´ æ‘†æ”¾çš„æ–¹å‘ã€‚æ¨ªè½´:åž‚ç›´äºŽä¸»è½´çš„è½´ã€‚FlexDirectionæ˜¯ä¸€ä¸ªæžšä¸¾ç±»åž‹ï¼Œåœ¨UnityEngine.UIElementså‘½åç©ºé—´ä¸‹ã€‚ Columnï¼šä»Žä¸Šåˆ°ä¸‹æŽ’åˆ—å­å…ƒç´ ã€‚å¦‚æžœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†ä»Žå®¹å™¨é¡¶éƒ¨å·¦ä¾§çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚ ColumnReverseï¼šè®©å­©å­ä»¬ä»Žä¸‹åˆ°ä¸Šå¯¹é½ã€‚å¦‚æžœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†ä»Žå®¹å™¨åº•éƒ¨å·¦è¾¹çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚ Rowï¼šè®©å­å…ƒç´ ä»Žå·¦åˆ°å³å¯¹é½ã€‚å¦‚æžœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†åœ¨å®¹å™¨å·¦è¾¹çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚ RowReverseï¼šè®©å­©å­ä»¬ä»Žå³å‘å·¦å¯¹é½ã€‚å¦‚æžœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†åœ¨å®¹å™¨å³ä¾§çš„ç¬¬ä¸€é¡¹ä¸‹å¼€å§‹ã€‚ ä¾æ¬¡æ˜¯ä»Žä¸Šåˆ°ä¸‹ã€ä»Žä¸‹åˆ°ä¸Šã€ä»Žå·¦åˆ°å³ã€ä»Žå³åˆ°å·¦ Flex Wrapåœ¨å®¹å™¨ä¸Šè®¾ç½®flex wrapå±žæ€§ï¼Œå¹¶æŽ§åˆ¶å½“å­å…ƒç´ æ²¿ä¸»è½´æº¢å‡ºå®¹å™¨çš„å¤§å°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå­å…ƒç´ è¢«å¼ºåˆ¶æ”¾åˆ°ä¸€è¡Œä¸­(è¿™ä¸€è¡Œå¯ä»¥æ”¶ç¼©å…ƒç´ )ã€‚ No Wrapï¼šå°†å­å…ƒç´ æ”¾åœ¨ä¸€è¡Œ Wrapï¼šæ²¿ä¸»è½´å°†å­å…ƒç´ æ”¾åœ¨å¤šè¡Œï¼Œä¹Ÿå°±æ˜¯å…è®¸æ¢è¡Œã€‚ Wrap Reverseï¼šå…è®¸æ¢è¡Œï¼Œæ¢è¡Œçš„é¡ºåºè·ŸWrapæ˜¯ç›¸åçš„ã€‚ AlignAlignæ˜¯ä¸€ä¸ªæžšä¸¾ç±»åž‹ï¼Œåœ¨UnityEngine.UIElementså‘½åç©ºé—´ä¸‹ã€‚ Autoï¼šè®©Flexå±žæ€§å†³å®šå¸ƒå±€ FlexStartï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„èµ·ç‚¹ Centerï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„ä¸­å¿ƒã€‚ FlexEndï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„æœ«ç«¯ã€‚ Stretchï¼šæ‹‰ä¼¸å®¹å™¨çš„å­å…ƒç´ ä»¥åŒ¹é…å®¹å™¨çš„æ¨ªè½´çš„é«˜åº¦ã€‚ Align Itemså¦‚ä½•åœ¨å®¹å™¨çš„æ¨ªè½´ä¸Šå¯¹é½å­å…ƒç´  Justify Contentå­å…ƒç´ åœ¨å®¹å™¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ FlexStartï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„å¼€å§‹ä½ç½®ã€‚ Centerï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„ä¸­å¿ƒã€‚ FlexEndï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„æœ«ç«¯ã€‚ SpaceBetweenï¼šåœ¨å®¹å™¨çš„ä¸»è½´ä¸Šå‡åŒ€åœ°åˆ’åˆ†å­©å­çš„ç©ºé—´ï¼Œåœ¨å­©å­ä¹‹é—´åˆ†é…å‰©ä½™çš„ç©ºé—´ã€‚ SpaceAroundï¼šåœ¨å®¹å™¨çš„ä¸»è½´çº¿ä¸Šå‡åŒ€åœ°åˆ†å¸ƒå­å…ƒç´ ç©ºé—´ï¼Œå°†å‰©ä½™çš„ç©ºé—´åˆ†å¸ƒåœ¨å­å…ƒç´ å‘¨å›´ã€‚ä¸Žç©ºé—´ç›¸æ¯”ï¼Œä½¿ç”¨å‘¨å›´çš„ç©ºé—´ä¼šå¯¼è‡´ç©ºé—´è¢«åˆ†é…åˆ°ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„å¼€å§‹å’Œæœ€åŽä¸€ä¸ªå­å…ƒç´ çš„ç»“æŸã€‚ Sizewidthå’Œheightæ˜¯è®¾ç½®å…ƒç´ çš„å›ºå®šå®½é«˜ï¼›maxWidthå’ŒmaxHeightæ˜¯è®¾ç½®å…ƒç´ çš„æœ€å¤§å®½é«˜ï¼›minWidthå’ŒminHeightæ˜¯è®¾ç½®å…ƒç´ çš„æœ€å°å®½é«˜ã€‚ Margin &amp; Padding &amp; Border Margin(å¤–è¾¹è·)å½±å“èŠ‚ç‚¹å¤–éƒ¨çš„é—´è·ã€‚å¸¦æœ‰marginçš„èŠ‚ç‚¹å°†ä»Žå…¶çˆ¶èŠ‚ç‚¹çš„ç•Œé™ä¸­åç§»è‡ªèº«ï¼Œä½†ä¹Ÿä¼šåç§»ä»»ä½•å…„å¼ŸèŠ‚ç‚¹çš„ä½ç½®ã€‚å¦‚æžœçˆ¶èŠ‚ç‚¹æ˜¯è‡ªåŠ¨è°ƒæ•´å¤§å°çš„ï¼Œåˆ™èŠ‚ç‚¹çš„è¾¹è·ä¼šå½±å“å…¶çˆ¶èŠ‚ç‚¹çš„æ€»å¤§å°ã€‚ Padding(å†…è¾¹è·))å¦‚æžœå…ƒç´ æœ‰æ˜¾å¼çš„å¤§å°è®¾ç½®ï¼Œå¡«å……å°†ä¸ä¼šæ·»åŠ åˆ°å…ƒç´ çš„æ€»å¤§å°ä¸­ã€‚å¯¹äºŽè‡ªåŠ¨è°ƒæ•´å¤§å°çš„èŠ‚ç‚¹ï¼Œå¡«å……å°†å¢žåŠ èŠ‚ç‚¹çš„å¤§å°ï¼Œå¹¶åç§»ä»»ä½•å­èŠ‚ç‚¹çš„ä½ç½®ã€‚ Border(è¾¹æ¡†)è¾¹æ¡†ä¹Ÿå°±æ˜¯å…ƒç´ çš„å››æ¡è¾¹ï¼Œå¯ä»¥è®¾ç½®è¾¹æ¡†çš„åŽšåº¦ã€é¢œè‰²ã€ä»¥åŠå››ä¸ªè§’çš„åœ†è§’åŠå¾„ã€‚ æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« ~ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>UIElement</category>
      </categories>
      <tags>
        <tag>UIElement</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[UIElementå…¥é—¨]:2.UQueryä»‹ç»]]></title>
    <url>%2F2020%2F05%2F12%2Fuielement-ru-men-2-uquery-jie-shao%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‰ UIElementå®˜æ–¹æ–‡æ¡£ æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1 æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼šUIElement : EditorWindowç®€å•ä»‹ç»UIElement : UXMLå…ƒç´ ä»‹ç»UIElement : UQueryä»‹ç»UIElement : Layout EngineUIElement : è‡ªå®šä¹‰å…ƒç´ åŽç»­å¾…æ›´æ–°å†…å®¹ï¼šUIElement : Editor Demo Quick ToolUIElement : Layout Engine YogaLayoutUIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickToolUIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æž¶çš„AssetBundlBuilderUIElement : Runtime Demo Tank å‰è¨€é¦–å…ˆæˆ‘ä»¬æ¥ç†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆå®˜æ–¹æä¾›UQueryè¿™ä¸€å¥—ä¸œè¥¿ã€‚UQueryæ˜¯ä¸€ç»„æ‰©å±•æ–¹æ³•ï¼Œå…è®¸æ‚¨åœ¨å¤æ‚çš„å±‚æ¬¡ç»“æž„ä¸­é€‰æ‹©å•ç‹¬çš„æˆ–é›†åˆçš„visualelementã€‚ä¸ºäº†ä»Žä»»ä½•UIElementså…ƒç´ å¯è§†æ ‘ä¸­æ£€ç´¢ä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸šåŠ¡é€»è¾‘ä¸­æƒ³è¦çš„å…ƒç´ ï¼Œæä¾›çš„UQueryè¿™ä¸€ç»„æ‹“å±•æ–¹æ³•ã€‚å®˜æ–¹è§£é‡Šè¯´UQueryåŸºäºŽJQueryï¼Œé‚£ä¹ˆä»ŽJQueryå…¥æ‰‹æ¥ç†è§£ä¸€ä¸‹åŽŸç†ã€‚å­¦è¿‡å‰ç«¯çš„åŒå­¦åº”è¯¥éƒ½æ¸…æ¥šJQueryçš„ç”¨æ³•ï¼ˆæˆ‘æ²¡å­¦è¿‡ï¼Œè¿™é‡ŒçŽ°å­¦çŽ°ç”¨ä¸€ä¸‹ðŸ¤£ðŸ¤£ðŸ¤£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·è§è°…ï¼‰ã€‚ ä»€ä¹ˆæ˜¯JQueryï¼ŸJQueryæ˜¯ä¸€ä¸ªè½»é‡çº§çš„JavaScriptå‡½æ•°åº“ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š HTMLå…ƒç´ é€‰å– HTMLå…ƒç´ æ“ä½œ CSSæ“ä½œ HTMLäº‹ä»¶å‡½æ•° JavaScriptç‰¹æ•ˆå’ŒåŠ¨ç”» HTML DOMéåŽ†å’Œä¿®æ”¹ AJAX Utilities ç²—ç•¥çœ‹æ¥ï¼ŒJQueryå¯ä»¥æ£€ç´¢åˆ°HTMLä¸­çš„å…ƒç´ å¹¶è¿›è¡Œæ“ä½œï¼Œè¿™è·ŸUQueryæä¾›çš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè‡³äºŽJQueryæä¾›çš„åˆ«çš„åŠŸèƒ½ï¼ŒUQueryä»¥åŽçš„å‘å±•ç›®å‰ä¸å¾—è€ŒçŸ¥ã€‚ ä¸ºä»€ä¹ˆéœ€è¦æä¾›UQueryï¼ŸUIElementçš„ç»“æž„æ˜¯é€šè¿‡UXML+USSçš„å½¢å¼å®Œæˆä¸€ä¸ªå…ƒç´ å¯è§†æ ‘ï¼ˆä¹Ÿå°±æ˜¯UIï¼‰çš„ç»˜åˆ¶ï¼Œè¿™è·Ÿä¼ ç»Ÿçš„Prefabå·¥ä½œæ¨¡å¼æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚UIElementåˆ¶ä½œå‡ºæ¥çš„UIä»¥UXML+USSä¸¤ç±»æ–‡ä»¶å­˜åœ¨äºŽå·¥ç¨‹ä¸­ï¼Œå¹¶ä¸å­˜åœ¨Prefabï¼Œä¹Ÿä¸èƒ½åœ¨Hierarchyä¸‹çœ‹åˆ°UIçš„å±‚çº§ï¼Œå¯ä»¥é€šè¿‡UIElements Debuggerï¼ˆWindow-&gt;Analysns-&gt;UIElements Debuggerï¼‰æˆ–è€…åŽé¢ä¼šè®²åˆ°çš„UI Builderè¿›è¡ŒæŸ¥çœ‹ã€‚æ—¢ç„¶ä¸å­˜åœ¨Prefabï¼Œä¼ ç»Ÿçš„Prefab+MonoBehavioråšæ³•ä¹Ÿå°±ä¸å†é€‚ç”¨äº†ï¼ŒPrefab+Mono Find Childå°±æ²¡å•¥è¯´çš„äº†ï¼Œä¸€æ ·ã€‚é‚£ä»¥å‰çš„Prefab+éžMono Find Childçš„æ¨¡å¼å‘¢ï¼Ÿ å…¶å®žæˆ‘çš„ç†è§£å‘¢ï¼ŒFind Childçš„æ¨¡å¼ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªUIé‡Œæ£€ç´¢ä¸šåŠ¡é€»è¾‘éœ€è¦çš„å…ƒç´ ï¼Œè¿›è€Œè¿›è¡Œä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼Œè¿™å°±è·ŸUQueryä¸€æ ·äº†ï¼Œéƒ½æ˜¯è¦åœ¨UIä¸­æ£€ç´¢å…ƒç´ ï¼Œåªæ˜¯ä¸¤è€…çš„æ£€ç´¢æ–¹å¼ä¸ä¸€æ ·ç½¢äº†ã€‚ ä½¿ç”¨UQueryçš„å¥½å¤„ï¼Ÿä»¥å‰é€šè¿‡Find Childæ£€ç´¢å…ƒç´ çš„æ–¹å¼ï¼Œå¼Šç«¯åœ¨äºŽä»£ç ä¸­æ£€ç´¢å…ƒç´ æ—¶ä½¿ç”¨çš„Pathè¢«å±‚çº§ä½ç½®æ‰€é™åˆ¶ï¼Œè¿™æ ·æ— æ³•åšåˆ°UI Prefabåˆ¶ä½œå·¥ä½œä¸Žä¸šåŠ¡é€»è¾‘è„šæœ¬å¼€å‘å·¥ä½œçš„å®Œå…¨åˆ†ç¦»ã€‚è€Œä½¿ç”¨Prefab+Monoè„šæœ¬ï¼ˆéžFindï¼Œç›´æŽ¥åºåˆ—åŒ–ç»‘å®šï¼‰çš„æ–¹å¼ï¼Œä¹Ÿæœ‰å¼Šç«¯ï¼Œæ‰‹åŠ¨æ‹–è´¹æ—¶è´¹åŠ›ï¼ˆå› æ­¤ç½‘ä¸Šç›®å‰ä¹Ÿæœ‰å¼€æºçš„è‡ªåŠ¨ç»‘å®šUIå…ƒç´ çš„å¼€æºåº“ï¼‰ã€‚ä½¿ç”¨UIElementåŽï¼Œé€šè¿‡UQueryè¿™ä¸€å¥—æŽ¥å£ï¼Œåªéœ€è¦UIåˆ¶ä½œäººå‘˜ä¸Žç¨‹åºåˆ¶å®šå¥½äº¤äº’UIå…ƒç´ çš„å‘½åã€UIç•Œé¢ä¸Šå„åŒºåŸŸçš„åˆ’åˆ†ï¼Œæ›´å¥½çš„åšåˆ°å·¥ä½œå†…å®¹åˆ†ç¦»ã€‚è‡³äºŽRuntimeä¸‹å¦‚ä½•æ‰“å¼€ä¸€ä¸ªUIï¼Œä»¥åŠæ‰“å¼€åŽçš„äº‹ä»¶ç»‘å®šç­‰åŽç»­ä¸šåŠ¡é€»è¾‘å¼€å‘å·¥ä½œï¼ŒåŽç»­æ›´æ–°Runtime Demoè¿›è¡Œä»‹ç»ã€‚ UQueryExtensions UQueryExtensionså®˜æ–¹æŽ¥å£æ–‡æ¡£ UQueryExtensions.Qæ ¹æ®æ£€ç´¢æ¡ä»¶ï¼ŒæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒQuery&lt;T&gt;.Build().First()æ–¹æ³•çš„ç®€å†™ã€‚ Function12public static T Q(this UIElements.VisualElement e, string name, string className);public static T Q(this UIElements.VisualElement e, string name, params string[] classes); Parameters UIElements.VisualElement eï¼šåœ¨è¯¥å…ƒç´ ä¸Šä½¿ç”¨æ¡ä»¶æ£€ç´¢ï¼Œç†è§£ä¸ºä½¿ç”¨è¯¥æ£€ç´¢æ¡ä»¶çš„rootï¼Œä¸ä¸€å®šæ˜¯æ•´ä¸ªUIçš„Root string nameï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„name string classNameï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„classï¼Œå¹¶ä¸æ˜¯é¢å‘å¯¹è±¡çš„class string[] classesï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„classï¼ˆå¤šä¸ªï¼‰ï¼Œå¹¶ä¸æ˜¯é¢å‘å¯¹è±¡çš„class Returnè¿”å›žç¬¦åˆæ£€ç´¢æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æžœæ‰¾ä¸åˆ°åˆ™ä¸ºnullã€‚ UQueryExtensions.Q&lt;T&gt;UQueryExtensions.Qçš„æ³›åž‹æŽ¥å£ UQueryExtensions.Queryè¿”å›žä¸€ä¸ªUQueryBuilder&lt;VisualElement&gt;ï¼ŒUQueryBuilderç±»é‡ŒåŒ…æ‹¬ä¸€äº›Styleé€‰æ‹©å™¨ã€RuleMatcheråŒ¹é…è§„åˆ™ï¼Œç„¶åŽé€šè¿‡Firstã€Lastã€ToListã€AtIndexç­‰æŽ¥å£æ ¹æ®æ£€ç´¢è§„åˆ™æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å…ƒç´ å¹¶è¿”å›žï¼ŒForEachæŽ¥å£ä¸»è¦æ˜¯å¯¹ç¬¦åˆåŒ¹é…è§„åˆ™çš„æ£€ç´¢å‡ºæ¥çš„å…ƒç´ éƒ½æ‰§è¡Œä¸€éä¼ å…¥çš„Functionã€‚ UQueryExtensions.Query&lt;T&gt;UQueryExtensions.Queryçš„æ³›åž‹æŽ¥å£ ä¸¾ä¾‹æ–°å»ºä¸€ä¸ªUQueryDemo.uxmlæ–‡ä»¶ 123456789101112131415&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;engine:Button text="Button1" name="Button1" /&gt; &lt;engine:Button text="Button2" name="Button2" /&gt; &lt;engine:Box&gt; &lt;engine:Label text="This is Label in Box" /&gt; &lt;engine:Button text="Button3" name="Button3" /&gt; &lt;/engine:Box&gt;&lt;/engine:UXML&gt; C# ä»£ç  12345678910111213141516171819202122var queryDemo = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;("Assets/Editor/UQueryDemo.uxml");root.Add(queryDemo.CloneTree());//æ£€ç´¢åˆ°å‘½åä¸ºButton1çš„æŒ‰é’®ï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶root.Q&lt;Button&gt;("Button1").clickable.clicked += delegate&#123; Debug.LogError("Click1");&#125;;//æ£€ç´¢åˆ°ç±»åž‹ä¸ºButtonçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶root.Query&lt;Button&gt;().First().clickable.clicked += delegate&#123; Debug.LogError("Click1");&#125;;//æ£€ç´¢æ‰€æœ‰Buttonç±»åž‹ï¼Œä½¿ç”¨ForEachéåŽ†æ£€ç´¢å‡ºçš„Buttonï¼Œç»™è¿™äº›Buttonå‡æ·»åŠ ç‚¹å‡»äº‹ä»¶//å°½ç®¡Button3æ”¾åœ¨äº†ä¸€ä¸ªBoxå…ƒç´ é‡Œï¼Œä¾ç„¶è¢«ä¸‹é¢çš„çš„ä»£ç æ£€ç´¢åˆ°äº†ã€‚root.Query&lt;Button&gt;().ForEach(delegate(Button button)&#123; button.clickable.clicked += delegate &#123; Debug.LogError(button.text); &#125;;&#125;); æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« ~ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>UIElement</category>
      </categories>
      <tags>
        <tag>UIElement</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[UIElementå…¥é—¨]:1.UXMLå…ƒç´ ä»‹ç»]]></title>
    <url>%2F2020%2F05%2F11%2Fuielement-ru-men-1-uxml-yuan-su-jie-shao%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‰ UIElementå®˜æ–¹æ–‡æ¡£ æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1 æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼šUIElement : EditorWindowç®€å•ä»‹ç»UIElement : UXMLå…ƒç´ ä»‹ç»UIElement : UQueryä»‹ç»UIElement : Layout EngineUIElement : è‡ªå®šä¹‰å…ƒç´ åŽç»­å¾…æ›´æ–°å†…å®¹ï¼šUIElement : Editor Demo Quick ToolUIElement : Layout Engine YogaLayoutUIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickToolUIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æž¶çš„AssetBundlBuilderUIElement : Runtime Demo Tank ä»¥ä¸‹å†…å®¹ä¸­ï¼Œå¯èƒ½æŸäº›å…ƒç´ çš„å±žæ€§è§£é‡Šçš„ä¸æ˜¯å¾ˆå……åˆ†ï¼Œè¿™äº›è¿˜éœ€è¦åŽé¢çš„å®žé™…ä½¿ç”¨æ‰æ›´å¥½äº†è§£ã€‚ UIElements Sampleså®˜æ–¹æä¾›çš„å†…ç½®å…ƒç´ ä½¿ç”¨demoï¼Œåœ¨Window-&gt;UI-&gt;UIElements Samplesä¸‹ã€‚é€šè¿‡è¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŸ¥è¯¢åˆ°å„ä¸ªå†…ç½®å…ƒç´ çš„ä½¿ç”¨æ–¹æ³•ã€‚ UXML elements referenceUIElementæä¾›äº†ä¸€äº›å¸¸ç”¨çš„UXMLå…ƒç´ ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œåœ¨UnityEngine.UIElementså’ŒUnityEditor.UIElementså‘½åç©ºé—´ä¸‹ã€‚ UXML elements Reference å®˜æ–¹æ–‡æ¡£ è¿™äº›è‡ªå¸¦çš„å…ƒç´ åˆ†ä¸ºä»¥ä¸‹å‡ å¤§ç±»ï¼š Base elements Utilities Templates Controls Text input Complex widgets Toolbar Views and windows Base elementsVisualElement æ‰€æœ‰å…ƒç´ çš„åŸºç±» å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶ å±žæ€§ class style name picking-mode tooltip focusable tabindex view-data-key BindableElement å¯ä»¥ç»‘å®šåˆ°ä¸€ä¸ªSerializedPropertyä¸Šï¼Œå±žæ€§çš„å€¼å’Œæ˜¾ç¤ºçš„å€¼æ˜¯åŒæ­¥çš„ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶ å±žæ€§ binding-path: æ­¤å…ƒç´ ç»‘å®šçš„å±žæ€§çš„è·¯å¾„ã€‚ UtilitiesBox Boxç±»ä¼¼äºŽVisualElementï¼Œåœ¨å†…å®¹å‘¨å›´å¤šäº†ä¸€ä¸ªæ–¹æ¡† å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶ å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ 1234567891011&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;engine:Box&gt; &lt;engine:Label text="This is Label in Box" /&gt; &lt;/engine:Box&gt;&lt;/engine:UXML&gt; TextElement æ˜¾ç¤ºæ–‡æœ¬ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ textï¼šæ˜¾ç¤ºçš„æ–‡æœ¬ 123456789101112&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;engine:Box&gt; &lt;engine:Label text="This is Label in Box" /&gt; &lt;engine:TextElement text="This is TextElement in Box" /&gt; &lt;/engine:Box&gt;&lt;/engine:UXML&gt; Label æ–‡æœ¬æ ‡ç­¾ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ ç¤ºæ„å›¾å’Œå®žä¾‹ä»£ç åŒTextElement Image æ˜¾ç¤ºå›¾ç‰‡ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ 12345Image imageElement = new Image();imageElement.image = AssetDatabase.LoadAssetAtPath&lt;Texture&gt;("Assets/quit_icon.png");imageElement.sourceRect = new Rect(0,0,128,128);imageElement.scaleMode = ScaleMode.ScaleToFit;root.Add(imageElement); IMGUIContainer ç»˜åˆ¶ä¸€ä¸ªIMGUIçš„å†…å®¹ï¼Œ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ focus-indexï¼šé»˜è®¤å€¼æ˜¯0 focusableï¼šé»˜è®¤å€¼æ˜¯true 123456789IMGUIContainer imguiContainer = new IMGUIContainer();imguiContainer.onGUIHandler = delegate&#123; if (GUILayout.Button("This is IMGUI Button")) &#123; Debug.LogError("Click"); &#125;&#125;;root.Add(imguiContainer); Foldout ç»˜åˆ¶ä¸€ä¸ªå…·æœ‰æ˜¾ç¤ºæˆ–éšè—å…¶å†…å®¹çš„åˆ‡æ¢æŒ‰é’®ã€‚ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶ å±žæ€§ï¼š VisualElementçš„æ‰€æœ‰å±žæ€§ 123456789101112131415//å®šä¹‰ä¸€ä¸ªimguiçš„buttonIMGUIContainer imguiContainer = new IMGUIContainer();imguiContainer.onGUIHandler = delegate &#123; if (GUILayout.Button("This is IMGUI Button")) &#123; Debug.LogError("Click"); &#125; &#125;; //å®šä¹‰ä¸€ä¸ªFoldoutFoldout foldout = new Foldout();foldout.text = "FoldOut";//å°†buttonåŠ åˆ°foldoutä¸‹foldout.Add(imguiContainer);root.Add(foldout); TemplatesTemplate å¯¹å¦ä¸€ä¸ªUXMLæ¨¡æ¿çš„å¼•ç”¨ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š name: å…ƒç´ çš„å”¯ä¸€å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ path: è¦åŠ è½½çš„UXMLæ–‡ä»¶è·¯å¾„ Instance æ¨¡æ¿å®žä¾‹ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š template: è¦å®žä¾‹åŒ–çš„æ¨¡æ¿çš„åç§° TemplateContainer æ¨¡æ¿å®¹å™¨ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ï¼š BindableElementçš„æ‰€æœ‰å±žæ€§ template: è¯¥æ¨¡æ¿çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ Template ç®€å•æ¡ˆä¾‹ æ–°å»ºä¸€ä¸ªTemplate.uxmlæ–‡ä»¶ï¼Œç»„ä»¶å‘½åä¸ºPlayerï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªLabel 123456789101112&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;engine:VisualElement class="Player"&gt; &lt;engine:Label name="nameLabel" text="Name"/&gt; &lt;engine:Label name="ageLabel" text="Age"/&gt; &lt;/engine:VisualElement&gt;&lt;/engine:UXML&gt; æ–°å»ºä¸€ä¸ªTemplateDemo.uxmlæ–‡ä»¶ï¼Œç”¨ä»¥å®žä¾‹åŒ–è¯¥æ¨¡æ¿ã€‚ 1234567891011121314151617&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;!--æ³¨æ„æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„--&gt; &lt;engine:Template path="Assets/Editor/Template.uxml" name="Player"/&gt; &lt;engine:VisualElement name="players"&gt; &lt;!--å®žä¾‹åŒ–è¯¥æ¨¡æ¿ å¹¶å‘½å--&gt; &lt;!--templateçš„å€¼è¦è·Ÿå‰é¢å®šä¹‰çš„ä¸€è‡´--&gt; &lt;engine:Instance template="Player" name="player1"/&gt; &lt;engine:Instance template="Player" name="player2"/&gt; &lt;engine:Instance template="Player" name="player3"/&gt; &lt;/engine:VisualElement&gt;&lt;/engine:UXML&gt; ä½¿ç”¨C#åŠ è½½TemplateDemo.uxml 123var visualTree = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;("Assets/Editor/TemplateDemo.uxml");VisualElement labelFromUXML = visualTree.CloneTree();root.Add(labelFromUXML); ControlsBaseField æ‰€æœ‰Fieldç±»åž‹å…ƒç´ çš„æŠ½è±¡åŸºç±» å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BindableElementçš„æ‰€æœ‰å±žæ€§ focus-indexï¼šé»˜è®¤å€¼ä¸º0 focusableï¼šé»˜è®¤å€¼ä¸ºtrue labelï¼šä¸Žfieldå…³è”çš„æ ‡ç­¾æ–‡æœ¬ BaseFieldTraits&lt;ValueType, UxmlType&gt; ç»§æ‰¿è‡ª BaseField&lt; ValueType &gt; å±žæ€§ BaseField&lt; ValueType &gt;çš„æ‰€æœ‰å±žæ€§ valueï¼šå­—æ®µçš„åˆå§‹å€¼ï¼Œç±»åž‹ä¸º ValueType Button æ ‡å‡†æŒ‰é’® å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ TextElementçš„æ‰€æœ‰å±žæ€§ RepeatButton æŒ‰ä¸‹æ—¶é‡å¤æ‰§è¡ŒåŠ¨ä½œçš„æŒ‰é’® å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ TextElementçš„æ‰€æœ‰å±žæ€§ delayï¼šæŒ‰é’®æ‰§è¡ŒåŠ¨ä½œä¹‹å‰çš„åˆå§‹å»¶è¿Ÿ(æ¯«ç§’)ã€‚é»˜è®¤å€¼æ˜¯0 intervalï¼šé‡å¤æ¯ä¸ªåŠ¨ä½œä¹‹é—´çš„æ¯«ç§’é—´éš”ã€‚é»˜è®¤å€¼æ˜¯0 Toggle è§£é‡Šï¼Œç•¥ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseFieldTraits&lt; bool, UxmlBoolAttributeDescription &gt;çš„æ‰€æœ‰å±žæ€§ textï¼šå¼€å…³å³ä¾§çš„æ ‡ç­¾æ–‡æœ¬ Scroller æ»šåŠ¨æ¡ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ VisualElementçš„æ‰€æœ‰å±žæ€§ low-value: æ»šåŠ¨æ¡çš„æœ€å°å€¼ high-value: æ»šåŠ¨æ¡çš„æœ€å¤§å€¼ direction: æ»‘åŠ¨æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯ç«–ç›´ï¼Œé»˜è®¤æ˜¯ç«–ç›´çš„ valueï¼šæ»šåŠ¨æ¡çš„ä½ç½® Slider æ»‘åŠ¨æ¡ï¼Œå€¼ä¸ºæµ®ç‚¹æ•° å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseFieldTraits&lt; float, UxmlFloatAttributeDescription&gt;çš„æ‰€æœ‰å±žæ€§ low-value:æ»‘åŠ¨æ¡çš„æœ€å°å€¼ high-value:æ»‘åŠ¨æ¡çš„æœ€å¤§å€¼ direction:æ»‘åŠ¨æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯ç«–ç›´ï¼Œé»˜è®¤æ˜¯æ°´å¹³çš„ page-size:æ»‘å—çš„é¡µé¢å¤§å° SliderInt Intæ•°å€¼çš„æ»‘åŠ¨æ¡ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseFieldTraits&lt; int, UxmlIntAttributeDescription&gt;çš„æ‰€æœ‰å±žæ€§ low-valueã€high-valueã€directionã€page-sizeç­‰å±žæ€§åŒSliderï¼Œåªæ˜¯Valueç±»åž‹æ˜¯int MinMaxSlider å…è®¸ç”¨æˆ·æŒ‡å®šæœ€å°å€¼å’Œæœ€å¤§å€¼èŒƒå›´çš„slider å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseField&lt; Vector2&gt;çš„æ‰€æœ‰å±žæ€§ low-limit:æœ€å°å€¼é™åˆ¶ high-limit:æœ€å¤§å€¼é™åˆ¶ min-value:æ»‘å—çš„æœ€å°å€¼ max-value:æ»‘å—çš„æœ€å¤§å€¼ EnumField ç»˜åˆ¶ä¸€ä¸ªæžšä¸¾ç±»åž‹çš„å­—æ®µ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseField&lt; Enum &gt;çš„æ‰€æœ‰å±žæ€§ MaskField å¤šé€‰èœå• å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ choices: List&lt; string &gt;ç±»åž‹ï¼Œæ˜¾ç¤ºåœ¨å¼¹å‡ºèœå•ä¸Šé€‰é¡¹ value: ä¸€ä¸ªæ•´æ•°ï¼Œå°†å­—æ®µçš„å€¼è¡¨ç¤ºä¸º32ä½æŽ©ç  12MaskField maskField = new MaskField(new List&lt;string&gt;(2) &#123;"Mask1", "Mask2"&#125;,0);root.Add(maskField); LayerField ä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©ä¸€ä¸ªLayer å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseField&lt; int&gt;çš„æ‰€æœ‰å±žæ€§ value: è¡¨ç¤ºå­—æ®µå€¼(æ‰€é€‰å±‚å·)çš„æ•´æ•°ã€‚ 12LayerField layerField = new LayerField();root.Add(layerField); LayerMaskField ä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ä»Žä¸­é€‰æ‹©å¤šä¸ªLayer å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ MaskFieldçš„æ‰€æœ‰å±žæ€§ TagField ä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ä»Žä¸­é€‰æ‹©ä¸€ä¸ªTag å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BaseFieldçš„æ‰€æœ‰å±žæ€§ valueï¼šé€‰æ‹©çš„Tag 12TagField tagField = new TagField();root.Add(tagField); ProgressBar è¿›åº¦æ¡ å‘½åç©ºé—´ï¼šUnityEngine.UIElements å­å…ƒç´ æ•°é‡ï¼š0 å±žæ€§ BindableElementçš„æ‰€æœ‰å±žæ€§ low-valueï¼šè¡¨ç¤ºè¿›åº¦æ¡çš„æœ€å°å€¼çš„æµ®åŠ¨ã€‚é»˜è®¤å€¼æ˜¯0 high-valueï¼šè¡¨ç¤ºè¿›åº¦æ¡çš„æœ€å¤§å€¼çš„æµ®åŠ¨ã€‚é»˜è®¤å€¼æ˜¯100ã€‚ titleï¼šè¡¨ç¤ºè¿›åº¦æ¡æ ‡é¢˜çš„å­—ç¬¦ä¸²ã€‚ 1234ProgressBar progressBar = new ProgressBar();progressBar.value = 50;progressBar.title = "Progress Bar";root.Add(progressBar); Text inputå„ç§ç±»åž‹çš„è¾“å…¥åž‹å…ƒç´ ï¼Œä¸ä¸€ä¸€ä»‹ç»äº†ã€‚ä»¥ä¸‹å…ƒç´ åªèƒ½åœ¨Editorä¸‹ä½¿ç”¨ã€‚ TextFieldï¼šå¯ç¼–è¾‘çš„æ–‡æœ¬å…ƒç´  IntegerFieldï¼š32ä½æ•´æ•°çš„æ–‡æœ¬å…ƒç´  LongFieldï¼š64ä½æ•´æ•°çš„æ–‡æœ¬å…ƒç´  FloatFieldï¼šFloatç±»åž‹çš„æ–‡æœ¬å…ƒç´  DoubleFieldï¼šDoubleç±»åž‹çš„æ–‡æœ¬å…ƒç´  Vector2Fieldï¼šVector2ç±»åž‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰ Vector2IntFieldï¼šVector2ç±»åž‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆintï¼‰ Vector3Fieldï¼šVector3ç±»åž‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰ Vector3IntFieldï¼šVector3ç±»åž‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆintï¼‰ Vector4Fieldï¼šVector4ç±»åž‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰ RectFieldï¼šåŒ…å«å››ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æŽ¥å—æµ®ç‚¹å€¼æ¥ç¼–è¾‘çŸ©å½¢çš„å€¼ RectIntFieldï¼šåŒ…å«å››ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æŽ¥å—æ•´æ•°å€¼æ¥ç¼–è¾‘çŸ©å½¢çš„å€¼ã€‚ BoundsFieldï¼šä¸€ç»„å…­ä¸ªæ–‡æœ¬å­—æ®µï¼ŒæŽ¥å—æµ®ç‚¹å€¼æ¥ç¼–è¾‘è¾¹æ¡†çš„å€¼ã€‚ BoundsIntFieldï¼šåŒ…å«å…­ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æŽ¥å—æ•´æ•°å€¼æ¥ç¼–è¾‘è¾¹æ¡†çš„å€¼ã€‚ Complex widgetsä»¥ä¸‹å‡ ä¸ªå…ƒç´ åªèƒ½åœ¨Editorä¸‹ä½¿ç”¨ ColorFieldï¼šé¢œè‰²é€‰æ‹©å™¨ CurveFieldï¼šæ›²çº¿ç¼–è¾‘å™¨ GradientFieldï¼šæ¸å˜ç¼–è¾‘å™¨ ObjectFieldï¼šå¯¹è±¡é€‰æ‹©å™¨ InspectorElementï¼šåœ¨Inspectorçª—å£ä¸­æ˜¾ç¤ºå±žæ€§çš„å…ƒç´  Toolbar Toolbarï¼šä¿å­˜å·¥å…·æ é¡¹çš„å®¹å™¨ ToolbarButtonï¼šå·¥å…·æ æŒ‰é’® ToolbarToggleï¼šå·¥å…·æ å¼€å…³ ToolbarMenuï¼šå·¥å…·æ çš„ä¸‹æ‹‰èœå• ToolbarSearchFieldï¼šå·¥å…·æ æœç´¢æ¡† ToolbarPopupSearchFieldï¼šå¸¦æœ‰æœç´¢é€‰é¡¹å¼¹å‡ºèœå•çš„æœç´¢å­—æ®µ ToolbarSpacerï¼šåœ¨å·¥å…·æ ä¹‹é—´æ’å…¥å›ºå®šæ•°é‡çš„ç©ºç™½å…ƒç´  12345678910111213141516&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;editor:Toolbar&gt; &lt;editor:ToolbarButton text="Button"/&gt; &lt;editor:ToolbarToggle text="Toggle"/&gt; &lt;editor:ToolbarMenu text="Menu"/&gt; &lt;editor:ToolbarSearchField text="SearchField"/&gt; &lt;editor:ToolbarSpacer /&gt; &lt;editor:ToolbarPopupSearchField text="popupSearchField"/&gt; &lt;/editor:Toolbar&gt;&lt;/engine:UXML&gt; Views and windows ListView:å…ƒç´ åˆ—è¡¨ ScrollView:å¸¦æœ‰æ°´å¹³å’Œåž‚ç›´æ»šåŠ¨æ¡çš„å¯æ»šåŠ¨è§†å›¾ã€‚ TreeView:ç”¨äºŽåœ¨æ ‘å±‚æ¬¡ç»“æž„ä¸­æ˜¾ç¤ºå…ƒç´ çš„è§†å›¾ã€‚ PopupWindow:ä¸€ä¸ªUIElementsçª—å£ï¼Œæ˜¾ç¤ºåœ¨å…¶ä»–å†…å®¹çš„é¡¶éƒ¨ã€‚ï¼ˆEditorï¼‰ æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« ~ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>UIElement</category>
      </categories>
      <tags>
        <tag>UIElement</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[UIElementå…¥é—¨]:0.UIElement EditorWindowç®€å•ä»‹ç»]]></title>
    <url>%2F2020%2F05%2F10%2Fuielement-ru-men-0-uielement-jian-dan-jie-shao%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‰ UIElementå®˜æ–¹æ–‡æ¡£ æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1 æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼šUIElement : EditorWindowç®€å•ä»‹ç»UIElement : UXMLå…ƒç´ ä»‹ç»UIElement : UQueryä»‹ç»UIElement : Layout EngineUIElement : è‡ªå®šä¹‰å…ƒç´ åŽç»­å¾…æ›´æ–°å†…å®¹ï¼šUIElement : Editor Demo Quick ToolUIElement : Layout Engine YogaLayoutUIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickToolUIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æž¶çš„AssetBundlBuilderUIElement : Runtime Demo Tank UIElement EditorWindowæœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨Editorä¸‹ä½¿ç”¨UIElementå¼€å‘ç¼–è¾‘å™¨ã€‚ æ–°å»ºEditoræ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°Assets-&gt;Create-&gt;UIElementsèœå•ï¼Œæˆ–è€…åœ¨Projectçª—å£é¼ æ ‡å³é”®Create-&gt;UIElementsï¼Œè¯¥èœå•ä¸‹åŒ…å«äº†ä»¥ä¸‹ä¸‰ä¸ªèœå•é¡¹ã€‚ USS File UXML Template Editor Window USSUSSå…¨ç§°Unity Style Sheetsï¼Œå®šä¹‰è®¾ç½®è§†è§‰å…ƒç´ çš„å°ºå¯¸å’Œå¤–è§‚çš„æ ·å¼å±žæ€§ã€‚ä½¿ç”¨è¯¥èœå•ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªussåŽç¼€çš„æ–‡ä»¶ã€‚ UXMLUXMLæ–‡ä»¶æ˜¯å®šä¹‰ç”¨æˆ·ç•Œé¢é€»è¾‘ç»“æž„çš„æ–‡æœ¬æ–‡ä»¶ã€‚UXMLæ–‡ä»¶ä¸­ä½¿ç”¨çš„æ ¼å¼å—åˆ°HTML(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ã€XAML(å¯æ‰©å±•åº”ç”¨ç¨‹åºæ ‡è®°è¯­è¨€)å’ŒXML(å¯æ‰©å±•æ ‡è®°è¯­è¨€)çš„å¯å‘ã€‚ä½¿ç”¨è¯¥èœå•ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªuxmlåŽç¼€çš„æ–‡ä»¶ã€‚ Editor Windowä½¿ç”¨è¯¥èœå•ï¼Œä¼šå¼¹å‡ºä»¥ä¸‹çª—å£ï¼Œæ˜¾è€Œæ˜“è§ï¼Œé€šè¿‡è¿™ä¸ªçª—å£èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºå›¾ä¸­çš„ä¸‰ç±»æ–‡ä»¶ã€‚ Open files in Editor once created:ä¸€æ—¦åˆ›å»ºå¥½åŽå°±æ‰“å¼€æ–‡ä»¶ã€‚ åˆ›å»ºå®ŒåŽï¼ŒUnityå·²ç»å¸®æˆ‘ä»¬åŠ ä¸Šäº†ä¸‰è¡Œæ–‡å­—ï¼Œç„¶åŽå·¥ç¨‹é‡Œå¤šäº†ä¸‰ä¸ªç›¸åº”çš„æ–‡ä»¶ï¼Œå¹¶åœ¨èœå•æ ä¸­ä¹Ÿå¤šäº†ä¸€æ¡ï¼šWindow-&gt;UIElementsâ€”&gt;TestEditor(æˆ‘åœ¨åˆ›å»ºæ—¶è¾“å…¥çš„æµ‹è¯•åTestEditor)ã€‚ é‚£ä¹ˆï¼ŒæŽ¥ä¸‹æ¥è¯¦ç»†è¯´æ˜Žä¸€ä¸‹è¿™ä¸ªEditorWindowæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ C#éƒ¨åˆ†ä»£ç ä»‹ç»ä¼šä»¥æ³¨é‡Šçš„å½¢å¼å†™åœ¨ä¸‹æ–¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738using UnityEditor;using UnityEngine;using UnityEngine.UIElements;using UnityEditor.UIElements;public class TestEditor : EditorWindow&#123; //åŸºç¡€çš„MenuItemåšæ³•ï¼Œä¸ä»‹ç»äº† [MenuItem("Window/UIElements/TestEditor")] public static void ShowExample() &#123; TestEditor wnd = GetWindow&lt;TestEditor&gt;(); wnd.titleContent = new GUIContent("TestEditor"); &#125; public void OnEnable() &#123; //åœ¨ç¼–è¾‘å™¨ä¸­ï¼Œæ¯ä¸ªEditorWindowéƒ½æœ‰ä¸€ä¸ªrootVisualElementå±žæ€§ï¼Œå®ƒè¡¨ç¤ºå±‚æ¬¡ç»“æž„çš„é¡¶å±‚VisualElementã€‚å…ƒç´ éœ€è¦ä½œä¸ºå­å…ƒç´ æ·»åŠ åˆ°è¿™ä¸ªæ ¹ï¼Œä»¥ä¾¿ç³»ç»Ÿç»˜åˆ¶å®ƒä»¬ã€‚ VisualElement root = rootVisualElement; //åˆ›å»ºä¸€ä¸ªLabelå¹¶åŠ åˆ°rootä¸­è¿›è¡Œç»˜åˆ¶ï¼ŒLabelçš„æ–‡å­—å†…å®¹æ˜¯Hello World! From C#ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ç¤ºæ„å›¾çœ‹åˆ°çš„ç¬¬ä¸€è¡Œã€‚ VisualElement label = new Label("Hello World! From C#"); root.Add(label); //åŠ è½½åˆ›å»ºå‡ºæ¥çš„UXMLæ–‡ä»¶ï¼Œå¹¶å…‹éš†åˆ°rootä¸­ã€‚ var visualTree = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;("Assets/Editor/TestEditor.uxml"); VisualElement labelFromUXML = visualTree.CloneTree(); root.Add(labelFromUXML); //åŠ è½½åˆ›å»ºå‡ºæ¥çš„USSæ–‡ä»¶ var styleSheet = AssetDatabase.LoadAssetAtPath&lt;StyleSheet&gt;("Assets/Editor/TestEditor.uss"); //åˆ›å»ºä¸€ä¸ªLabelï¼Œå¹¶ä½¿ç”¨åŠ è½½USSæ ·å¼ VisualElement labelWithStyle = new Label("Hello World! With Style"); //åŠ åˆ°rootä¸Šè¿›è¡Œæ¸²æŸ“ã€‚ labelWithStyle.styleSheets.Add(styleSheet); root.Add(labelWithStyle); &#125;&#125; ä»Žè¿™éƒ¨åˆ†ä»£ç ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œä½¿ç”¨ä»£ç åˆ›å»ºäº†ä¸¤ä¸ªLabelï¼Œå…¶ä¸­ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨USSæ ·å¼ï¼ŒåŽé¢ä¸€ä¸ªä½¿ç”¨äº†USSæ ·å¼ï¼Œæ­£å¦‚ç¤ºæ„å›¾ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œç¬¬ä¸€è¡Œæ— æ ·å¼ï¼ˆé»˜è®¤æ ·å¼ï¼‰ï¼Œç¬¬ä¸‰è¡Œæ˜¯è“è‰²çš„å­—å·åå¤§ã€‚é‚£ä¹ˆé—®é¢˜æ¥ï¼Œä¸­é—´ä¸€è¡ŒLabelï¼Œä»Žå“ªé‡Œæ¥ï¼Ÿ [ps:å†ä»¥ä¸ç”¨æ‰‹å†™Layoutäº†ðŸ¤£ðŸ¤£ðŸ¤£] UXMLéƒ¨åˆ†UXMLæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123456789&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;engine:UXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:engine="UnityEngine.UIElements" xmlns:editor="UnityEditor.UIElements" xsi:noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd"&gt; &lt;engine:Label text="Hello World! From UXML" /&gt;&lt;/engine:UXML&gt; æˆ‘ä»¬ç›®å‰åªå…³æ³¨å…¶ä¸­çš„&lt;engine:Label text=â€Hello World! From UXMLâ€ /&gt;ï¼Œè¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªLabelï¼Œæ–‡å­—å†…å®¹ä¸ºHello World! From UXMLã€‚é‚£ä¹ˆå¾ˆæ˜¾ç„¶äº†ï¼ŒC#éƒ¨åˆ†ä»£ç ä¸­æ˜¯åœ¨åˆ›å»ºä¸¤ä¸ªLabelä¸­é—´Loadå¹¶addçš„UXMLæ–‡ä»¶ï¼Œå› æ­¤è¯¥Labelæ¸²æŸ“åœ¨é‚£ä¸¤ä¸ªLabelä¸­é—´ã€‚é‚£å¦‚æžœæŠŠLoad UXMLçš„ç›¸å…³ä»£ç æ”¾åˆ°æœ€å‰é¢ï¼Œè¿™è¡ŒUXML Labelå°±åº”è¯¥æ¸²æŸ“åœ¨æœ€å‰é¢äº†ã€‚ USSéƒ¨åˆ†UXMLæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 12345Label &#123; font-size: 20px; -unity-font-style: bold; color: rgb(68, 138, 255);&#125; è¯¥æ ·å¼æ–‡ä»¶é‡Œå®šä¹‰äº†ä¸€ä¸ªLabel,å…¶ä¸­å­—å·20ï¼Œç²—ä½“ï¼Œé¢œè‰²ï¼ˆ68ã€138ã€255ï¼‰ã€‚æ›´å¤šçš„æ ·å¼åŠå…¶å±žæ€§ï¼ŒåŽé¢å¦è¡Œä»‹ç»ã€‚ æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« ~ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>UIElement</category>
      </categories>
      <tags>
        <tag>UIElement</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰åä¸€:èŽ·å–PlayerPrefsæ‰€æœ‰é”®å€¼å¯¹]]></title>
    <url>%2F2020%2F05%2F05%2Funity-bian-ji-qi-tuo-zhan-zhi-san-shi-yi-huo-qu-playerprefs-suo-you-jian-zhi-dui%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Editorä¸‹èŽ·å–PlayerPrefsæ‰€æœ‰é”®å€¼å¯¹ï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜ æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€~click here! PlayerPrefså®˜æ–¹æ–‡æ¡£ï¼Œè¯·æˆ³è¿™é‡Œ~click here! æ­£æ–‡å…³äºŽPlayerPrefsä½¿ç”¨ç»†èŠ‚å°±ä¸ä»‹ç»äº†ï¼Œå®žé™…ä¸Šï¼Œåœ¨å¼€å‘ä¸­ï¼Œå·²ç»æ²¡æ€Žä¹ˆä½¿ç”¨PlayerPrefsäº†ï¼Œè¿™é‡Œåªæ˜¯å•çº¯çš„ä»‹ç»ä¸€ä¸‹å¦‚ä½•èŽ·å–æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œæ¯•ç«ŸUnityå¹¶æ²¡æœ‰æä¾›ç›´æŽ¥çš„æŽ¥å£ã€‚ åªæœ‰DeleteAllæŽ¥å£ï¼Œæ²¡æœ‰GetAllæŽ¥å£ã€‚ æœ¬ç¯‡æ–‡ç« çš„ä¸»è¦ä»£ç æ¥æºäºŽPlayerPrefs Editoræ’ä»¶ï¼Œæ’ä»¶è‡ªè¡Œä¸‹è½½ã€‚ æ•°æ®å­˜å‚¨ å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ä»‹ç»ï¼ŒMacOSä¸‹å­˜å‚¨åœ¨~/Library/Preferencesæ–‡ä»¶å¤¹ä¸‹çš„unity.[company name].[product name].plistæ–‡ä»¶ä¸­ï¼Œè€ŒWindowä¸‹\Software[company name][product name]æ³¨å†Œè¡¨ä¸­ï¼Œå› æ­¤å¾…ä¼šå„¿èŽ·å–ä»£ç ä¸­ï¼ŒMacOSä¸‹éœ€è¦è§£æžåˆ°plistæ–‡ä»¶ï¼Œè€ŒWindowä¸‹åˆ™éœ€è¦è¯»å–æ³¨å†Œè¡¨ã€‚ å®šä¹‰ä¸€ä¸ªç»“æž„ä½“PlayerPrefPairå¯¹åº”keyvalueé”®å€¼å¯¹ã€‚ 123456789using System;[Serializable]public struct PlayerPrefPair&#123; public string Key &#123; get; set; &#125; public object Value &#123; get; set; &#125;&#125; èŽ·å–é”®å€¼å¯¹çš„ä¸»è¦ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132using System;using System.Collections.Generic;using System.IO;using Sabresaurus.PlayerPrefsExtensions;using UnityEditor;using UnityEngine;public static class PlayerPrefsExtension&#123; public static PlayerPrefPair[] GetAll() &#123; return GetAll(PlayerSettings.companyName, PlayerSettings.productName); &#125; public static PlayerPrefPair[] GetAll(string companyName, string productName) &#123; if (Application.platform == RuntimePlatform.OSXEditor) &#123; // From Unity docs: On Mac OS X PlayerPrefs are stored in ~/Library/Preferences folder, in a file named unity.[company name].[product name].plist, where company and product names are the names set up in Project Settings. The same .plist file is used for both Projects run in the Editor and standalone players. // Construct the plist filename from the project's settings string plistFilename = string.Format("unity.&#123;0&#125;.&#123;1&#125;.plist", companyName, productName); // Now construct the fully qualified path string playerPrefsPath = Path.Combine(Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.Personal), "Library/Preferences"), plistFilename); // Parse the player prefs file if it exists if (File.Exists(playerPrefsPath)) &#123; // Parse the plist then cast it to a Dictionary object plist = Plist.readPlist(playerPrefsPath); Dictionary&lt;string, object&gt; parsed = plist as Dictionary&lt;string, object&gt;; // Convert the dictionary data into an array of PlayerPrefPairs PlayerPrefPair[] tempPlayerPrefs = new PlayerPrefPair[parsed.Count]; int i = 0; foreach (KeyValuePair&lt;string, object&gt; pair in parsed) &#123; if (pair.Value.GetType() == typeof(double)) &#123; // Some float values may come back as double, so convert them back to floats tempPlayerPrefs[i] = new PlayerPrefPair() &#123;Key = pair.Key, Value = (float) (double) pair.Value&#125;; &#125; else &#123; tempPlayerPrefs[i] = new PlayerPrefPair() &#123;Key = pair.Key, Value = pair.Value&#125;; &#125; i++; &#125; // Return the results return tempPlayerPrefs; &#125; else &#123; // No existing player prefs saved (which is valid), so just return an empty array return new PlayerPrefPair[0]; &#125; &#125; else if (Application.platform == RuntimePlatform.WindowsEditor) &#123; // From Unity docs: On Windows, PlayerPrefs are stored in the registry under HKCU\Software\[company name]\[product name] key, where company and product names are the names set up in Project Settings.#if UNITY_5_5_OR_NEWER // From Unity 5.5 editor player prefs moved to a specific location Microsoft.Win32.RegistryKey registryKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey("Software\\Unity\\UnityEditor\\" + companyName + "\\" + productName);#else Microsoft.Win32.RegistryKey registryKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey("Software\\" + companyName + "\\" + productName);#endif // Parse the registry if the specified registryKey exists if (registryKey != null) &#123; // Get an array of what keys (registry value names) are stored string[] valueNames = registryKey.GetValueNames(); // Create the array of the right size to take the saved player prefs PlayerPrefPair[] tempPlayerPrefs = new PlayerPrefPair[valueNames.Length]; // Parse and convert the registry saved player prefs into our array int i = 0; foreach (string valueName in valueNames) &#123; string key = valueName; // Remove the _h193410979 style suffix used on player pref keys in Windows registry int index = key.LastIndexOf("_"); key = key.Remove(index, key.Length - index); // Get the value from the registry object ambiguousValue = registryKey.GetValue(valueName); // Unfortunately floats will come back as an int (at least on 64 bit) because the float is stored as // 64 bit but marked as 32 bit - which confuses the GetValue() method greatly! if (ambiguousValue.GetType() == typeof(int)) &#123; // If the player pref is not actually an int then it must be a float, this will evaluate to true // (impossible for it to be 0 and -1 at the same time) if (PlayerPrefs.GetInt(key, -1) == -1 &amp;&amp; PlayerPrefs.GetInt(key, 0) == 0) &#123; // Fetch the float value from PlayerPrefs in memory ambiguousValue = PlayerPrefs.GetFloat(key); &#125; &#125; else if (ambiguousValue.GetType() == typeof(byte[])) &#123; // On Unity 5 a string may be stored as binary, so convert it back to a string ambiguousValue = System.Text.Encoding.Default.GetString((byte[]) ambiguousValue); &#125; // Assign the key and value into the respective record in our output array tempPlayerPrefs[i] = new PlayerPrefPair() &#123;Key = key, Value = ambiguousValue&#125;; i++; &#125; // Return the results return tempPlayerPrefs; &#125; else &#123; // No existing player prefs saved (which is valid), so just return an empty array return new PlayerPrefPair[0]; &#125; &#125; else &#123; throw new NotSupportedException("PlayerPrefsEditor doesn't support this Unity Editor platform"); &#125; &#125;&#125; å…¶ä¸­å…³äºŽMacOSä¸‹è§£æžplistæ–‡ä»¶å‘¢ï¼ŒPlayerPrefsEditoræ’ä»¶é‡Œä½¿ç”¨çš„ä¸€ä¸ªå¼€æºåº“ï¼šhttps://github.com/animetrics/PlistCS æœ€åŽï¼Œç¼–å†™ä¸€ç‚¹æµ‹è¯•ä»£ç ï¼š 1234567891011121314using UnityEditor;public class PlayerPrefsTool : Editor&#123; [MenuItem("Tools/PrintAllPlayerPrefs")] public static void LogAllPlayerPrefs() &#123; PlayerPrefPair[] keyValues = PlayerPrefsExtension.GetAll(); for (int i = 0; i &lt; keyValues.Length; i++) &#123; UnityEngine.Debug.Log($"key=&#123;keyValues[i].Key&#125; value=&#123;keyValues[i].Value&#125;"); &#125; &#125;&#125; è¿™é‡Œå¹¶ä¸åŒ…å«å¦‚ä½•åœ¨ç§»åŠ¨ç«¯èŽ·å–åˆ°æ‰€æœ‰é”®å€¼å¯¹ï¼Œä¸ªäººå»ºè®®è‡ªè¡Œç¼–å†™ä¸€ä¸ªæ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œæ–¹ä¾¿æ— å‘æ— çƒ¦æ¼ã€‚ã€‚ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>PlayerPrefs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UnityæŽ¥å…¥Facebookç”Ÿæˆkeyhash]]></title>
    <url>%2F2020%2F05%2F02%2Funity-jie-ru-facebook-sheng-cheng-keyhash%2F</url>
    <content type="text"><![CDATA[è®°å½•å¦‚ä½•ä¸ºUnityå·¥ç¨‹æŽ¥å…¥Facebook SDKæ—¶ç”Ÿæˆkeyhashï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‹ æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€~click here! ä»¥ä¸‹æ­¥éª¤åœ¨Facebookä¸­ä¸ºUnityåº”ç”¨ç¨‹åºç”ŸæˆKey Hashï¼šï¼ˆæˆ‘æ­£åœ¨ä½¿ç”¨Mac OSX 10.8 ï¼‰ é¦–å…ˆæ‰“å¼€ä¸€ä¸ªterminalï¼ˆåœ¨Windowsä¸­æ‰“å¼€ä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦ï¼‰ã€‚åœ¨terminalä¸­å¯¼èˆªåˆ°æ‚¨çš„Unityå·¥ç¨‹ä¸‹å·¥ç¨‹çš„keystoreæ‰€åœ¨çš„ç›®å½•ã€‚ è¿›å…¥keystoreæ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚ 1keytool -exportcert -alias &#123;è¿™é‡Œå¡«keystoreçš„åˆ«å&#125; -keystore &#123;è¿™é‡Œå¡«keystoreæ–‡ä»¶å&#125;.keystore | openssl sha1 -binary | openssl base64 keystoreçš„åˆ«åå¯ä»¥åœ¨unityå·¥ç¨‹ä¸­ä¸‹å›¾ä½ç½®ä¸­æ‰¾åˆ° å½“å®ƒæç¤ºä½ è¾“å…¥å¯†ç æ—¶ï¼Œè¾“å…¥åˆ›å»ºkeystoreçš„å¯†ç å¹¶æŒ‰å›žè½¦ã€‚ å¤åˆ¶ä»¥â€œ=â€ç»“å°¾çš„æ‰“å°åœ¨terminalä¸­çš„å€¼ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°Facebookä¸­çš„Key Hashå­—æ®µä¸­ã€‚ ç„¶åŽç‚¹å‡»ä¿å­˜æ›´æ”¹ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Facebook keyhash</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§-Imageç»„ä»¶è½¬æ¢RawImageç»„ä»¶]]></title>
    <url>%2F2020%2F05%2F02%2Funity-mei-tian-yi-ge-xiao-ji-qiao-image-zu-jian-ti-huan-cheng-rawimage-zu-jian%2F</url>
    <content type="text"><![CDATA[Imageç»„ä»¶è½¬æ¢ä¸ºRawImageç»„ä»¶ï¼Œæ–¹ä¾¿å¿«æ·~ å†™åœ¨å¼€å¤´ æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€~click here! æºç 1234567891011121314151617181920212223242526using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEngine;using UnityEngine.UI;public class UnityComponentExtensionMenu : UnityEditor.Editor&#123; [MenuItem("CONTEXT/Image/è½¬æ¢æˆRawImage")] public static void ReplaceImageToRawImage() &#123; Image imageCom = Selection.activeGameObject.GetComponent&lt;Image&gt;(); if (imageCom != null) &#123; Texture2D texture2D = imageCom.sprite.texture; bool ray = imageCom.raycastTarget; Material material = imageCom.material; DestroyImmediate(imageCom); RawImage rawImage = Selection.activeGameObject.AddComponent&lt;RawImage&gt;(); rawImage.texture = texture2D; rawImage.raycastTarget = ray; rawImage.material = material; EditorUtility.SetDirty(Selection.activeGameObject); &#125; &#125;&#125; å†™åœ¨ç»“å°¾ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Python:çˆ¬å–FaceBookç”¨æˆ·å¤´åƒ]]></title>
    <url>%2F2020%2F05%2F02%2Fpython-pa-qu-facebook-yong-hu-tou-xiang%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨Pythonæ‰¹é‡çˆ¬å–ä¸‹è½½FBç”¨æˆ·å¤´åƒï¼Œæ¬¢è¿Žè®¿é—®ðŸ˜‚ æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€~click here! Pythonçˆ¬å–æºç æœ¬æ–‡ä»‹ç»çš„çˆ¬å–æ–¹æ³•æ˜¯åŸºäºŽå·²ç»æœ‰ä¸€äº›ç”¨æˆ·çš„sns_idäº†ï¼Œç„¶åŽé€šè¿‡å¤´åƒé“¾æŽ¥è¿›è¡Œå¤´åƒä¸‹è½½ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ç”¨æˆ·çš„sns_idå’Œç”¨æˆ·å 123456789101110157645719968407,Samer Khalil Zeidan2332954523430968,Ly Chanheng296879167966753,Larbas Ramy2207530449281477,Ryan Sparks125162838732018,Louis Harrison598577013979694,Noja1035700643475774,Mannie Smith1375390332610824,RaiiMz 187925459051038,Kerstin Mrowka955693851449409,Dany Trentini801025260289121,Caleb M Fiene å¤´åƒä¸‹è½½é“¾æŽ¥æ˜¯ä¸€ä¸ªå›ºå®šæ ¼å¼ï¼Œhttps://graph.facebook.com/{sns_id}/picture?type=large ï¼Œå°†sns_idå¡«åˆ°é“¾æŽ¥ä¸­å³å¯ã€‚é‚£ä¹ˆæŽ¥ä¸‹æ¥ï¼Œåªéœ€è¦æ‰¹é‡ä¸‹è½½å³å¯ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯urlretrieveä¸‹è½½ã€‚ 12345678910111213141516171819202122232425262728293031#!/usr/bin/python# -*- coding: UTF-8 -*- import osfrom urllib.request import urlretrieveos.makedirs('./image/', exist_ok=True) def urllib_download(sns_id, user_name): try: urlretrieve("https://graph.facebook.com/&#123;&#125;/picture?type=large".format(sns_id), './image/&#123;&#125;.png'.format(user_name)) except BaseException: print(sns_id,user_name)# æ‰“å¼€æ–‡ä»¶# è¿™é‡Œæ˜¯sns_userçš„ä¸€ä¸ªCSVæ–‡ä»¶fo = open("/Users/teitomonari/Desktop/sns_user.csv", "r")print("æ–‡ä»¶åä¸º: ", fo.name)for line in fo.readlines(): #ä¾æ¬¡è¯»å–æ¯è¡Œ line = line.strip() #åŽ»æŽ‰æ¯è¡Œå¤´å°¾ç©ºç™½ infos = line.split(',',1) print(infos[0],infos[1]) urllib_download(infos[0],infos[1])# å…³é—­æ–‡ä»¶fo.close() FBç”¨æˆ·æ–‡ä»¶ä¸‹è½½é“¾æŽ¥https://github.com/JingFengJi/JingFengJi.github.io/blob/master/sns_user.csv ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æžœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿Žç•™è¨€è¯„è®º!]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰åï¼šæ‹“å±•UnityToolBar]]></title>
    <url>%2F2020%2F04%2F05%2Funity-bian-ji-qi-tuo-zhan-zhi-san-shi-tuo-zhan-unitytoolbar%2F</url>
    <content type="text"><![CDATA[Unity ToolBaræ‹“å±•å¼€æºåº“ https://github.com/arimger/Unity-Editor-Toolbox.git https://github.com/smkplus/CustomToolbar.git https://github.com/marijnz/unity-toolbar-extender.git Unity-Editor-Toolboxè¿™ä¸ªå¼€æºåº“é‡ŒåŒ…å«äº†å¾ˆå¤šEditoræ‹“å±•ï¼Œæœ¬ç¯‡ä»…ä»‹ç»Toolbarçš„æ‹“å±•ï¼Œå…³äºŽToolbarçš„ä»‹ç»ï¼šhttps://github.com/arimger/Unity-Editor-Toolbox#toolbar- è¯¦ç»†ä»£ç ï¼šhttps://github.com/arimger/Unity-Editor-Toolbox/blob/master/Assets/Editor%20Toolbox/Editor/ToolboxEditorToolbar.cs å¦‚æžœåªéœ€è¦Toolbaræ‹“å±•ï¼Œåªéœ€è¦æŠŠè¿™ä¸€ä¸ªè„šæœ¬æ‹·è´åˆ°å·¥ç¨‹ä¸‹Editorç›®å½•ï¼Œå†å»ºä¸€ä¸ªæ·»åŠ Toolbarèœå•çš„è„šæœ¬ã€‚ 1234567891011121314using Toolbox.Editor;[UnityEditor.InitializeOnLoad]public static class MyEditorUtility&#123; static MyEditorUtility() &#123; ToolboxEditorToolbar.AddToolbarButton(new ToolbarButton(() =&gt; Debug.Log("1"), new GUIContent("1"))); ToolboxEditorToolbar.AddToolbarButton(new ToolbarButton(() =&gt; Debug.Log("2"), new GUIContent("2"))); ToolboxEditorToolbar.AddToolbarButton(new ToolbarButton(() =&gt; Debug.Log("3"), new GUIContent("3"))); ToolboxEditorToolbar.AddToolbarButton(new ToolbarButton(() =&gt; Debug.Log("4"), new GUIContent("4"))); ToolboxEditorToolbar.AddToolbarButton(new ToolbarButton(() =&gt; Debug.Log("5"), new GUIContent("5"))); &#125;&#125; è¿™ä¸ªä»“åº“çš„èœå•åªä¼šæ·»åŠ åœ¨å·¦ä¾§ã€‚ ç»è¿‡æµ‹è¯•ï¼ŒæŒ‰ç…§ä»“åº“è®¾è®¡çš„æŒ‰é’®å¤§å°ï¼Œåªå¤Ÿæ”¾ç½®7ä¸ªæŒ‰é’®ï¼Œå½“ç„¶å„ä¸ªunityç‰ˆæœ¬çš„Toolbarä¸­é—´çš„å®½åº¦ä¸ä¸€ï¼Œä¼šæœ‰ç‚¹å·®å¼‚ã€‚ CustomToolbarè¿™ä¸ªä»“åº“å®žçŽ°çš„è‡ªå®šä¹‰Toolbarç¤ºæ„å›¾å¦‚ä¸‹ï¼š ä»“åº“æ‹“å±•äº†5ä¸ªåŠŸèƒ½ï¼Œæ˜¯åŸºäºŽunity-toolbar-extenderå¼€å‘çš„ã€‚è¿™ä¸ªåº“æ”¯æŒå¾€å·¦å³ä¸¤è¾¹æ·»åŠ è‡ªå®šä¹‰èœå•ã€‚ è¿™äº”ä¸ªåŠŸèƒ½åŒ…å«åœ¨ä¸‹å›¾çš„è„šæœ¬ä¸­ ä¿ç•™ToolbarCallbackå’ŒToolbarExtenderè„šæœ¬ï¼Œé€šè¿‡å¾€ToolbarExtender.RightToolbarGUIå’ŒToolbarExtender.LeftToolbarGUIæ·»åŠ Actionï¼Œå³å¯ç»˜åˆ¶è‡ªå®šä¹‰çš„èœå•ã€‚ unity-toolbar-extender CustomToolbaråº“æ˜¯åŸºäºŽunity-toolbar-extenderçš„ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨è·Ÿå‰é¢è®²çš„ä¸€æ ·ã€‚è¿™ä¸ªåº“è‡ªå¸¦çš„æ˜¯ åˆ‡æ¢åœºæ™¯è¿è¡Œ Focus Sceneå¼€å…³ï¼Œå¦‚æžœæ‰“å¼€ï¼Œåˆ™è¿è¡Œæ¸¸æˆåŽï¼Œè‡ªåŠ¨Focus Scene View æ ¸å¿ƒä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public static class ToolbarCallback&#123; //åå°„èŽ·å–Toolbarç±»åž‹ static Type m_toolbarType = typeof(Editor).Assembly.GetType("UnityEditor.Toolbar"); //åå°„èŽ·å–GUIViewç±»åž‹ static Type m_guiViewType = typeof(Editor).Assembly.GetType("UnityEditor.GUIView"); static PropertyInfo m_viewVisualTree = m_guiViewType.GetProperty("visualTree", BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance); static FieldInfo m_imguiContainerOnGui = typeof(IMGUIContainer).GetField("m_OnGUIHandler", BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance); static ScriptableObject m_currentToolbar; /// &lt;summary&gt; /// Callback for toolbar OnGUI method. /// &lt;/summary&gt; public static Action OnToolbarGUI; static ToolbarCallback() &#123; EditorApplication.update -= OnUpdate; EditorApplication.update += OnUpdate; &#125; static void OnUpdate() &#123; // Relying on the fact that toolbar is ScriptableObject and gets deleted when layout changes if (m_currentToolbar == null) &#123; //èŽ·å–åˆ°åŽŸæœ‰çš„Toolbar var toolbars = Resources.FindObjectsOfTypeAll(m_toolbarType); m_currentToolbar = toolbars.Length &gt; 0 ? (ScriptableObject) toolbars[0] : null; if (m_currentToolbar != null) &#123; //èŽ·å–Toolbarçš„VisualTree var visualTree = (VisualElement) m_viewVisualTree.GetValue(m_currentToolbar, null); // Get first child which 'happens' to be toolbar IMGUIContainer var container = (IMGUIContainer) visualTree[0]; //é‡æ–°æ³¨å†Œhandler var handler = (Action) m_imguiContainerOnGui.GetValue(container); handler -= OnGUI; handler += OnGUI; m_imguiContainerOnGui.SetValue(container, handler); &#125; &#125; &#125; //è‡ªå®šä¹‰çš„ç»˜åˆ¶å‡½æ•° static void OnGUI() &#123; var handler = OnToolbarGUI; if (handler != null) handler(); &#125;&#125;]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ToolBar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-theme-butterflyæ‹“å±•å‹é“¾åˆ†ç±»]]></title>
    <url>%2F2020%2F04%2F05%2Fhexo-theme-butterfly-tuo-zhan-you-lian-fen-lei%2F</url>
    <content type="text"><![CDATA[hexo-theme-butterflyåˆ›å»ºå‹é“¾ç•Œé¢å…³äºŽå¦‚ä½•åˆ›å»ºå‹é“¾ç•Œé¢æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ https://jerryc.me/posts/dc584b87/#%E5%8F%8B%E6%83%85%E9%8F%88%E6%8E%A5 åˆ›å»ºåŽçš„æ•ˆæžœå°±åƒè¿™æ ·ï¼šhttp://www.jingfengji.tech/link/ å…¶ä¸­â€å‹æƒ…é“¾æŽ¥â€è¿™å››ä¸ªå­—æ˜¯åœ¨link.ymlçš„class_nameï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚link.ymlé‡Œçš„link_listå°±æ˜¯å‹é“¾çš„æ•°æ®äº†ã€‚ æ‹“å±•å‹é“¾åˆ†ç±»æ–°å»ºä¸€ä¸ªè·Ÿlink.ymlä¸€æ ·ç»“æž„çš„æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹ä¸ºgamedeveloper.ymlï¼Œæ”¾åœ¨source/_dataä¸­ï¼Œclass_nameæˆ‘æ”¹ä¸ºGame Developerã€‚ ç„¶åŽæ‰¾åˆ°flink.pugæ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢è¿™ä¸€æ®µä»£ç  ä¿®æ”¹å¤åˆ¶é‚£ä¸€æ®µçš„site.data.link ä¸­çš„linkä¸ºå‰é¢æ–°å»ºçš„gamedeveloper.ymlçš„æ–‡ä»¶åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132#page .flink#article-container each i in site.data.gamedeveloper h2= i.class_name .post-cards .md-links each item in i.link_list .md-links-item a(href=item.link title=item.name target="_blank") if theme.lazyload.enable img.lazyload(data-src=item.avatar onerror=`this.onerror=null;this.src='` + url_for(theme.lodding_bg.flink) + `'` alt=item.name ) else img(src=item.avatar onerror=`this.onerror=null;this.src='` + url_for(theme.lodding_bg.flink) + `'` alt=item.name ) .md-links-title= item.name .md-links-des= item.descr .flink#article-container each i in site.data.link h2= i.class_name .post-cards .md-links each item in i.link_list .md-links-item a(href=item.link title=item.name target="_blank") if theme.lazyload.enable img.lazyload(data-src=item.avatar onerror=`this.onerror=null;this.src='` + url_for(theme.lodding_bg.flink) + `'` alt=item.name ) else img(src=item.avatar onerror=`this.onerror=null;this.src='` + url_for(theme.lodding_bg.flink) + `'` alt=item.name ) .md-links-title= item.name .md-links-des= item.descr != page.content if page.comments !== false include includes/comments/index.pug != page.content è¿™ä¸€è¡Œä¸è¦å¤åˆ¶äº†ã€‚ æœ€ç»ˆæ•ˆæžœï¼šhttp://www.jingfengji.tech/link/ 2020.4.10 æ›´æ–°ç»ç¾¤å‹ äº‘çŽ©å®¶(https://blog.zplayer.cloud) æŒ‡æ•™ï¼Œä¸Šé¢æ–¹æ³•å¤æ‚äº†ï¼Œç›´æŽ¥åœ¨link.ymlé‡Œå¤åˆ¶ä¸€ä¸ªclasså³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä¸€ä¸ªclasså¯¹åº”ä¸€ä¸ªåˆ†ç±»ï¼Œæ•ˆæžœè·Ÿå‰é¢æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ–¹æ³•ç®€å•å¾—å¤šã€‚]]></content>
      <categories>
        <category>Hexo</category>
        <category>Hexo-Theme-Butterfly</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§-UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›žè°ƒäº‹ä»¶]]></title>
    <url>%2F2020%2F04%2F03%2Funity-mei-tian-yi-ge-xiao-ji-qiao-unitypackage-de-dao-ru-kai-shi-wan-cheng-qu-xiao-shi-bai-hui-diao-shi-jian%2F</url>
    <content type="text"><![CDATA[UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›žè°ƒäº‹ä»¶123456789101112131415161718192021222324252627282930using UnityEditor;using UnityEngine;[InitializeOnLoad]public static class UnityPackageImportListener&#123; static UnityPackageImportListener() &#123; // .unitypackageå¼€å§‹å¯¼å…¥ AssetDatabase.importPackageStarted += packageName =&gt; &#123; Debug.Log( packageName ); &#125;; // .unitypackageå¯¼å…¥å®Œæˆ AssetDatabase.importPackageCompleted += packageName =&gt; &#123; Debug.Log( packageName ); &#125;; // .unitypackageå–æ¶ˆå¯¼å…¥ AssetDatabase.importPackageCancelled += packageName =&gt; &#123; Debug.Log( packageName ); &#125;; // .unitypackageå¯¼å…¥å¤±è´¥ AssetDatabase.importPackageFailed += ( packageName, errorMessage ) =&gt; &#123; Debug.Log( errorMessage ); &#125;; &#125;&#125;]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§</category>
      </categories>
      <tags>
        <tag>UnityPackage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹SpriteAtlasè¯¦è§£]]></title>
    <url>%2F2020%2F03%2F29%2Funity-zhi-spriteatlas-xiang-jie%2F</url>
    <content type="text"><![CDATA[Unityä¹‹SpriteAtlasè¯¦è§£Unityå®˜æ–¹ä»‹ç»ï¼šhttps://docs.unity3d.com/Manual/class-SpriteAtlas.html SpriteAtlas Inspectoré¢æ¿å¦‚ä¸‹å›¾ï¼š åˆ›å»ºæ–¹æ³•ï¼š 1ã€Projecté¢æ¿é¼ æ ‡å³é”®Create-&gt;Sprite Atlas 2ã€èœå•æ Asset-&gt;Create-&gt;Sprite Atlas å±žæ€§ä»‹ç»:TypeSpriteAtlasæœ‰ä¸¤ç§ç±»åž‹ï¼ŒMasteræˆ–è€…Variantï¼Œé»˜è®¤ç±»åž‹æ˜¯MAsterï¼›Variantæ˜¯å˜ä½“ç±»åž‹ï¼Œåˆ›å»ºä¸€ä¸ªå˜ä½“å›¾é›†ï¼Œå¹¶å£°æ˜Žå®ƒæ˜¯é¡¹ç›®ä¸­ä¸€ä¸ªçŽ°æœ‰SpriteAtlasçš„å˜ä½“ï¼Œå¦‚ä¸‹å›¾ï¼Œå˜ä½“å›¾é›†å°†å¤åˆ¶æ¯ç‰ˆå›¾é›†çš„çº¹ç†ï¼Œç„¶åŽæ ¹æ®scaleè°ƒæ•´å˜ä½“å›¾é›†çš„å¤§å°ã€‚ Include in Buildé€‰ä¸­æ­¤å¤é€‰æ¡†ä»¥å°†Sprite Atlasèµ„äº§åŒ…å«åœ¨å½“å‰ç‰ˆæœ¬ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹å¯ç”¨æ­¤é€‰é¡¹ã€‚Scaleå˜ä½“å›¾é›†ç¼©æ”¾æ•°å€¼ï¼Œå€¼å¯ä»¥ä»Ž0.1åˆ°1Allow Rotationæ˜¯å¦å…è®¸Unityå°†æ‰“åŒ…åˆ°SpriteAtlasä¸­çš„Spriteè¿›è¡Œæ—‹è½¬ï¼Œå¦‚æžœå…è®¸ï¼Œå¯ä»¥æœ€å¤§åŒ–æé«˜å›¾é›†ä¸­Spriteçš„å¯†åº¦ï¼Œé»˜è®¤å…è®¸æ—‹è½¬ã€‚å¦‚æžœæ˜¯åœ¨UGUIä¸­ä½¿ç”¨SpriteAtlasï¼Œåº”è¯¥ç¦ç”¨æ—‹è½¬Tight Packingæ ¹æ®Spriteè½®å»“è€Œä¸æ˜¯é»˜è®¤çš„çŸ©å½¢è½®å»“æ‰“åŒ…Spriteï¼Œè¿›ä¸€æ­¥æé«˜å›¾é›†ä¸­Spriteçš„å¯†åº¦ï¼Œé»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œåœ¨UGUIä¸­ä½¿ç”¨SpriteAtlasåº”è¯¥ç¦ç”¨Paddingå›¾é›†ä¸­å„ä¸ªSpriteä¹‹é—´çš„åƒç´ è·ç¦»ï¼Œé¿å…å›¾é›†ä¸­å½¼æ­¤ç›¸é‚»çš„Spriteå‘ç”Ÿåƒç´ é‡å ã€‚é»˜è®¤ä¸º4åƒç´ ï¼Œæ”¯æŒ2ã€4ã€8ä¸‰ç§é€‰æ‹©ã€‚Objects For PackingUnityå°†æ­¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä¸ªå›¾é›†ã€‚æ”¯æŒæ‹–å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–è€…ä¸€ä¸ªå•ç‹¬çš„Spriteã€‚Sprite PackerSpritePackeré»˜è®¤æ˜¯å…³é—­çš„çŠ¶æ€ï¼Œåœ¨Edit -&gt; Project Settings -&gt; Editorä¸­å°†SpritePacker Modeæ›´æ”¹ä¸ºEnableï¼ŒAlways Enabledé€‰é¡¹å§‹ç»ˆæ‰“å¼€ã€‚æ‰“å¼€åŽå›žåˆ°SpriteAtlas Inspectoré¢æ¿ï¼Œç‚¹å‡»Pack PreviewæŒ‰é’®å°±å¯ä»¥åœ¨é¢„è§ˆçª—å£çœ‹åˆ°å›¾é›†äº†ã€‚Late Bindingä»Žè¯­ä¹‰æ¥çœ‹ç§°ä¹‹ä¸ºåŽæœŸç»‘å®šï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡Œæ—¶ä»¥ä¸å¼•ç”¨å›¾é›†çš„å½¢å¼å¯åŠ¨ï¼Œå¹¶ä¸”åœ¨ç»‘å®šå›¾é›†ä¹‹å‰å°†æ˜¾ç¤ºä¸ºç©ºç™½ã€‚å¦‚æžœåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å›¾é›†æ¥æºäºŽç½‘ç»œä¸‹è½½ï¼Œè¿™æ ·å°±å…è®¸ç”¨æˆ·è¿›è¡ŒåŽæœŸç»‘å®šäº†ã€‚Late Binding via callback1ã€Spriteæ‰“åŒ…åˆ°SpriteAtlasä¸­ï¼ŒSpriteAtlasæœªé€‰ä¸­Include In Buildï¼Œspriteåœ¨åœºæ™¯ä¸­å°±ä¸å¯è§ 2ã€SpriteAtlas.atlasRequestedè¿™ä¸ªå§”æ‰˜æ–¹æ³•æä¾›ä¸€ä¸ªå‘ŠçŸ¥ä¸Šå±‚é€»è¾‘è¦ç»‘å®šçš„å›¾é›†æ ‡ç­¾å’ŒåŒ…å«SpriteAtlasèµ„äº§çš„Actionï¼Œé€šè¿‡è¿™ä¸ªå§”æ‰˜ï¼Œä¸Šå±‚é€»è¾‘æ ¹æ®å›¾é›†æ ‡ç­¾è‡ªè¡ŒåŠ è½½ç®¡ç†å›¾é›†ï¼Œå¹¶å°†åŠ è½½å¥½çš„å›¾é›†é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°Actionå‘ŠçŸ¥ç»™åº•å±‚ã€‚è‡³äºŽå¦‚ä½•æ ¹æ®å›¾é›†æ ‡ç­¾åŠ è½½å›¾é›†ï¼Œä¸åœ¨æœ¬ç¯‡æ–‡ç« èŒƒå›´å†…ã€‚SpriteAtlas.atlasRequestedçš„ç¬¬ä¸€ä¸ªå‚æ•°stringç±»åž‹çš„tagå°±æ˜¯éœ€è¦åŠ è½½çš„å›¾é›†æ–‡ä»¶åï¼ŒSpriteAtlasæœ¬èº«æ— æ³•æŒ‡å®šTagã€‚ SpriteAtlas &amp; AssetBundleå–æ¶ˆInclue in buildé€‰é¡¹æ‰“åŒ…ï¼Œè¿è¡Œæ—¶ä½¿ç”¨SpriteAtlas.atlasRequestedå›žè°ƒå¾—åˆ°éœ€è¦åŠ è½½çš„å›¾é›†Tagï¼Œä½¿ç”¨è‡ªå·±é¡¹ç›®ä¸­çš„èµ„æºæ¨¡å—è¿›è¡ŒSpriteAtlasåŠ è½½åŽå¹¶æ‰§è¡Œå›žè°ƒä¼ ç»™åº•å±‚ã€‚ å‚è€ƒæ–‡ç« https://forum.unity.com/threads/about-include-in-build-behaviour.481433/]]></content>
      <categories>
        <category>Unity</category>
        <category>SpriteAtlas</category>
      </categories>
      <tags>
        <tag>SpriteAtlasè¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UnityTipsâ€”â€”Unityå°æŠ€å·§é›†åˆ]]></title>
    <url>%2F2019%2F12%2F21%2Funitytips-unity-xiao-ji-qiao-ji-he%2F</url>
    <content type="text"><![CDATA[AttributeRequiredAttributeæ•ˆæžœå›¾å¦‚ä¸‹ï¼šå½“å¼•ç”¨ç±»åž‹çš„propertyä¸ºç©ºæ—¶ï¼Œä½¿ç”¨çº¢è‰²æç¤ºã€‚ ä»£ç å¦‚ä¸‹ï¼š 1ã€RequiredAttribute.cs 12345using UnityEngine;public class RequiredAttribute : PropertyAttribute&#123; &#125; 2ã€RequiredDrawer.cs 1234567891011121314151617using UnityEditor;using UnityEngine;[CustomPropertyDrawer(typeof(RequiredAttribute))]public class RequiredDrawer : PropertyDrawer&#123; public override void OnGUI(Rect position, SerializedProperty property, GUIContent label) &#123; Color c = GUI.backgroundColor; if ((property.propertyType == SerializedPropertyType.ObjectReference || property.propertyType == SerializedPropertyType.ExposedReference) &amp;&amp; property.objectReferenceValue == null) &#123; GUI.backgroundColor = Color.red; &#125; EditorGUI.PropertyField(position, property); GUI.backgroundColor = c; &#125;&#125; 3ã€æµ‹è¯•è„šæœ¬RequiredAttributeDemo.cs 12345using UnityEngine;public class RequiredAttributeDemo : MonoBehaviour&#123; [Required] public Transform _transform;&#125; TipsDebug.Logæ—¥å¿—ç‚¹å‡»Debug.Log å®˜æ–¹æ–‡æ¡£ä»‹ç»åœ°å€ï¼šhttps://docs.unity3d.com/ScriptReference/Debug.Log.html è„šæœ¬æ”¹ç±»åï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶åRiderã€VSä½¿ç”¨å¿«æ·é”®Ctrl+R+Rï¼Œå¼¹å‡ºæ”¹åæ¡† ç¦»å¼€ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥è¿è¡Œæ¨¡å¼æ—¶ï¼Œä¿å­˜Sceneå’ŒAssets 12345678910111213141516171819202122using UnityEditor; using UnityEditor.SceneManagement; using UnityEngine; [InitializeOnLoad] public class AutoSave &#123; static AutoSave() &#123; EditorApplication.playModeStateChanged += SaveOnPlay; &#125; private static void SaveOnPlay(PlayModeStateChange state) &#123; if (state == PlayModeStateChange.ExitingEditMode) &#123; Debug.Log("Exiting Edit Mode,Auto Save..."); EditorSceneManager.SaveOpenScenes(); AssetDatabase.SaveAssets(); &#125; &#125; &#125; Unityå¤šè¯­è¨€ä¿®æ”¹èµ·å› ï¼šç¾¤å‹æƒ³ä¿®æ”¹AudioSourceç»„ä»¶çš„Inspectoré¢æ¿ä¸­Volumeå­—æ®µçš„æç¤ºå†…å®¹ã€‚ ç„¶åŽæˆ‘ä¸€æŸ¥Editorè„šæœ¬ï¼Œhttps://github.com/Unity-Technologies/UnityCsReference/blob/2019.3/Editor/Mono/Inspector/AudioSourceInspector.cs è¿™å†™æ­»äº†ï¼Œï¼Œï¼Œæ€Žä¹ˆæ”¹ã€‚ã€‚ã€‚ åŽæ¥ç¾¤å‹æé†’åˆ°UnityçŽ°åœ¨æ”¯æŒå¤šè¯­è¨€ï¼Œé‚£å°±ä¸‹è½½ä¸€ä¸ªä¸­æ–‡åŒ…çœ‹çœ‹ã€‚ ä¸­æ–‡åŒ…ä¸‹è½½ä¸‹æ¥æ˜¯ä¸Šå›¾ä¸­çš„ä¸€ä¸ª.poæ–‡ä»¶ çœ‹æ ·å­æ˜¯ä»¥ä¸€ä¸ªmsgidå¯¹åº”ä¸€ä¸ªmsgstrï¼Œmsgidå°±æ˜¯è‹±æ–‡çš„å†…å®¹ï¼Œmsgstrå°±æ˜¯å„è¯­è¨€çš„å†…å®¹äº†ã€‚ æŽ¥ç€æ‰¾â€Sets the overall volume of the sound.â€ å¯¹åº”çš„ä¸­æ–‡å†…å®¹å°±æ˜¯ä¸Šé¢äº†ã€‚ã€‚ é‚£ä¹ˆ.poæ–‡ä»¶è‡ªå·±ä¿®æ”¹åŽï¼Œé‡å¯UnityåŽå°±å¯ä»¥åº”ç”¨ä¸ŠåŽ»äº†ã€‚ æµ‹è¯•ä»¥ä¸‹: msgstr â€œè®¾ç½®å£°éŸ³çš„æ•´ä½“éŸ³é‡ã€‚â€ ä¿®æ”¹æˆ msgstr â€œè®¾ç½®å£°éŸ³çš„æ•´ä½“éŸ³é‡ã€‚ï¼ˆä¿®æ”¹ç‰ˆï¼‰â€ å¦‚ä¸Šå›¾ï¼Œä¿®æ”¹æˆåŠŸã€‚ é‚£ä¹ˆï¼Œå›žåˆ°é‚£ä½ç¾¤å‹çš„é—®é¢˜ï¼Œå¦‚æžœåªä¿®æ”¹é‚£ä¸ªVolumeçš„æç¤ºæ–‡æœ¬å‘¢ï¼Œå¾ˆç®€å•ï¼ŒæŠŠ.poæ–‡ä»¶çš„å…¶ä»–å†…å®¹éƒ½åˆ æŽ‰ï¼Œæ–‡ä»¶å¤´çš„å†…å®¹åˆ«åˆ äº†ï¼Œåªç•™ä¸‹è¿™ä¸ªmsgidå’Œmsgstrï¼Œåˆ«çš„éƒ½idå’Œstréƒ½åˆ äº†ï¼Œè¿™æ ·å°±å®žçŽ°äº†ä¿®æ”¹Volumeçš„æç¤ºæ–‡æœ¬äº†ã€‚ å¦‚ä¸‹å›¾ï¼š ä¸è¿‡ä¸­æ–‡çš„.poæ–‡ä»¶ æ˜¯ç”¨çš„ ä¸­æ–‡çš„å­—ä½“ï¼Œæ€»ä¹‹ï¼Œçœ‹ç€å°±æ˜¯åˆ«æ‰­ã€‚ã€‚ã€‚ æ·»åŠ è‡ªå®šä¹‰HeaderGUIå®˜æ–¹é“¾æŽ¥è¯´æ˜Ž 123456789101112131415161718192021222324using UnityEditor;[InitializeOnLoadAttribute]static class EditorHeaderGUID&#123; static EditorHeaderGUID() &#123; Editor.finishedDefaultHeaderGUI += DisplayGUIDIfPersistent; &#125; static void DisplayGUIDIfPersistent(Editor editor) &#123; if (!EditorUtility.IsPersistent(editor.target)) return; var guid = AssetDatabase.AssetPathToGUID(AssetDatabase.GetAssetPath(editor.target)); var totalRect = EditorGUILayout.GetControlRect(); var controlRect = EditorGUI.PrefixLabel(totalRect, EditorGUIUtility.TrTempContent("GUID")); if (editor.targets.Length &gt; 1) EditorGUI.LabelField(controlRect, EditorGUIUtility.TrTempContent("[Multiple objects selected]")); else EditorGUI.SelectableLabel(controlRect, guid); &#125;&#125; OnValidataæ•°æ®æ£€æŸ¥OnValidataå®˜æ–¹æ–‡æ¡£ä»‹ç» åœ¨ç¼–è¾‘å™¨ä¸­å¯ä»¥ä½¿ç”¨ OnValidate() å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œæ£€æŸ¥ã€‚ï¼ˆä»…ç¼–è¾‘çŠ¶æ€ä¸‹æœ‰æ•ˆï¼‰ 12345678910using UnityEngine;using System.Collections; public class OnValidateExample : MonoBehaviour &#123; public float validateTestValue; void OnValidate() &#123; //Check validateTestValue &#125;&#125; æ‹–æ‹½å¤šä¸ªå…ƒç´ åˆ° inspectorå¯ä»¥æ‹–æ‹½å…ƒç´ ç›´æŽ¥åŠ åˆ° inspector ä¸­åŽ»ï¼Œä½†æ˜¯é€‰æ‹©å¤šä¸ªå…ƒç´ çš„æ—¶å€™å°±ä¸å®¹æ˜“åšåˆ°äº†ï¼Œå…¶å®žæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯å…ˆé”å®š inspectorï¼Œå°±å¯ä»¥è½»æ˜“çš„å°†å¤šä¸ªå…ƒç´ ï¼ˆå¯¹è±¡ï¼‰æ‹–æ‹½åˆ° inspector ä¸­äº†ã€‚ ä½¿ç”¨ä»£ç èµ‹å€¼androidSplashScreen Unityæ²¡æœ‰æä¾›ç›´æŽ¥çš„æŽ¥å£ç»™è¿™ä¸ªèµ‹å€¼ï¼Œä»¥ä¸‹æä¾›å‡ ç§æ–¹æ³•ï¼Œç»™å®ƒèµ‹å€¼ã€‚ åå°„ ä½¿ç”¨File.ReadAllTextè¯»å–ProjectSettings.assetæ–‡ä»¶ï¼Œæ›¿æ¢æŽ‰androidSplashScreen: {fileID: 2800000, guid: 8d7f092f78c6bcb429a60803a22bf208, type: 3}å…¶ä¸­çš„guidä¸ºè‡ªå·±å›¾ç‰‡çš„guidï¼Œç„¶åŽä¿å­˜å³å¯ åŠ è½½ProjectSettingï¼Œä½¿ç”¨SerializedPropertyä¿®æ”¹å…¶androidSplashScreen.m_FileIDçš„intValueã€‚ ç¬¬ä¸‰ç§æ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415//åŠ è½½å›¾ç‰‡ï¼Œæ›¿æ¢è‡ªå·±çš„å›¾ç‰‡è·¯å¾„Texture2D tex = AssetDatabase.LoadAssetAtPath&lt;Texture2D&gt;("Assets/Logo/logo_default.png");//åŠ è½½ProjectSettingsconst string projectSettings = "ProjectSettings/ProjectSettings.asset";UnityEngine.Object obj = AssetDatabase.LoadAllAssetsAtPath(projectSettings)[0];SerializedObject psObj = new SerializedObject(obj);//èŽ·å–åˆ°androidSplashScreen PropertySerializedProperty androidSplashFileId = psObj.FindProperty("androidSplashScreen.m_FileID");if (androidSplashFileId != null)&#123; androidSplashFileId.intValue = tex.GetInstanceID();&#125;//ä¿å­˜ä¿®æ”¹psObj.ApplyModifiedProperties();AssetDatabase.SaveAssets(); ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚æœ¬ä¸»é¢˜æŒç»­æ›´æ–°ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UnityTips</category>
      </categories>
      <tags>
        <tag>UnityTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GameFrameworkæ¡†æž¶æºç è§£è¯»ï¼ˆä¸€ï¼‰ï¼šEditorç¯‡]]></title>
    <url>%2F2019%2F10%2F26%2Fgameframework-kuang-jia-yuan-ma-jie-du-yi-editor-pian%2F</url>
    <content type="text"><![CDATA[ç¬”è®°ç›®å½•@[toc] å‰è¨€æœ¬æ–‡å°†ä½¿ç”¨StarForceæ¡ˆä¾‹ï¼Œç»“åˆæºç å’ŒEditorç•Œé¢ä»‹ç»ä¸€ä¸‹GFä¸­æ‰€æœ‰çš„Editorç•Œé¢ï¼ˆåŒ…æ‹¬Inspectorï¼‰ï¼ŒæŒç»­æ›´æ–°ã€‚ StarForceåœ°å€ï¼šhttps://github.com/EllanJiang/StarForceGameFrameworkåœ°å€ï¼šhttps://github.com/EllanJiang/GameFrameworkUnityGameFrameworkåœ°å€ï¼šhttps://github.com/EllanJiang/UnityGameFrameworkGameFrameworkå®˜æ–¹ç½‘ç«™ï¼šhttp://gameframework.cn/ æœ¬æ–‡æ‰€è®²è§£çš„å†…å®¹å¦‚ä¸Žä½ ä½¿ç”¨çš„æ¡†æž¶ç‰ˆæœ¬æœ‰æ‰€å·®å¼‚ï¼Œè¯·é˜…è¯»æºç ï¼Œæºç å³æ–‡æ¡£ã€‚ã€‚ èœå•æ Game FrameworkOpen Folderå¾…ç»­ Scenes in Build Settingså¾…ç»­ Log Scripting Define Symbolså¾…ç»­ AssetBundle Tools AssetBundleå·¥å…·ç›¸å…³é…ç½®ABçš„XMLé…ç½®ä¸€å…±æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯AssetBundleEditor.xmlã€AssetBundleCollection.xmlã€AssetBundleBuilder.xmlåœ¨StarForceæ¡ˆä¾‹ä¸­ï¼Œå®ƒä»¬åœ¨Assets/GameMain/Configsæ–‡ä»¶ä¸­ï¼Œç„¶è€Œé…ç½®çš„é»˜è®¤è·¯å¾„å¹¶ä¸åœ¨è¿™é‡Œï¼Œè¿™ä¸ªè·¯å¾„æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚ 123456//AssetBundleEditorController.csæ–‡ä»¶ä¸­public AssetBundleEditorController()&#123; m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleEditorConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, "GameFramework/Configs/AssetBundleEditor.xml"); //...çœç•¥&#125; 1234567//AssetBundleCollection.csæ–‡ä»¶ä¸­public AssetBundleCollection()&#123; m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleCollectionConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, "GameFramework/Configs/AssetBundleCollection.xml"); m_AssetBundles = new SortedDictionary&lt;string, AssetBundle&gt;(); m_Assets = new SortedDictionary&lt;string, Asset&gt;();&#125; 123456//AssetBundleBuilderController.csæ–‡ä»¶ä¸­public AssetBundleBuilderController()&#123; m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleBuilderConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, "GameFramework/Configs/AssetBundleBuilder.xml"); //...çœç•¥&#125; ä»Žä¸Šé¢æ‘˜æŠ„çš„æºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¼šå…ˆé€šè¿‡Type.GetConfigurationPathæŽ¥å£ï¼ˆAssetBundleEditorConfigPathAttributeã€AssetBundleCollectionConfigPathAttributeã€AssetBundleBuilderConfigPathAttributeï¼‰æ‰¾åˆ°æœ¬åœ°å®šä¹‰çš„è·¯å¾„ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä½¿ç”¨åŽé¢çš„é»˜è®¤è·¯å¾„ã€‚ã€æ³¨ï¼šType.GetConfigurationPathæŽ¥å£è‡ªè¡Œçœ‹æºç ã€‘ è€Œåœ¨StarForceæ¡ˆä¾‹ä¸­ï¼ŒGameFrameworkConfigs.csæ¡ˆä¾‹ä¸­å®šä¹‰äº†è¿™å‡ ä¸ªè·¯å¾„ AssetBundleEditor.xmlé…ç½®æ ¼å¼ä»‹ç» 1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;UnityGameFramework&gt; &lt;AssetBundleEditor&gt; &lt;Settings&gt; &lt;!--é…ç½®èµ„æºæœç´¢çš„æ ¹ç›®å½•ï¼Œå¯ä»¥ä»ŽAssetsæ ¹éƒ¨å…¨éƒ¨æŸ¥æ‰¾ï¼Œå¯ä»¥é…ç½®æˆå­ç›®å½•--&gt; &lt;SourceAssetRootPath&gt;Assets/GameMain&lt;/SourceAssetRootPath&gt; &lt;!--é…ç½®èµ„æºæœç´¢çš„å­ç›®å½•ï¼Œç›¸å¯¹äºŽæ ¹ç›®å½•çš„è·¯å¾„ï¼Œæ”¯æŒé…ç½®å¤šä¸ªå­ç›®å½•ï¼Œå¦‚æžœä¸ºç©ºï¼Œåˆ™æœç´¢æ‰€æœ‰å­ç›®å½•--&gt; &lt;SourceAssetSearchPaths&gt; &lt;SourceAssetSearchPath RelativePath="" /&gt; &lt;/SourceAssetSearchPaths&gt; &lt;!--ç­›é€‰å¹¶åŒ…å«çš„èµ„æºç±»åž‹--&gt; &lt;SourceAssetUnionTypeFilter&gt;t:Scene t:Prefab t:Shader t:Model t:Material t:Texture t:AudioClip t:AnimationClip t:AnimatorController t:Font t:TextAsset t:ScriptableObject&lt;/SourceAssetUnionTypeFilter&gt; &lt;!--ç­›é€‰å¹¶åŒ…å«çš„æ ‡ç­¾ç±»åž‹--&gt; &lt;SourceAssetUnionLabelFilter&gt;l:AssetBundleInclusive&lt;/SourceAssetUnionLabelFilter&gt; &lt;!--ç­›é€‰å¹¶æŽ’é™¤çš„èµ„æºç±»åž‹--&gt; &lt;SourceAssetExceptTypeFilter&gt;t:Script&lt;/SourceAssetExceptTypeFilter&gt; &lt;!--ç­›é€‰å¹¶æŽ’é™¤çš„æ ‡ç­¾ç±»åž‹--&gt; &lt;SourceAssetExceptLabelFilter&gt;l:AssetBundleExclusive&lt;/SourceAssetExceptLabelFilter&gt; &lt;!--ç¼–è¾‘å™¨ä¸­èµ„æºåˆ—è¡¨çš„æŽ’åºï¼Œå¯ä»¥æ˜¯Name(èµ„æºæ–‡ä»¶åï¼‰ï¼ŒPathï¼ˆèµ„æºå…¨è·¯å¾„ï¼‰ï¼ŒGuidï¼ˆèµ„æºGuidï¼‰--&gt; &lt;AssetSorter&gt;Path&lt;/AssetSorter&gt; &lt;/Settings&gt; &lt;/AssetBundleEditor&gt;&lt;/UnityGameFramework&gt; AssetBundleEditorController.csä¸­çš„ScanSourceAssetså°±æ˜¯é€šè¿‡ä»¥ä¸Šé…ç½®æœç´¢ç­›é€‰çš„èµ„æºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940public void ScanSourceAssets()&#123; m_SourceAssets.Clear(); m_SourceAssetRoot.Clear(); string[] sourceAssetSearchPaths = m_SourceAssetSearchPaths.ToArray(); HashSet&lt;string&gt; tempGuids = new HashSet&lt;string&gt;(); //AssetDatabase.FindAssetsæŽ¥å£è¿”å›žçš„æ˜¯æœç´¢åˆ°çš„èµ„æºåˆ—è¡¨çš„guidæ•°ç»„ï¼Œåœ¨Projectçš„æœç´¢æ ä¸­è¾“å…¥t:prefabä¹Ÿæ˜¯è¿›è¡Œè¿™ä¸ªæŽ¥å£çš„æ“ä½œ //ç­›é€‰å¹¶åŒ…å«æŒ‡å®šç±»åž‹çš„èµ„æº tempGuids.UnionWith(AssetDatabase.FindAssets(SourceAssetUnionTypeFilter, sourceAssetSearchPaths)); //ç­›é€‰å¹¶åŒ…å«æŒ‡å®šæ ‡ç­¾çš„èµ„æº tempGuids.UnionWith(AssetDatabase.FindAssets(SourceAssetUnionLabelFilter, sourceAssetSearchPaths)); //ç­›é€‰å¹¶æŽ’é™¤æŒ‡å®šç±»åž‹çš„èµ„æº tempGuids.ExceptWith(AssetDatabase.FindAssets(SourceAssetExceptTypeFilter, sourceAssetSearchPaths)); //ç­›é€‰å¹¶æŽ’é™¤æŒ‡å®šæ ‡ç­¾çš„èµ„æº tempGuids.ExceptWith(AssetDatabase.FindAssets(SourceAssetExceptLabelFilter, sourceAssetSearchPaths)); string[] assetGuids = new List&lt;string&gt;(tempGuids).ToArray(); foreach (string assetGuid in assetGuids) &#123; string fullPath = AssetDatabase.GUIDToAssetPath(assetGuid); if (AssetDatabase.IsValidFolder(fullPath)) &#123; // Skip folder. continue; &#125; string assetPath = fullPath.Substring(SourceAssetRootPath.Length + 1); string[] splitPath = assetPath.Split('/'); SourceFolder folder = m_SourceAssetRoot; for (int i = 0; i &lt; splitPath.Length - 1; i++) &#123; SourceFolder subFolder = folder.GetFolder(splitPath[i]); folder = subFolder == null ? folder.AddFolder(splitPath[i]) : subFolder; &#125; SourceAsset asset = folder.AddAsset(assetGuid, fullPath, splitPath[splitPath.Length - 1]); m_SourceAssets.Add(asset.Guid, asset); &#125;&#125; ç›®å‰å®˜æ–¹æ²¡æœ‰æä¾›è¿™ä¸ªé…ç½®çš„ç¼–è¾‘å·¥å…·ï¼Œéœ€æ‰‹åŠ¨ç¼–è¾‘xmlæ–‡ä»¶ã€‚æ‰“å¼€AssetBundleEditorçª—å£åŽï¼Œæ ¹æ®ä»¥ä¸Šé…ç½®ç­›é€‰èµ„æºå½¢æˆç•Œé¢çš„å³ä¾§æ ‘çŠ¶å›¾ã€‚ AssetBundleCollection.xmlè¿™ä¸ªæ–‡ä»¶æ˜¯é€šè¿‡AssetBundleEditorå·¥å…·ç¼–è¾‘å¥½ABåŽï¼Œç”Ÿæˆçš„æ–‡ä»¶ã€‚é‡Œé¢ç”¨æ¥è®°å½•åŒ…å«äº†å“ªäº›ABï¼ŒABä¸­åˆ†åˆ«åˆåŒ…å«äº†å“ªäº›èµ„æºï¼Œä¹Ÿå°±æ˜¯å¯¹åº”äº†AssetBundleEditorçª—å£çš„å·¦ä¾§åˆ—è¡¨ã€‚ å…¶ä¸­çœ‹ä¸€ä¸‹AssetBundleå’ŒAssetä¸­åŒ…å«çš„å†…å®¹ï¼š AssetBundleï¼šï¼ˆ1ï¼‰Nameï¼šABçš„åç§°ï¼Œä¸»æŒè·¯å¾„ï¼ˆ2ï¼‰LoadTypeï¼šABçš„åŠ è½½æ–¹å¼ï¼Œå¯¹åº”ä¸‹é¢çš„æžšä¸¾ 12345678910111213141516171819202122232425/// &lt;summary&gt;/// èµ„æºåŠ è½½æ–¹å¼ç±»åž‹ã€‚/// &lt;/summary&gt;public enum AssetBundleLoadType&#123; /// &lt;summary&gt; /// ä»Žæ–‡ä»¶åŠ è½½ã€‚ /// &lt;/summary&gt; LoadFromFile = 0, /// &lt;summary&gt; /// ä»Žå†…å­˜åŠ è½½ã€‚ /// &lt;/summary&gt; LoadFromMemory, /// &lt;summary&gt; /// ä»Žå†…å­˜å¿«é€Ÿè§£å¯†åŠ è½½ã€‚ /// &lt;/summary&gt; LoadFromMemoryAndQuickDecrypt, /// &lt;summary&gt; /// ä»Žå†…å­˜è§£å¯†åŠ è½½ã€‚ /// &lt;/summary&gt; LoadFromMemoryAndDecrypt,&#125; ï¼ˆ3ï¼‰Variantï¼šå˜ä½“ï¼ˆ4ï¼‰ResourceGroupsï¼šèµ„æºç»„ Asset:ï¼ˆ1ï¼‰Guidï¼šèµ„æºçš„guidï¼ˆ2ï¼‰AssetBundleNameï¼šé…ç½®ä¸­ä¸Šé¢æ‰€è®°å½•çš„AssetBundleNameï¼ˆ3ï¼‰AssetBundleVariantï¼šå˜ä½“ æ‰“å¼€AssetBundleEditorçª—å£åŽï¼Œè§£æžè¯¥é…ç½®ï¼Œå½¢æˆçª—å£å·¦ä¾§çš„æ ‘çŠ¶å›¾ã€‚ AssetBundleBuilder.xmlè¯¥é…ç½®ç”¨æ¥å­˜å‚¨ABæ‰“åŒ…é…ç½®ã€‚ç•Œé¢å¦‚ä¸‹å›¾ï¼š 12345678910111213141516171819202122232425262728293031&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;UnityGameFramework&gt; &lt;AssetBundleBuilder&gt; &lt;Settings&gt; &lt;!--å†…éƒ¨èµ„æºç‰ˆæœ¬å·ï¼ˆInternal Resource Versionï¼‰å»ºè®®æ¯æ¬¡è‡ªå¢ž 1 å³å¯ï¼ŒGame Framework åˆ¤å®šèµ„æºåŒ…æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œæ˜¯ä½¿ç”¨æ­¤ç¼–å·ä½œä¸ºåˆ¤å®šä¾æ®çš„ã€‚--&gt; &lt;InternalResourceVersion&gt;0&lt;/InternalResourceVersion&gt; &lt;!--æ‰“åŒ…å¹³å°--&gt; &lt;Platforms&gt;1&lt;/Platforms&gt; &lt;!--Zip All AssetBundlesæ˜¯å¦å‹¾é€‰ï¼Œtrueä¸ºå‹¾é€‰ï¼Œfalseä¸ºä¸å‹¾é€‰--&gt; &lt;ZipSelected&gt;True&lt;/ZipSelected&gt; &lt;!--ä»¥ä¸‹å‡ ä¸ªé…ç½®åˆ†åˆ«å¯¹åº”AssetBundleOptionsçš„å‡ ä¸ªOptionæ˜¯å¦å‹¾é€‰ï¼Œtrueä¸ºå‹¾é€‰ï¼Œfalseä¸ºä¸å‹¾é€‰--&gt; &lt;UncompressedAssetBundleSelected&gt;False&lt;/UncompressedAssetBundleSelected&gt; &lt;DisableWriteTypeTreeSelected&gt;False&lt;/DisableWriteTypeTreeSelected&gt; &lt;DeterministicAssetBundleSelected&gt;True&lt;/DeterministicAssetBundleSelected&gt; &lt;ForceRebuildAssetBundleSelected&gt;False&lt;/ForceRebuildAssetBundleSelected&gt; &lt;IgnoreTypeTreeChangesSelected&gt;False&lt;/IgnoreTypeTreeChangesSelected&gt; &lt;AppendHashToAssetBundleNameSelected&gt;False&lt;/AppendHashToAssetBundleNameSelected&gt; &lt;ChunkBasedCompressionSelected&gt;True&lt;/ChunkBasedCompressionSelected&gt; &lt;!--Packageè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt; &lt;OutputPackageSelected&gt;True&lt;/OutputPackageSelected&gt; &lt;!--Fullè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt; &lt;OutputFullSelected&gt;False&lt;/OutputFullSelected&gt; &lt;!--Packedè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt; &lt;OutputPackedSelected&gt;False&lt;/OutputPackedSelected&gt; &lt;!--Build Event Handlerç±»åž‹åç§°--&gt; &lt;BuildEventHandlerTypeName&gt;StarForce.Editor.StarForceBuildEventHandler&lt;/BuildEventHandlerTypeName&gt; &lt;!--ABè¾“å‡ºè·¯å¾„--&gt; &lt;OutputDirectory&gt;&lt;/OutputDirectory&gt; &lt;/Settings&gt; &lt;/AssetBundleBuilder&gt;&lt;/UnityGameFramework&gt; AssetBundle Editorèœå•è·¯å¾„ï¼šGame Framework/AssetBundle Tools/AssetBundle Editorç•Œé¢åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†:AssetBundleListã€AssetBundleContentã€Asset ListAssetBundleListæ˜¯é€šè¿‡è¯»å–è§£æžAssetBundleCollection.xmlï¼ŒAsset Listæ˜¯é€šè¿‡AssetBundleEditor.xmlé‡Œçš„é…ç½®ç­›é€‰èµ„æºè€Œæ¥ï¼Œè€ŒAssetBundleContentéƒ¨åˆ†åœ¨æ˜¯é€‰ä¸­AssetBundleListé‡Œçš„ä¸€ä¸ªABåŽæ˜¾ç¤ºè¢«é€‰ä¸­çš„ABé‡ŒåŒ…å«çš„èµ„æºã€‚è¿™ä¸‰ä¸ªéƒ¨åˆ†ä¸‹é¢éƒ½æœ‰å¯¹åº”çš„å·¥å…·èœå•ã€‚ å®˜æ–¹æ–‡æ¡£ï¼šä½¿ç”¨ AssetBundle ç¼–è¾‘å·¥å…· AssetBundleListï¼ˆ1ï¼‰ä»¥AssetBundlesä¸ºæ ¹ç»“ç‚¹ï¼ˆ2ï¼‰è¿™äº›ABçš„ç»“ç‚¹å±‚çº§è·¯å¾„è¡¨ç¤ºæ‰“åŒ…åŽçš„èµ„æºç›¸å¯¹è·¯å¾„ï¼ˆ3ï¼‰ABçš„å±‚çº§è·¯å¾„å‚è€ƒAssetBundleçš„Nameå±žæ€§ï¼Œä¹Ÿå°±æ˜¯AssetBundleCollection.xmlé…ç½®ä¸­çš„AssetBundleçš„Nameï¼ˆ4ï¼‰ABç»“ç‚¹çš„åç§°å‰ç¼€[Packed]è¡¨ç¤ºå…¶Packedï¼Œå‚è€ƒAssetBundleEditorè„šæœ¬ä¸­çš„DrawAssetBundleItemå‡½æ•°ï¼ˆ5ï¼‰ABç»“ç‚¹çš„åç§°åŽé¢ â€œ.{å˜ä½“å}â€ï¼Œä¾‹å¦‚StarForceä¾‹å­ä¸­çš„Dictionaries.en-usè¿™ä¸ªABä¸­çš„en-usè¡¨ç¤ºå…¶å˜ä½“åï¼ˆ6ï¼‰é€šè¿‡é€‰ä¸­ABåŽï¼Œç‚¹å‡»ä¸‹æ–¹çš„RenameæŒ‰é’®ï¼Œåœ¨ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥å±‚çº§åç§°ï¼Œå³å¯æ›´æ”¹å…¶ç›¸å¯¹è·¯å¾„ï¼Œç¬¬äºŒä¸ªè¾“å…¥æ¡†æ˜¯å˜ä½“åã€‚ç‚¹å‡»åŽé¢okæŒ‰é’®æˆ–è€…æŒ‰å›žè½¦å‡å¯æ”¹åã€‚ï¼ˆ7ï¼‰ä¸æ”¯æŒå¤šé€‰ã€ä¸æ”¯æŒæ‹–æ‹½ä¿®æ”¹ç›¸å¯¹è·¯å¾„ã€‚ AssetBundleContentï¼ˆ1ï¼‰æ˜¾ç¤ºå·¦ä¾§é€‰ä¸­çš„ABé‡Œæ‰€åŒ…å«çš„èµ„æºæ¸…å•ï¼ˆ2ï¼‰Allï¼šå…¨éƒ¨é€‰ä¸­ï¼ˆ3ï¼‰Noneï¼šå…¨éƒ¨ä¸é€‰ä¸­ï¼ˆ4ï¼‰AssetSorterTypeæžšä¸¾ä¸‹æ‹‰æ¡† 123456public enum AssetSorterType&#123; Path, Name, Guid,&#125; é™¤äº†ä¿®æ”¹æŽ’åºå¤–ï¼Œè¿˜ä¼šä¿®æ”¹è¿™ä¸ªç•Œé¢æ˜¾ç¤ºçš„å†…å®¹ï¼ŒPathå¯¹åº”èµ„æºè·¯å¾„ï¼ŒNameå¯¹åº”èµ„æºåï¼ŒGuidè‡ªç„¶æ˜¯èµ„æºçš„Guidã€‚ï¼ˆ5ï¼‰å³è¾¹çš„ 0 &gt;&gt; æŒ‰é’®ï¼Œæ•°å­—è¡¨ç¤ºå‹¾é€‰çš„èµ„æºæ•°é‡ï¼Œ&gt;&gt; è¡¨ç¤ºå°†é€‰ä¸­çš„èµ„æºç§»é™¤è¿™ä¸ªABï¼Œè¿˜ç»™å³ä¾§çš„Asset Listã€‚ï¼ˆåˆæ²¡æœ‰å€Ÿï¼Œå“ªæ¥çš„è¿˜ã€‚ã€‚ä¸è¿‡&gt;&gt;å¾ˆå½¢è±¡å˜›ã€‚ã€‚ï¼‰ Asset Listèµ„æºæ ‘çŠ¶è§†å›¾ï¼Œæ”¯æŒå¤šé€‰ï¼ˆ1ï¼‰èµ„æºå¦‚æžœåŒ…å«åœ¨æŸä¸ªABé‡Œï¼Œå…¶åŽé¢ä¼šæœ‰AssetBundle Nameï¼ˆ2ï¼‰&lt;&lt;0 æŒ‰é’®ï¼šåŒç†ï¼Œæ•°å­—è¡¨ç¤ºé€‰ä¸­çš„èµ„æºæ•°é‡ã€‚åŠŸèƒ½åœ¨äºŽå°†é€‰ä¸­çš„èµ„æº ç»™å·¦ä¾§é€‰ä¸­çš„Aç‰ˆä¸­ï¼Œå¦‚æžœæ­¤å‰èµ„æºå·²ç»åœ¨åˆ«çš„ABä¸­ï¼Œåˆ™ä¼šå…ˆç§»å‡ºã€‚æœªé€‰ä¸­èµ„æº å’Œ æœªé€‰ä¸­AB è¿™ä¸¤ç§æƒ…å†µå‡æ— æ³•ç‚¹å‡»è¯¥æŒ‰é’®ã€‚ï¼ˆ3ï¼‰&lt;&lt;&lt; 0 æŒ‰é’®ï¼šåŒç†ï¼Œæ•°å­—è¡¨ç¤ºé€‰ä¸­çš„èµ„æºæ•°é‡ã€‚é‚£ä¹ˆä¸Žä¸Šé¢æŒ‰é’®æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿï¼ˆä¸å°±å¤šäº†ä¸€ä¸ª &lt; å—ï¼Œéš¾é“ä¸€ä¸ª &lt;&lt; è¡¨ç¤ºç§»åˆ°ä¸­é—´çš„Asset Listï¼Œå¤šäº†ä¸€ä¸ª &lt; è¿˜èƒ½ç§»åˆ° AssetBundleList ä¸­å—ã€‚ã€‚ï¼‰è¿™ä¸ªæŒ‰é’®ç”¨äºŽæ‰¹é‡æ·»åŠ ABï¼Œå°†é€‰ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºä½œä¸º AssetBundle åæ¥åˆ›å»º AssetBundleï¼Œå¹¶å°†è‡ªèº«åŠ å…¥åˆ°å¯¹åº”çš„ AssetBundle é‡Œã€‚ï¼ˆ4ï¼‰Hie Assigneï¼šéšè—å·²ç»å­˜åœ¨äºŽ AssetBundle ä¸­çš„èµ„æºï¼Œåªåˆ—å‡ºå°šæœªæŒ‡å®š AssetBundle çš„èµ„æºã€‚ï¼ˆ5ï¼‰Cleanï¼šä»Žæ‰€æœ‰çš„ AssetBundle ä¸­æ¸…ç†æ— æ•ˆçš„èµ„æºï¼Œå¹¶ç§»é™¤æ‰€æœ‰ç©ºçš„ AssetBundleã€‚å»ºè®® Save å‰æ€»æ˜¯ç‚¹ä¸€ä¸‹ Clean æŒ‰é’®ï¼Œå› ä¸ºæž„å»º AssetBundle çš„æ—¶å€™ï¼ŒUnity ä¸å…è®¸å­˜åœ¨æ— æ•ˆçš„èµ„æºæˆ–è€…ç©ºçš„ AssetBundleã€‚ç©ºçš„ABåœ¨å·¦ä¾§ä¸­ä¼šæ˜¾ç¤ºæˆç°è‰²ï¼Œä¼šå¯¼è‡´æ‰“åŒ…å¤±è´¥ã€‚ï¼ˆ6ï¼‰Saveï¼šä¿å­˜å½“å‰æ‰€æœ‰ AssetBundle å’Œèµ„æºçš„çŠ¶æ€ã€‚æ³¨æ„ä¿å­˜ AssetBundle Analyzerå¾…ç»­ã€‚ AssetBundle Builder ç•Œé¢åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š Environment Informationï¼šå·¥ç¨‹çš„åŸºæœ¬ä¿¡æ¯ï¼ˆ1ï¼‰ProductNameï¼šPlayerSettings.productNameï¼ˆ2ï¼‰Company Nameï¼šPlayerSettings.companyNameï¼ˆ3ï¼‰Game Identifierï¼š 1234567891011public string GameIdentifier&#123; get &#123;#if UNITY_5_6_OR_NEWER return PlayerSettings.applicationIdentifier;#else return PlayerSettings.bundleIdentifier;#endif &#125;&#125; ï¼ˆ4ï¼‰Applicable Game Versionï¼šApplication.versionä»¥ä¸Šè¿™äº›æ•°æ®åœ¨File-&gt;Build Settings-&gt;Player Settingsä¸­å¯ä»¥çœ‹åˆ° Platformsï¼šæ‰“åŒ…å¹³å°å‹¾é€‰ï¼Œæ”¯æŒå¤šé€‰å¦‚æžœä¸€ä¸ªå¹³å°éƒ½ä¸å‹¾é€‰ï¼Œç•Œé¢ä¸‹æ–¹ä¼šå‡ºçŽ°çº¢è‰²è­¦å‘Šï¼šPlatform undefined. AssetBundle Optionsï¼šå‚è€ƒUnityEditor.BuildAssetBundleOptionsæžšä¸¾å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼šhttps://docs.unity3d.com/ScriptReference/BuildAssetBundleOptions.htmlï¼Œæ­¤å¤„ä¸å†èµ˜è¿°AssetBundleBuilderController.csè„šæœ¬ä¸­çš„GetBuildAssetBundleOptionså‡½æ•°ä¼šå°†è¿™é‡Œå‹¾é€‰çš„é€‰é¡¹è½¬æ¢ä¸ºBuildAssetBundleOptions 123456789101112131415161718192021222324252627282930313233private BuildAssetBundleOptions GetBuildAssetBundleOptions()&#123; BuildAssetBundleOptions buildOptions = BuildAssetBundleOptions.None; if (UncompressedAssetBundleSelected) &#123; buildOptions |= BuildAssetBundleOptions.UncompressedAssetBundle; &#125; if (DisableWriteTypeTreeSelected) &#123; buildOptions |= BuildAssetBundleOptions.DisableWriteTypeTree; &#125; if (DeterministicAssetBundleSelected) &#123; buildOptions |= BuildAssetBundleOptions.DeterministicAssetBundle; &#125; if (ForceRebuildAssetBundleSelected) &#123; buildOptions |= BuildAssetBundleOptions.ForceRebuildAssetBundle; &#125; if (IgnoreTypeTreeChangesSelected) &#123; buildOptions |= BuildAssetBundleOptions.IgnoreTypeTreeChanges; &#125; if (AppendHashToAssetBundleNameSelected) &#123; buildOptions |= BuildAssetBundleOptions.AppendHashToAssetBundleName; &#125; if (ChunkBasedCompressionSelected) &#123; buildOptions |= BuildAssetBundleOptions.ChunkBasedCompression; &#125; return buildOptions;&#125; è¿™ä¸ªBuildAssetBundleOptionsæœ€ç»ˆæ˜¯ä¼ ç»™äº†BuildPipeline.BuildAssetBundleå‡½æ•°ã€‚ç”±äºŽæž„å»ºè¿‡ç¨‹éœ€è¦å¯¹ç”Ÿæˆçš„ AssetBundle åç§°è¿›è¡Œå¤„ç†ï¼Œæ•…è¿™é‡Œä¸å…è®¸ä½¿ç”¨ Append Hash To AssetBundle Name é€‰é¡¹ã€‚ Zip All AssetBundles : åŽ‹ç¼©æ‰€æœ‰ AssetBundlesï¼ˆZip All AssetBundlesï¼‰ç”¨äºŽæŒ‡å®šæž„å»º AssetBundle åŽï¼Œæ˜¯å¦è¿›ä¸€æ­¥ä½¿ç”¨ Zip åŽ‹ç¼© AssetBundle åŒ…ã€‚ Buildéƒ¨åˆ†: Build Event Handlerï¼šè¿™é‡Œä¼šæ˜¾ç¤ºä¸€ä¸ªå®žçŽ°äº†IBuildEventHandleræŽ¥å£çš„æ‰€æœ‰TypeNameçš„ä¸‹æ‹‰æ¡†ï¼Œä¾‹å¦‚StarForceå·¥ç¨‹ä¸­StarForceBuildEventHandlerç±»æŽ¥å£åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼šï¼ˆ1ï¼‰ContinueOnFailureï¼šèŽ·å–å½“æŸä¸ªå¹³å°ç”Ÿæˆå¤±è´¥æ—¶ï¼Œæ˜¯å¦ç»§ç»­ç”Ÿæˆä¸‹ä¸€ä¸ªå¹³å°ã€‚ï¼ˆ2ï¼‰PreprocessAllPlatformsï¼šæ‰€æœ‰å¹³å°ç”Ÿæˆå¼€å§‹å‰çš„é¢„å¤„ç†äº‹ä»¶ï¼ˆ3ï¼‰PostprocessAllPlatformsï¼šæ‰€æœ‰å¹³å°ç”Ÿæˆç»“æŸåŽçš„åŽå¤„ç†äº‹ä»¶ï¼ˆ4ï¼‰PreprocessPlatformï¼šæŸä¸ªå¹³å°ç”Ÿæˆå¼€å§‹å‰çš„é¢„å¤„ç†äº‹ä»¶ï¼ˆ5ï¼‰PostprocessPlatformï¼šæŸä¸ªå¹³å°ç”Ÿæˆç»“æŸåŽçš„åŽå¤„ç†äº‹ä»¶å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šä¹‰ä¸åŒçš„Handlerã€‚ä¾‹å¦‚ï¼šStarForceæ¡ˆä¾‹ä¸­ï¼šPreprocessAllPlatformså‡½æ•°ä¸­æ¸…ç©ºäº†StreamingAssetsæ–‡ä»¶å¤¹ã€‚PostprocessPlatformå‡½æ•°ä¸­æŠŠoutputPackagePathé‡Œçš„æ–‡ä»¶ç»™æ‹·è´åˆ°å·¥ç¨‹çš„StreamingAssetsç›®å½•ä¸‹ã€‚ Internal Resource Version:å†…éƒ¨èµ„æºç‰ˆæœ¬å·ï¼ˆInternal Resource Versionï¼‰å»ºè®®æ¯æ¬¡è‡ªå¢ž 1 å³å¯ï¼ŒGame Framework åˆ¤å®šèµ„æºåŒ…æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œæ˜¯ä½¿ç”¨æ­¤ç¼–å·ä½œä¸ºåˆ¤å®šä¾æ®çš„ã€‚ Resource Version:èµ„æºç‰ˆæœ¬å·ï¼ˆResource Versionï¼‰æ ¹æ®å½“å‰ App ç‰ˆæœ¬å·å’Œå†…éƒ¨èµ„æºç‰ˆæœ¬å·è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸ä¼šå­˜å‚¨åœ¨AssetBundleBuilder.xmlä¸­ã€‚ Output Directoryï¼šè¾“å‡ºç›®å½•ï¼ˆOutput Directoryï¼‰ç”¨äºŽæŒ‡å®šæž„å»ºè¿‡ç¨‹çš„ç»“æžœè¾“å‡ºç›®å½•ï¼Œç»å¯¹è·¯å¾„ï¼Œæ”¯æŒç›´æŽ¥è¾“å…¥ï¼ˆè®°å¾—å›žè½¦ï¼‰,å³è¾¹BrowseæŒ‰é’®å¯ä»¥é€‰æ‹©è·¯å¾„ã€‚å¦‚æžœè·¯å¾„æ— æ•ˆï¼Œä¸‹æ–¹ä¼šæç¤ºOutput directory is invalid. Output Directoryé€‰ä¸­åŽï¼Œä¸‹æ–¹ä¼šå‡ºçŽ°Working Pathã€Output Package Pathã€Output Full Pathã€Output Packed Pathã€Build Report Pathè¿™äº”ä¸ªå­è·¯å¾„ã€‚ å½“è¿™äº›é…ç½®éƒ½é…å¥½åŽï¼Œå°±ä¼šå‡ºçŽ°æç¤ºï¼šReady to build.ç‚¹å‡»Start Build AssetBundlesæŒ‰é’®å¼€å§‹æ‰“åŒ…ï¼Œç‚¹å‡»SaveæŒ‰é’®ä¿å­˜é…ç½®åˆ°AssetBundleBuilder.xmlé…ç½®ä¸­ã€‚ æ‰“åŒ…æˆåŠŸï¼š æ‰“åŒ…å®ŒåŽï¼Œå†æ¥ä»‹ç»è¿™äº”ä¸ªç›®å½•:ï¼ˆ1ï¼‰BuildReportï¼šè¯¥ç›®å½•åŒ…å«äº†ä¸¤ä¸ªæ–‡ä»¶ï¼ŒBuildLog.txtå’ŒBuildReport.xmlã€‚BuildLog.txtç”¨æ¥è®°å½•æ‰“åŒ…æ—¥å¿—ï¼Œæ‰“åŒ…å¤±è´¥çš„æ—¶å€™å¯ä»¥é€šè¿‡æŸ¥çœ‹è¯¥æ—¥å¿—æ¥åˆ¤æ–­æ˜¯å“ªä¸€æ­¥å‡ºçŽ°äº†é—®é¢˜ã€‚AssetBundleBuilderControllerè„šæœ¬ä¸­é€šè¿‡m_BuildReport.LogInfoæŽ¥å£è¿›è¡Œæ—¥å¿—è®°å½•ã€‚è€ŒBuildReport.xmlæ–‡ä»¶åˆ™ç”¨æ¥è®°å½•æœ¬æ¬¡æ‰“åŒ…è®¾ç½®ã€æœ¬æ¬¡æ‰“åŒ…çš„ABä¿¡æ¯ã€ABä¸­åŒ…å«çš„Assetä¿¡æ¯ç­‰ç­‰ã€‚ï¼ˆ2ï¼‰Full:ä¸ºå¯æ›´æ–°æ¨¡å¼ç”Ÿæˆçš„å®Œæ•´æ–‡ä»¶åŒ…ï¼ˆ3ï¼‰Packageï¼šä¸ºå•æœºæ¨¡å¼ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè‹¥æ¸¸æˆæ˜¯å•æœºæ¸¸æˆï¼Œç”Ÿæˆç»“æŸåŽå°†æ­¤ç›®å½•ä¸­å¯¹åº”å¹³å°çš„æ–‡ä»¶æ‹·è´è‡³ StreamingAssets åŽæ‰“åŒ… App å³å¯ã€‚ï¼ˆ4ï¼‰Packedï¼šä¸ºå¯æ›´æ–°æ¨¡å¼ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆ5ï¼‰Workingï¼šUnityç”ŸæˆAssetBundleæ—¶çš„å·¥ä½œç›®å½• è¯·æ³¨æ„ï¼šä¸çŸ¥é“ä»Žå“ªä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒGameResourceVersion_x_x_x.xmlæ–‡ä»¶ä¸å†ç”Ÿæˆã€‚ç›¸å…³æ•°æ®å¯ä»¥åœ¨BuildReportç›®å½•ä¸‹çš„BuildLog.txtä¸­æŸ¥çœ‹åˆ°ï¼Œå¦‚ä¸‹ï¼š 1[15:51:32.383][INFO] Process version list for &#39;MacOS&#39; complete, version list path is &#39;&#x2F;Users&#x2F;teitomonari&#x2F;Documents&#x2F;WorkSpace&#x2F;UnityProjects&#x2F;Study&#x2F;StarForce&#x2F;StarForce&#x2F;AssetBundle&#x2F;Full&#x2F;0_1_0_1&#x2F;MacOS&#x2F;version.7fe1ca32.dat&#39;, length is &#39;11641&#39;, hash code is &#39;2145503794[0x7FE1CA32]&#39;, zip length is &#39;4100&#39;, zip hash code is &#39;111937434[0x06AC079A]&#39;. Build AssetBundleå¾…ç»­ã€‚ Documentationå¾…ç»­ã€‚ API Referenceå¾…ç»­ã€‚ ä½¿ç”¨UnityGameFrameworkç¼–è¾‘å™¨å‡ºçŽ°çš„å¸¸è§é—®é¢˜è®°å½•1. AssetBundleEditorç•Œé¢ä¸­çš„Assetåˆ—è¡¨æ˜¯ç©ºçš„ï¼Ÿå¾…ç»­ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>GameFrameworkæ¡†æž¶</category>
      </categories>
      <tags>
        <tag>GameFrameworkæ¡†æž¶æºç è§£è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¹ï¼šèµ„æºå¼±å¼•ç”¨æ–‡ä»¶é€‰æ‹©å™¨]]></title>
    <url>%2F2019%2F09%2F27%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-jiu-zi-yuan-ruo-yin-yong-wen-jian-xuan-ze-qi%2F</url>
    <content type="text"><![CDATA[ç¬”è®°ç›®å½•@[toc] å†™åœ¨å¼€å¤´AdvancedDropdownåªåœ¨Unity 2019ä¸‹æ‰å¯ç”¨ã€‚ã€‚ã€‚ å·¥å…·ä»‹ç»æ–‡ä»¶é€‰æ‹©å™¨é¡¾åæ€ä¹‰æ˜¯ç”¨æ¥é€‰ä¸­æ–‡ä»¶ç”¨çš„ï¼Œé‚£ä¹ˆä¸Žä¸Šå›¾ä¸­Unityè‡ªå¸¦çš„ç‚¹å‡»å³è¾¹çš„å°åœ†ç‚¹ å¼¹å‡ºæ–‡ä»¶æœç´¢æ¡†æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ å·¥å…·ç•Œé¢å¦‚ä¸‹ï¼š å…¶ä¸­ç‚¹å‡»SelectæŒ‰é’®ï¼Œå¼¹å‡ºæ–‡ä»¶æœç´¢æ¡†ï¼ˆç±»æ¯”Add ComponentæŒ‰é’®ç‚¹å‡»åŽå¼¹å‡ºçš„æ¡†ï¼‰,æ ¹æ®èµ„æºç±»åž‹ç­›é€‰åŽå½¢æˆçš„èµ„æºæ ‘çŠ¶ç»“æž„æ˜¾ç¤ºåœ¨ä¸‹é¢çš„æ¡†ä¸­ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªç»“ç‚¹è¿›å…¥å­æ ‘ï¼Œç‚¹å‡»å³ä¾§çš„XæŒ‰é’®è¿›è¡Œæ¸…ç©ºã€‚ï¼ˆå°å£°å“”å“”ï¼šçœ‹èµ·æ¥å¥½åƒæ²¡å•¥ç”¨ï¼‰ gifåŠ¨å›¾ï¼š èµ„æºå¼±å¼•ç”¨é¦–å…ˆè¯´æ˜Žä¸€ä¸‹ä¸ªäººç†è§£çš„èµ„æºå¼±å¼•ç”¨ï¼šä¸ç›´æŽ¥å¼•ç”¨æ¸¸æˆèµ„æºï¼Œé€šè¿‡åºåˆ—åŒ–å­˜å‚¨ä¸€äº›ç”¨æ¥ä»Žèµ„æºç®¡ç†ç³»ç»Ÿä¸­åŠ è½½èµ„æºçš„å‚æ•°ï¼Œæ¥é—´æŽ¥å¼•ç”¨èµ„æºï¼Œè¿™äº›å‚æ•°å¯ä»¥ç§°ä¹‹ä¸ºåœ°å€ï¼ˆä¸è¦å¼ºè¡Œæ²¾è¾¹Addressableï¼‰ã€‚ä½¿ç”¨ä¸€ä¸ªåœ°å€æ¥åŠ è½½èµ„æºï¼Œèµ„æºå¦‚ä½•æ›´æ”¹ï¼Œåœ°å€éƒ½ä¸è¦å˜ï¼Œä¿è¯åœ°å€å”¯ä¸€æ€§ã€‚æ— è®ºæ˜¯ä½¿ç”¨Resourcesæ–‡ä»¶å¤¹è¿›è¡Œèµ„æºåŠ è½½ç®¡ç†ã€è¿˜æ˜¯ä½¿ç”¨AssetBundleè¿›è¡Œèµ„æºåŠ è½½ç®¡ç†ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨ã€‚ å¼±å¼•ç”¨éœ€è¦å­˜å‚¨çš„æ•°æ®ï¼š GuidEditorå¯ä½¿ç”¨Guidæ¥åŠ è½½èµ„æºã€å®šä½èµ„æºï¼Œä¿è¯èµ„æºçš„è·¯å¾„ä¿®æ”¹åŽä¾ç„¶å¯ä»¥å®šä½åˆ°èµ„æºã€‚ ç”¨æ¥åŠ è½½çš„æ•°æ®å–å†³äºŽä½ çš„èµ„æºç®¡ç†ç³»ç»Ÿå¦‚ä½•åŠ è½½èµ„æºï¼Œå¦‚æžœä½¿ç”¨ResourcesåŠ è½½ï¼Œå¯ä»¥å­˜å‚¨Resourcesæ–‡ä»¶å¤¹ä¸‹çš„è·¯å¾„ WeakReferenceå¼±å¼•ç”¨åŸºç±»ï¼Œå…¶ä¸­å­˜å‚¨äº†Guid å„ç§èµ„æºç±»åž‹å¯¹åº”çš„å¼±å¼•ç”¨ç±»åž‹ æ–‡ä»¶é€‰æ‹©å™¨è¯¥æ–‡ä»¶é€‰æ‹©å™¨å‚è€ƒçš„Editoræºç ä¸­AddComponentéƒ¨åˆ† Unity-Technologies Add Component Editoræºç åœ°å€ AdvancedDropdownå®˜æ–¹ä»‹ç» AdvancedDropdownéƒ¨åˆ†æ­¤æ–‡ä¸è¿‡å¤šä»‹ç»ï¼Œå¯èƒ½ä¼šå¦å¤–å¼€ç¯‡ã€‚æœ¬ä¾‹ä¸­åªå­˜å‚¨äº†guidï¼Œå…¶ä½™æ•°æ®åœ¨æ–‡ä»¶è¢«é€‰æ‹©çš„æ—¶å€™ä¹Ÿå¯ä»¥èµ‹å€¼ã€‚ æºç åœ°å€Githubä»“åº“åœ°å€ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttp://www.jingfengji.tech/æ¬¢è¿Žå¤§å®¶å…³æ³¨ã€‚ æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼ŒåŽç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚ã€å®žåœ¨æ˜¯æ²¡ç©ºåŽ»æ•´é‚£è¾¹ï¼Œè¦å­¦ä¹ çš„ä¸œè¥¿çœŸæ˜¯å¤ªå¤šäº†ã€‚ã€‚ã€‚ã€‘]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>èµ„æºå¼±å¼•ç”¨æ–‡ä»¶é€‰æ‹©å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æžè‡´è£å‰ª]]></title>
    <url>%2F2019%2F08%2F15%2Fpython-gong-ju-zhi-yi-jiu-gong-ge-tu-pian-ji-zhi-cai-jian%2F</url>
    <content type="text"><![CDATA[Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æžè‡´è£å‰ªå·¥å…·ç”¨é€”åœ¨è¯»åˆ°æ–‡ç« (https://blog.uwa4d.com/archives/PSD4UGUI.html)æ—¶ï¼Œæ–‡ç« ä¸­æåˆ°â€œe.é€šè¿‡è®¾å®šå‚æ•°å³å¯è‡ªåŠ¨ç”Ÿæˆä¹å®«å›¾ç‰‡ï¼Œä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯â€ï¼Œå¼•å‘çš„æ€è€ƒï¼šå¦‚ä½•ä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯ï¼Ÿä¹å®«å›¾ç‰‡ä½œä¸ºæ‹‰ä¼¸å›¾ç‰‡ä½¿ç”¨ï¼Œæ‹‰ä¼¸åŒºåŸŸè¶Šå°è¶Šèƒ½ç¼©å°å›¾ç‰‡é¢ç§¯ï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚è¿›ä¸€æ­¥æ‰¾åˆ°æ–‡ç« ï¼ˆhttps://gameinstitute.qq.com/community/detail/103423) æ–‡ç« ä¸­æåˆ°ä¸‹å›¾ å°†è¿žç»­ç›¸åŒçš„è¡Œï¼ˆåˆ—ï¼‰è£å‰ªæŽ‰ï¼Œåªä¿ç•™ä¸€è¡Œï¼ˆåˆ—ï¼‰å³å¯ï¼Œä¾æ¬¡è¾¾åˆ°ä¹å®«å›¾ç‰‡é¢ç§¯ç¼©å°çš„ç›®çš„ã€‚ ï¼ˆpsï¼šè®²é“ç†ï¼Œå›¾ç‰‡å¤„ç†è½¯ä»¶é‡Œåº”è¯¥èƒ½ç²¾å‡†æŽ§åˆ¶è£å‰ªçš„ï¼Œä¸ºå•¥è¦ç¨‹åºå†™å·¥å…·æ¥åšè¿™ä»¶äº‹ï¼Ÿç¾Žæœ¯è¡¨ç¤ºæˆ‘ä¸ä¼šâ€¦ï¼‰ æœ¬æ–‡ä¸­å¹¶æ²¡æœ‰å†™çš„ä¸Šæ–‡ä¸­é‚£ä¹ˆè¯¦ç»†ï¼Œæˆ‘çš„æœ€ç»ˆç›®çš„æ˜¯ç»™Unityä¸­ä½¿ç”¨çš„ä¹å®«å›¾ç‰‡åšè£å‰ªï¼Œå› æ­¤æ–‡ç« ä¸­æœ‰éƒ¨åˆ†å†…å®¹è·ŸUnityæ²¾è¾¹ï¼Œä¸è¿‡ä¸å½±å“å·¥å…·çš„ä½¿ç”¨ï¼Œå·¥å…·ä½¿ç”¨Pythonå¼€å‘ã€‚ å¦‚ä¸‹å›¾ï¼šUnityä¸­ä¸¤çº¯è‰²åƒç´ ä¹‹é—´æœ‰é¢œè‰²è¿‡æ¸¡ï¼Œå› æ­¤å·¥å…·æ²¡æœ‰å°†å›¾ç‰‡çš„è¿žç»­ç›¸åŒè¡Œï¼ˆåˆ—ï¼‰è£å‰ªåˆ°åªä¿ç•™ä¸€è¡Œï¼ˆåˆ—ï¼‰ï¼Œè€Œæ˜¯ä¸‰è¡Œï¼ˆåˆ—ï¼‰ã€‚ å¼€å‘æ€è€ƒï¼ˆ1ï¼‰å¦‚ä½•åŠ è½½ã€ä¿å­˜ã€è¯»å†™ä¸€ä¸ªimageï¼Œæœ¬å·¥å…·ä½¿ç”¨OpenCV2 ï¼ˆ2ï¼‰å¦‚ä½•åˆ¤æ–­å›¾ç‰‡çš„ä¸¤è¡Œï¼ˆåˆ—ï¼‰æ˜¯å¦å®Œå…¨ç›¸åŒ ï¼ˆ3ï¼‰å¦‚ä½•è®¡ç®—å‡ºå›¾ç‰‡çš„æœ€ä½³ä¹å®«åŒºåŸŸ ï¼ˆ4ï¼‰å¦‚ä½•è£å‰ªä¹å®«åŒºåŸŸ è£å‰ªç»“æžœçœ‹èµ·æ¥å¾ˆåƒå˜æˆäº†ä¸€ä¸ªåœ†å½¢ï¼Œå…¶å®žå››æ¡è¾¹ä¸Šæœ‰ä¸‰è¡Œï¼ˆåˆ—ï¼‰åƒç´ æ˜¯ä¹å®«åŒºåŸŸ ä»£ç ä»‹ç»123456789101112131415# æ¯”è¾ƒä¸¤è¡Œæ˜¯å¦ç›¸ç­‰# ç›¸ç­‰è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalsedef equal_row_pixel(img,row1,row2): height &#x3D; img.shape[0] #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels width &#x3D; img.shape[1] channels &#x3D; img.shape[2] if(row1 &lt; 0 or row1 &gt;&#x3D; height): return False if(row2 &lt; 0 or row2 &gt;&#x3D; height): return False for col in range(width): for channel in range(channels): if(img[row1][col][channel] !&#x3D; img[row2][col][channel]): return False return True 123456789101112131415# æ¯”è¾ƒä¸¤åˆ—æ˜¯å¦ç›¸ç­‰# ç›¸ç­‰è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalsedef equal_col_pixel(img,col1,col2): height &#x3D; img.shape[0] #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels width &#x3D; img.shape[1] channels &#x3D; img.shape[2] if(col1 &lt; 0 or col1 &gt;&#x3D; width): return False if(col2 &lt; 0 or col2 &gt;&#x3D; width): return False for row in range(height): for channel in range(channels): if(img[row][col1][channel] !&#x3D; img[row][col2][channel]): return False return True 12345678910111213141516171819202122232425262728# æ¨ªå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«# img:å›¾ç‰‡# continuous_col_num:è¿žç»­çš„åˆ—æ•°ï¼Œå¤§äºŽç­‰äºŽè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç†def horizontal_slice(img,continuous_col_num): cur_begin_col_index &#x3D; 0 cur_end_col_index &#x3D; 0 slice_begin_col_index &#x3D; 0 slice_end_col_index &#x3D; 0 height &#x3D; img.shape[0] width &#x3D; img.shape[1] channels &#x3D; img.shape[2] for col in range(width): if(col &lt; width - 1): if(equal_col_pixel(img,col,col+1) &#x3D;&#x3D; False): # beginä¸ŽendæŒ‡å‘ä¸æ˜¯åŒä¸€åˆ—æ—¶ï¼Œåˆ¤æ–­è¿žç»­åˆ—æ•°æ˜¯å¦æ»¡è¶³ä¹å®«æ¡ä»¶ if((cur_begin_col_index !&#x3D; cur_end_col_index) and (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuous_col_num) and (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index)): # å·²ç»è¾¾åˆ°äº†è¿žç»­åˆ—æ•°ï¼Œæ»¡è¶³ä¹å®«æ¡ä»¶ slice_begin_col_index &#x3D; cur_begin_col_index slice_end_col_index &#x3D; cur_end_col_index cur_begin_col_index &#x3D; col + 1 cur_end_col_index &#x3D; col + 1 else: # ç›¸ç­‰ï¼ŒendåŽç§»ä¸€ä½ cur_end_col_index &#x3D; col + 1 if(slice_end_col_index - slice_begin_col_index &gt;&#x3D; continuous_col_num): return True,slice_begin_col_index,slice_end_col_index else: return False,0,0 1234567891011121314151617181920212223# çºµå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«def vertical_slice(img,continuous_row_num): cur_begin_row_index &#x3D; 0 cur_end_row_index &#x3D; 0 slice_begin_row_index &#x3D; 0 slice_end_row_index &#x3D; 0 height &#x3D; img.shape[0] width &#x3D; img.shape[1] channels &#x3D; img.shape[2] for row in range(height): if(row &lt; height - 1): if(equal_row_pixel(img,row,row+1) &#x3D;&#x3D; False): if((cur_begin_row_index !&#x3D; cur_end_row_index) and (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuous_row_num) and (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index)): slice_begin_row_index &#x3D; cur_begin_row_index slice_end_row_index &#x3D; cur_end_row_index cur_begin_row_index &#x3D; row + 1 cur_end_row_index &#x3D; row + 1 else: cur_end_row_index &#x3D; row + 1 if(slice_end_row_index - slice_begin_row_index &gt;&#x3D; continuous_row_num): return True,slice_begin_row_index,slice_end_row_index else: return False,0,0 å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209#!&#x2F;usr&#x2F;bin&#x2F;python# -*- coding: UTF-8 -*- import cv2from PIL import Imageimport numpy as npimport osimport tkFileDialogimport Tkinterimport tkMessageBox# æ¯”è¾ƒä¸¤è¡Œæ˜¯å¦ç›¸ç­‰# ç›¸ç­‰è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalsedef equal_row_pixel(img,row1,row2): height &#x3D; img.shape[0] #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels width &#x3D; img.shape[1] channels &#x3D; img.shape[2] if(row1 &lt; 0 or row1 &gt;&#x3D; height): return False if(row2 &lt; 0 or row2 &gt;&#x3D; height): return False for col in range(width): for channel in range(channels): if(img[row1][col][channel] !&#x3D; img[row2][col][channel]): return False return True# æ¯”è¾ƒä¸¤åˆ—æ˜¯å¦ç›¸ç­‰# ç›¸ç­‰è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalsedef equal_col_pixel(img,col1,col2): height &#x3D; img.shape[0] #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels width &#x3D; img.shape[1] channels &#x3D; img.shape[2] if(col1 &lt; 0 or col1 &gt;&#x3D; width): return False if(col2 &lt; 0 or col2 &gt;&#x3D; width): return False for row in range(height): for channel in range(channels): if(img[row][col1][channel] !&#x3D; img[row][col2][channel]): return False return True# æ¨ªå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«# img:å›¾ç‰‡# continuous_col_num:è¿žç»­çš„åˆ—æ•°ï¼Œå¤§äºŽç­‰äºŽè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç†def horizontal_slice(img,continuous_col_num): cur_begin_col_index &#x3D; 0 cur_end_col_index &#x3D; 0 slice_begin_col_index &#x3D; 0 slice_end_col_index &#x3D; 0 height &#x3D; img.shape[0] width &#x3D; img.shape[1] channels &#x3D; img.shape[2] for col in range(width): if(col &lt; width - 1): if(equal_col_pixel(img,col,col+1) &#x3D;&#x3D; False): # beginä¸ŽendæŒ‡å‘ä¸æ˜¯åŒä¸€åˆ—æ—¶ï¼Œåˆ¤æ–­è¿žç»­åˆ—æ•°æ˜¯å¦æ»¡è¶³ä¹å®«æ¡ä»¶ if((cur_begin_col_index !&#x3D; cur_end_col_index) and (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuous_col_num) and (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index)): # å·²ç»è¾¾åˆ°äº†è¿žç»­åˆ—æ•°ï¼Œæ»¡è¶³ä¹å®«æ¡ä»¶ slice_begin_col_index &#x3D; cur_begin_col_index slice_end_col_index &#x3D; cur_end_col_index cur_begin_col_index &#x3D; col + 1 cur_end_col_index &#x3D; col + 1 else: # ç›¸ç­‰ï¼ŒendåŽç§»ä¸€ä½ cur_end_col_index &#x3D; col + 1 if(slice_end_col_index - slice_begin_col_index &gt;&#x3D; continuous_col_num): return True,slice_begin_col_index,slice_end_col_index else: return False,0,0# çºµå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«def vertical_slice(img,continuous_row_num): cur_begin_row_index &#x3D; 0 cur_end_row_index &#x3D; 0 slice_begin_row_index &#x3D; 0 slice_end_row_index &#x3D; 0 height &#x3D; img.shape[0] width &#x3D; img.shape[1] channels &#x3D; img.shape[2] for row in range(height): if(row &lt; height - 1): if(equal_row_pixel(img,row,row+1) &#x3D;&#x3D; False): if((cur_begin_row_index !&#x3D; cur_end_row_index) and (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuous_row_num) and (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index)): slice_begin_row_index &#x3D; cur_begin_row_index slice_end_row_index &#x3D; cur_end_row_index cur_begin_row_index &#x3D; row + 1 cur_end_row_index &#x3D; row + 1 else: cur_end_row_index &#x3D; row + 1 if(slice_end_row_index - slice_begin_row_index &gt;&#x3D; continuous_row_num): return True,slice_begin_row_index,slice_end_row_index else: return False,0,0# æ ‡è®°Spriteçš„ä¹å®«åŒºåŸŸdef tag_image_slice_area(img,slice_row_begin,slice_row_end,slice_col_begin,slice_col_end,color): height &#x3D; img.shape[0] width &#x3D; img.shape[1] channels &#x3D; img.shape[2] for row in range(height): #éåŽ†æ¯ä¸€è¡Œ for col in range(width): #éåŽ†æ¯ä¸€åˆ— if((row &gt;&#x3D; slice_row_begin and row &lt;&#x3D; slice_row_end and slice_row_begin !&#x3D; slice_row_end) or (col &gt;&#x3D; slice_col_begin and col &lt;&#x3D; slice_col_end and slice_col_begin !&#x3D; slice_col_end)): alter_image_pixel_color(img,row,col,color) return img# ä¿®æ”¹imgæŒ‡å®šåƒç´ çš„é¢œè‰²# img:ä¿®æ”¹çš„img# row:è¡Œç´¢å¼•# col:åˆ—ç´¢å¼•# color:é¢œè‰²rgbæ•°ç»„def alter_image_pixel_color(img,row,col,color): img.itemset((row, col, 0), color[0]) img.itemset((row, col, 1), color[1]) img.itemset((row, col, 2), color[2])# ä¹å®«åŒºåŸŸè£å‰ªdef tailor_image_slice_area(img,slice_row_begin,slice_row_end,slice_col_begin,slice_col_end): height &#x3D; img.shape[0] width &#x3D; img.shape[1] new_width &#x3D; width - (slice_col_end - slice_col_begin) new_height &#x3D; height - (slice_row_end - slice_row_begin) target &#x3D; np.zeros(shape&#x3D;(new_height,new_width,img.shape[2]), dtype&#x3D;np.uint8) # img[0:4,0:3] ç¬¬0è¡Œ-ç¬¬4è¡Œï¼Œç¬¬0åˆ—åˆ°ç¬¬3åˆ—çš„äº¤å‰åŒºåŸŸ # å·¦ä¸Š roiImg &#x3D; img[0:slice_row_begin,0:slice_col_begin] target[0:slice_row_begin,0:slice_col_begin] &#x3D; roiImg # å³ä¸Š roiImg &#x3D; img[0:slice_row_begin,slice_col_end:width] target[0:slice_row_begin,slice_col_begin:new_width] &#x3D; roiImg # å·¦ä¸‹ roiImg &#x3D; img[slice_row_end:height,0:slice_col_begin] target[slice_row_begin:new_height,0:slice_col_begin] &#x3D; roiImg # å³ä¸‹ roiImg &#x3D; img[slice_row_end:height,slice_col_end:width] target[slice_row_begin:new_height,slice_col_begin:new_width] &#x3D; roiImg return targetdef load_sprite(): continuous_row_num_input_str &#x3D; continuous_row_num_input.get() #èŽ·å–æ–‡æœ¬æ¡†å†…å®¹ continuous_col_num_input_str &#x3D; continuous_col_num_input.get() continuous_row_num &#x3D; 0 continuous_col_num &#x3D; 0 try: if continuous_row_num_input_str !&#x3D; &quot;&quot;: continuous_row_num &#x3D; float(continuous_row_num_input_str) if continuous_col_num_input_str !&#x3D; &quot;&quot;: continuous_col_num &#x3D; float(continuous_col_num_input_str) except ValueError: tkMessageBox.showinfo( &quot;Error&quot;, &quot;æ— æ•ˆçš„çº¿å®½è¾“å…¥&quot;) return if continuous_row_num &lt;&#x3D; 0 or continuous_col_num &lt;&#x3D; 0: tkMessageBox.showinfo( &quot;Error&quot;, &quot;æ— æ•ˆçš„çº¿å®½è¾“å…¥&quot;) return fname &#x3D; tkFileDialog.askopenfilename(title&#x3D;u&quot;é€‰æ‹©æ–‡ä»¶&quot;) img1 &#x3D; cv2.imread(fname,cv2.IMREAD_UNCHANGED) a1,b1,c1 &#x3D; horizontal_slice(img1,continuous_col_num) a2,b2,c2 &#x3D; vertical_slice(img1,continuous_row_num) # ä¹å®«åŒºåŸŸä¿ç•™åœ¨3åƒç´ çš„å®½é«˜ b1 &#x3D; b1 + 1 c1 &#x3D; c1 - 1 b2 &#x3D; b2 + 1 c2 &#x3D; c2 - 1 if toggle_tailor_hor.get() &#x3D;&#x3D; 0: b1 &#x3D; 0 c1 &#x3D; 0 if toggle_tailor_ver.get() &#x3D;&#x3D; 0: b2 &#x3D; 0 c2 &#x3D; 0 new_sprite &#x3D; tailor_image_slice_area(img1,b2,c2,b1,c1) cv2.imwrite(fname, new_sprite) print(fname)root &#x3D; Tkinter.Tk()root.geometry(&#39;400x300&#39;)root.title(&quot;Spriteä¹å®«åŒºåŸŸæžè‡´è£å‰ªä¿®æ”¹å™¨&quot;)frame &#x3D; Tkinter.Frame(root)frame.pack()toggle_tailor_hor &#x3D; Tkinter.IntVar()toggle_tailor_ver &#x3D; Tkinter.IntVar()Tkinter.Checkbutton(root, text &#x3D; &quot;æ˜¯å¦æ¨ªå‘ä¹å®«å¤„ç†&quot;, variable &#x3D; toggle_tailor_hor,onvalue &#x3D; 1, offvalue &#x3D; 0).pack()Tkinter.Checkbutton(root, text &#x3D; &quot;æ˜¯å¦çºµå‘ä¹å®«è¿·å®«&quot;, variable &#x3D; toggle_tailor_ver,onvalue &#x3D; 1, offvalue &#x3D; 0).pack()Tkinter.Label(frame, text&#x3D;&quot;æ¨ªå‘æœ€å°è¿žç»­åˆ—æ•°&quot;).pack()continuous_row_num_input &#x3D; Tkinter.Entry(frame)continuous_row_num_input.pack()Tkinter.Label(frame, text&#x3D;&quot;çºµå‘æœ€å°è¿žç»­è¡Œæ•°&quot;).pack()continuous_col_num_input &#x3D; Tkinter.Entry(frame)continuous_col_num_input.pack()load_sprite_button &#x3D; Tkinter.Button(root, text&#x3D;&quot;åŠ è½½Spriteæ–‡ä»¶å¹¶ä¿®æ”¹&quot;,command&#x3D;load_sprite)load_sprite_button.pack()root.mainloop() å·¥å…·ç•Œé¢ ç‚¹å‡»æŒ‰é’®â€åŠ è½½Spriteæ–‡ä»¶å¹¶ä¿®æ”¹â€œåŽï¼Œæ‰“å¼€æ–‡ä»¶æ¡†é€‰ä¸­è¦å¤„ç†çš„å›¾ç‰‡åŽè¿›è¡Œå¤„ç†ï¼Œè¦†ç›–åŽŸå›¾ç‰‡ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttp://www.jingfengji.tech/æ¬¢è¿Žå¤§å®¶å…³æ³¨ã€‚ æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼ŒåŽç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>ä¹å®«æ ¼å›¾ç‰‡æžè‡´è£å‰ª</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite Borderè‡ªåŠ¨è®¾ç½®å·¥å…·]]></title>
    <url>%2F2019%2F08%2F13%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-ba-sprite-border-zi-dong-she-zhi-gong-ju%2F</url>
    <content type="text"><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite Borderè‡ªåŠ¨è®¾ç½®å·¥å…·1.0 åŠŸèƒ½ä»‹ç»è‡ªåŠ¨è®¡ç®—å‡ºä¹å®«æ ¼Sprite çš„borderæ•°æ®å¹¶ç›´æŽ¥èµ‹å€¼ä¿å­˜çš„å·¥å…·ã€‚ã€çº¯å±žå·æ‡’ï¼Œå¯èƒ½å„ä½è§‰å¾—æ²¡å•¥ç”¨å§ï¼Œå“ˆå“ˆã€‘ å½“éœ€è¦ä¸ºä¸€ä¸ªä¹å®«æ ¼Sprite è®¾ç½®Borderæ•°æ®æ—¶ï¼Œéœ€è¦æ‰“å¼€Sprite Editorï¼Œç„¶åŽè¾“å…¥Borderæ•°æ®ã€‚ å·¥å…·ä¼šç›´æŽ¥è®¡ç®—æ¨ªå‘ã€çºµå‘è¿žç»­å®Œå…¨ç›¸åŒçš„åˆ—æ•°ã€è¡Œæ•°ï¼ˆå½“ç„¶è¿žç»­åŒºåŸŸå–æœ€å¤§çš„ï¼‰ï¼Œå½“è®¡ç®—å‡ºçš„ä¹å®«åŒºåŸŸæ»¡è¶³æ¡ä»¶æ—¶ï¼ˆæˆ‘è®¾å®šçš„æ¡ä»¶æ˜¯è¿žç»­åˆ—æ•°æˆ–è€…è¡Œæ•°æœ‰ä¸ªæœ€å°å€¼è®¾å®šï¼‰ï¼Œå°±ä»»åŠ¡è¯¥å›¾å¯ä»¥å¤„ç†ä¸ºä¹å®«æ ¼Spriteã€‚ ä»¥ä¸Šä¹å®«æ ¼Spriteï¼Œåˆç§°ä¸º ç‚¹ä¹å›¾ã€åºŸè¯ã€‘ã€‚ 2.0 æºç è„šæœ¬æ”¾ç½®åœ¨Editoræ–‡ä»¶å¤¹ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206using System.IO;using UnityEditor;using UnityEngine;public class SpriteImporterTool : UnityEditor.Editor&#123; public static int continuousColNum &#x3D; 10; &#x2F;&#x2F;continuousColNum:è¿žç»­çš„åˆ—æ•°ï¼Œå¤§äºŽç­‰äºŽè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç† public static int continuousRowNum &#x3D; 10; &#x2F;&#x2F;continuousRowNum:è¿žç»­çš„è¡Œæ•°ï¼Œå¤§äºŽç­‰äºŽè¿™ä¸ªå€¼åˆ¤å®šä¸ºçºµå‘å¯ä»¥ä¹å®«å¤„ç† &#x2F;&#x2F;è‡ªåŠ¨è®¡ç®—Sprite Borderæ•°æ® [MenuItem(&quot;Assets&#x2F;SpriteBorder&#x2F;AutoSetSpriteBorder&quot;, false, 500)] public static void AutoSetSpriteBorder() &#123; foreach (var spriteAsset in Selection.objects) &#123; AutoSetSpriteBorder(AssetDatabase.GetAssetPath(spriteAsset)); &#125; &#125; &#x2F;&#x2F;è®¾ç½®Sprite Borderä¸ºZero [MenuItem(&quot;Assets&#x2F;SpriteBorder&#x2F;Reset Zero&quot;, false)] public static void AutoSetSpriteBorderZero() &#123; foreach (var spriteAsset in Selection.objects) &#123; SetSpriteBorder(AssetDatabase.GetAssetPath(spriteAsset), Vector4.zero); &#125; &#125; private static void AutoSetSpriteBorder(string spriteAssetPath) &#123; TextureImporter textureImporter &#x3D; AssetImporter.GetAtPath(spriteAssetPath) as TextureImporter; if (textureImporter !&#x3D; null &amp;&amp; textureImporter.textureType &#x3D;&#x3D; TextureImporterType.Sprite) &#123; Sprite sprite &#x3D; AssetDatabase.LoadAssetAtPath&lt;Sprite&gt;(spriteAssetPath); Vector4 border &#x3D; Vector4.zero; GetBorderSliceInfo(sprite.texture, continuousColNum, continuousRowNum, ref border); if (border !&#x3D; Vector4.zero) &#123; textureImporter.spriteBorder &#x3D; border; EditorUtility.SetDirty(sprite); AssetDatabase.SaveAssets(); AssetDatabase.Refresh(); &#125; &#125; &#125; private static void SetSpriteBorder(string spriteAssetPath, Vector4 border) &#123; TextureImporter textureImporter &#x3D; AssetImporter.GetAtPath(spriteAssetPath) as TextureImporter; if (textureImporter !&#x3D; null &amp;&amp; textureImporter.textureType &#x3D;&#x3D; TextureImporterType.Sprite) &#123; Sprite sprite &#x3D; AssetDatabase.LoadAssetAtPath&lt;Sprite&gt;(spriteAssetPath); textureImporter.spriteBorder &#x3D; border; EditorUtility.SetDirty(sprite); AssetDatabase.SaveAssets(); AssetDatabase.Refresh(); &#125; &#125; public static void GetBorderSliceInfo(Texture2D texture, int continuousColNum, int continuousRowNum, ref Vector4 border) &#123; int width &#x3D; texture.width; int height &#x3D; texture.height; &#x2F;&#x2F;å’³å’³ï¼Œè¿™é‡Œçš„å‘½åè§„åˆ™è¯·å¿½ç•¥ï¼Œä»Žå¦ä¸€ä¸ªpythonå·¥å…·æ‹·è´è¿‡æ¥ int cur_begin_col_index &#x3D; 0; int cur_end_col_index &#x3D; 0; int slice_begin_col_index &#x3D; 0; int slice_end_col_index &#x3D; 0; Texture2D readTexture2D &#x3D; GetReadTexture2D(texture); for (int col &#x3D; 0; col &lt; width - 1; col++) &#123; if (EqualColPixel(readTexture2D, col, col + 1) &#x3D;&#x3D; false) &#123; if ((cur_begin_col_index !&#x3D; cur_end_col_index) &amp;&amp; (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuousColNum) &amp;&amp; (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index)) &#123; slice_begin_col_index &#x3D; cur_begin_col_index; slice_end_col_index &#x3D; cur_end_col_index; &#125; cur_begin_col_index &#x3D; col + 1; cur_end_col_index &#x3D; col + 1; &#125; else &#123; cur_end_col_index &#x3D; col + 1; &#125; &#125; int cur_begin_row_index &#x3D; 0; int cur_end_row_index &#x3D; 0; int slice_begin_row_index &#x3D; 0; int slice_end_row_index &#x3D; 0; for (int row &#x3D; 0; row &lt; height - 1; row++) &#123; if (EqualRowPixel(readTexture2D, row, row + 1) &#x3D;&#x3D; false) &#123; if ((cur_begin_row_index !&#x3D; cur_end_row_index) &amp;&amp; (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuousRowNum) &amp;&amp; (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index)) &#123; slice_begin_row_index &#x3D; cur_begin_row_index; slice_end_row_index &#x3D; cur_end_row_index; &#125; cur_begin_row_index &#x3D; row + 1; cur_end_row_index &#x3D; row + 1; &#125; else &#123; cur_end_row_index &#x3D; row + 1; &#125; &#125; if (slice_end_col_index - slice_begin_col_index &lt; continuousColNum) &#123; slice_begin_col_index &#x3D; 0; slice_end_col_index &#x3D; width - 1; &#125; if (slice_end_row_index - slice_begin_row_index &lt; continuousRowNum) &#123; slice_begin_row_index &#x3D; 0; slice_end_row_index &#x3D; height - 1; &#125; &#x2F;&#x2F;LTRB &#x2F;&#x2F;row æ˜¯çºµå‘çš„ T B &#x2F;&#x2F;col æ˜¯æ¨ªå‘çš„ L R border &#x3D; new Vector4(slice_begin_col_index, slice_begin_row_index, width - slice_end_col_index - 1, height - slice_end_row_index - 1); &#125; public static string GetAssetFullPath(UnityEngine.Object asset) &#123; return System.Environment.CurrentDirectory + Path.DirectorySeparatorChar + AssetDatabase.GetAssetPath(asset); &#125; public static Texture2D GetReadTexture2D(Texture texture) &#123; string textureFilePath &#x3D; GetAssetFullPath(texture); FileStream fileStream &#x3D; new FileStream(textureFilePath, FileMode.Open, FileAccess.Read); fileStream.Seek(0, SeekOrigin.Begin); byte[] bytes &#x3D; new byte[fileStream.Length]; fileStream.Read(bytes, 0, (int) fileStream.Length); fileStream.Close(); fileStream.Dispose(); Texture2D new_texture &#x3D; new Texture2D(texture.width, texture.height); new_texture.LoadImage(bytes); return new_texture; &#125; &#x2F;&#x2F;&#x2F; &lt;summary&gt; &#x2F;&#x2F;&#x2F; æ¯”è¾ƒä¸¤è¡Œåƒç´ æ˜¯å¦å®Œå…¨ç›¸ç­‰ &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;texture&quot;&gt;isReadableä¸ºtrueï¼Œå¯è¯»çš„texture&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;row1&quot;&gt;&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;row2&quot;&gt;&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt; public static bool EqualRowPixel(Texture2D texture, int row1, int row2) &#123; Color[] row1Colors &#x3D; texture.GetPixels(0, row1, texture.width, 1); Color[] row2Colors &#x3D; texture.GetPixels(0, row2, texture.width, 1); for (int i &#x3D; 0; i &lt; row1Colors.Length; i++) &#123; if (!row1Colors[i].Equals(row2Colors[i])) &#123; return false; &#125; &#125; return true; &#125; &#x2F;&#x2F;&#x2F; &lt;summary&gt; &#x2F;&#x2F;&#x2F; æ¯”è¾ƒä¸¤åˆ—åƒç´ æ˜¯å¦å®Œå…¨ç›¸ç­‰ &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;texture&quot;&gt;isReadableä¸ºtrueï¼Œå¯è¯»çš„texture&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;col1&quot;&gt;&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;col2&quot;&gt;&lt;&#x2F;param&gt; &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt; public static bool EqualColPixel(Texture2D texture, int col1, int col2) &#123; Color[] col1Colors &#x3D; texture.GetPixels(col1, 0, 1, texture.height); Color[] col2Colors &#x3D; texture.GetPixels(col2, 0, 1, texture.height); for (int i &#x3D; 0; i &lt; col1Colors.Length; i++) &#123; if (!col1Colors[i].Equals(col2Colors[i])) &#123; return false; &#125; &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>SpriteBorderè‡ªåŠ¨è®¾ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP-SpriteAssetå›¾æ–‡æ··æŽ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·]]></title>
    <url>%2F2019%2F08%2F09%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-qi-textmeshpro-de-tmp-spriteasset-tu-wen-hun-pai-tu-ji-kuai-jie-geng-xin-gong-ju%2F</url>
    <content type="text"><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP_SpriteAssetå›¾æ–‡æ··æŽ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·1.TextMeshProçš„SpriteAssetåˆ¶ä½œæ­¤æ–‡ä¸å†èµ˜è¿°ï¼Œå‚è€ƒæ­¤æ–‡ï¼šhttps://blog.csdn.net/qq_37057633/article/details/81120583 2.å·¥å…·ä½¿ç”¨åœºæ™¯å½“å›¾æ–‡æ··æŽ’å›¾é›†éœ€è¦åŠ ä¸€ä¸ªæ–°å›¾æ—¶ï¼Œéœ€è¦é‡æ–°æŒ‰ç…§ä¸Šæ–‡çš„æµç¨‹é‡æ–°æ‰“ä¸€éJson(Array)æ ¼å¼å’Œä¸€éUnity-Texture2D Spriteæ ¼å¼çš„ï¼Œæ‰“å®Œä¹‹åŽï¼Œå›¾é›†é‡Œçš„å›¾æ–‡ä½ç½®å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼ŒTMP_SpriteAsseté‡Œå­˜å‚¨çš„spriteGlyphTableå’ŒspriteCharacterTableå¹¶ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼ˆåŒ…æ‹¬æ—§çš„spriteç›¸å…³æ•°æ®å’Œæ–°å¢žçš„spriteæ•°æ®ï¼‰ï¼Œè€Œä¸”æ—§çš„å›¾æ–‡æ··æŽ’å›¾é›†é‡Œçš„Sprite IDä¹Ÿåº”è¯¥ä¿æŒä¸å˜ï¼Œå¦‚æžœæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹äº†Spriteçš„GlyphMetricsæ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¹Ÿä¼šè¢«é‡æ‰“çš„è¦†ç›–æŽ‰ï¼Œä½¿å¾—ä¹‹å‰çš„æ•°æ®ä¸¢å¤±ã€‚é‚£ä¹ˆï¼Œå¼€å‘ä¸€æ¬¾å¿«æ·æ›´æ–°å›¾æ–‡æ··æŽ’çš„å·¥å…·å°±ååˆ†æœ‰å¿…è¦ã€‚ 3.å·¥å…·ä»‹ç»3.1 å·¥å…·ç•Œé¢ 3.2 å·¥å…·åŠŸèƒ½1.ç¼“å­˜æ•°æ® ä¸»è¦æ˜¯ç¼“å­˜æ—§çš„å›¾é›†æ•°æ®ï¼ŒspriteGlyphTableå’ŒspriteCharacterTable 2.ä¸€é”®æ‰“Jsonæ ¼å¼å›¾é›† ä½¿ç”¨å‘½ä»¤è¡Œæ‰“å›¾é›†ï¼Œæ­¤æ–‡ä¸å†èµ˜è¿°ï¼Œå‚è€ƒï¼šhttps://blog.csdn.net/u014065445/article/details/54289787 ä½¿ç”¨å‘½ä»¤è¡Œæ‰“jsonæ ¼å¼æ–‡ä»¶ 3.ä¸€é”®æ‰“Unityæ ¼å¼å›¾é›† ä½¿ç”¨å‘½ä»¤è¡Œæ‰“Unityæ ¼å¼å›¾é›† 1234567891011121314151617181920212223242526272829&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; æ‰“Unityæ ¼å¼å›¾é›†&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;private void UnitySpriteTexturePacker()&#123; curTime &#x3D; System.DateTime.Now; &#x2F;&#x2F;èŽ·å–æ‰“Unityæ ¼å¼çš„TexturePackerå‘½ä»¤ string cmd &#x3D; TexturePackerCommond.GetPackCommond(arangeSpritesFolderPath,arrangeIconAtlasPngPath,arrangeIconAtlasTpsheetFilePath); &#x2F;&#x2F;ä½¿ç”¨ShellHelperç”Ÿæˆä¸€ä¸ªShellRequestå¯¹è±¡ ShellHelper.ShellRequest request &#x3D; ShellHelper.ProcessCommand(cmd,null); EditorUtility.DisplayProgressBar(&quot;æ‰¹é‡å¤„ç†ä¸­...&quot;,&quot;Shellè„šæœ¬ç”ŸæˆJsonå›¾é›†ä¿¡æ¯...&quot;, 0); &#x2F;&#x2F;æ³¨å†Œå‘½ä»¤æ‰§è¡Œå®Œå›žè°ƒ request.onDone +&#x3D; ()&#x3D;&gt; &#123; &#123; &#x2F;&#x2F;æ‰“åŒ…ç»“æŸ EditorUtility.DisplayProgressBar(&quot;æ‰¹é‡å¤„ç†ä¸­...&quot;,&quot;Shellè„šæœ¬æ‰§è¡Œå®Œæ¯•...å¼€å§‹æ‰“å›¾é›†...&quot;, 0); AssetDatabase.SaveAssets(); AssetDatabase.Refresh(); CreateUIAtlas(); &#125; &#125;; &#x2F;&#x2F;æ³¨å†Œå‘½ä»¤æ‰§è¡Œé”™è¯¯çš„å›žè°ƒ request.onError +&#x3D; ()&#x3D;&gt; &#123; Debug.LogError(&quot;Texture Packer Error!!! Please Check Your Config&quot;); EditorUtility.ClearProgressBar(); &#125;;&#125; 4.æ•°æ®æ›´æ–° è§£æžTpsheetæ ¼å¼æ–‡ä»¶ï¼Œä»Žä¸­æ‹¿åˆ°æ‰€æœ‰Spriteçš„GlyphRectæ•°æ®ï¼Œã€æ³¨æ„ã€‘Tpsheetæ–‡ä»¶ä¸­Spriteçš„GlyphRectæ•°æ®æ˜¯ä»¥SpriteNameåŒºåˆ†çš„ï¼Œå› æ­¤TMP_SpriteAsseté‡Œçš„spriteCharacterTableé‡Œçš„nameä¸€å®šè¦æ­£ç¡®ï¼Œä¸ç„¶æ•°æ®ä¼šé”™ä½ã€‚ 4.ä½¿ç”¨è¯´æ˜Ž1.TexturePacker_PATHæ›´æ”¹ä¸ºè‡ªå·±ç”µè„‘çš„TexturePackerè·¯å¾„ 2.å·¥å…·å¼€å‘çŽ¯å¢ƒæ˜¯macç«¯ï¼Œwindowsç«¯ä¸‹è‡ªè¡Œç±»æ¯”ä¿®æ”¹ 3.éœ€è¦å¯¼å…¥TexturePackerImporterå·¥å…·é…åˆTexturePackeræ‰“å‡ºæ¥çš„å›¾é›†ä½¿ç”¨ 4.ä»£ç ä¸­çš„è·¯å¾„è‡ªè¡Œä¿®æ”¹ 5.å·¥å…·ä»“åº“åœ°å€https://github.com/JingFengJi/UpdateSpriteAssetTool.git ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttp://www.jingfengji.tech/æ¬¢è¿Žå¤§å®¶å…³æ³¨ã€‚ æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼ŒåŽç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>å›¾æ–‡æ··æŽ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…­ï¼šåŸºäºŽUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢]]></title>
    <url>%2F2019%2F03%2F19%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-liu-ji-yu-ugui-de-sprite-yin-yong-cha-xun%2F</url>
    <content type="text"><![CDATA[åŸºäºŽUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢ä½¿ç”¨TexturePackeræ‰“çš„å›¾é›†ï¼Œspriteå¼•ç”¨æŸ¥è¯¢å·¥å…·ç¤ºæ„å›¾å¦‚ä¸‹ã€‚èœå•æ ï¼š1ã€é€‰æ‹©å›¾é›†ï¼Œè¾“å…¥sprite nameï¼Œä¸€é”®æœç´¢æŒ‰é’®ï¼Œå¯¼å‡ºæœç´¢æ•°æ®æˆCSVæ ¼å¼ï¼Œä¸€é”®æ–­å¼€æ‰€æœ‰å¼•ç”¨2ã€ç•Œé¢ä¸‹æ–¹æ˜¯æœç´¢ç»“æžœçš„Treeè§†å›¾ã€‚ ä¸‹é¢æ˜¯æ“ä½œç¤ºæ„å›¾ã€‚ é€‚ç”¨åœºæ™¯å›¾ç‰‡ä»Žä¸€ä¸ªå›¾é›†æ›´æ”¹åˆ°åˆ«çš„å›¾é›†ï¼Œå¦‚æžœæ˜¯ç”¨Unityçš„æ‰“å›¾é›†æ–¹å¼ï¼ˆPackingTagï¼‰ï¼Œè¿™ç§åœºæ™¯å°±æ–¹ä¾¿å¤šäº†ï¼Œä¿®æ”¹PackingTagå³å¯ã€‚ä½¿ç”¨TexturePackeræ‰“çš„å›¾é›†ï¼Œå°±æ²¡åŠžæ³•è¿™æ ·äº†ã€‚ Codeåœ°å€https://github.com/JingFengJi/SpriteReferenceCheck ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttp://www.jingfengji.tech/æ¬¢è¿Žå¤§å®¶å…³æ³¨ã€‚ æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼ŒåŽç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>UGUI Spriteå¼•ç”¨æŸ¥è¯¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäº”ï¼šå›¾é›†SpriteMetaDataæ•°æ®æ‹·è´]]></title>
    <url>%2F2019%2F03%2F16%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-wu-tu-ji-spritemetadata-shu-ju-kao-bei%2F</url>
    <content type="text"><![CDATA[å›¾é›†SpriteMetaDataæ•°æ®æ‹·è´å…³äºŽSpriteMetaDataç±»ï¼š ç”¨äºŽç”Ÿæˆç²¾çµçš„ç¼–è¾‘å™¨æ•°æ®ã€‚å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼šhttps://docs.unity3d.com/2017.2/Documentation/ScriptReference/SpriteMetaData.html å·¥å…·ç•Œé¢ å·¥å…·ä½¿ç”¨åœºæ™¯é€‚ç”¨äºŽæ¸¸æˆä¸­å­˜åœ¨å¤šå¥—çš®è‚¤å›¾é›† ä½¿ç”¨æ–¹æ³•æ‹–å…¥æ•°æ®æºå›¾é›†çš„textureã€å…‹éš†å›¾é›†çš„textureï¼Œç„¶åŽç‚¹å‡»Copyï¼Œå°±ä¼šå°†clone texture çš„Sprite data æ‹·è´åˆ°clone texture ä¸­ï¼Œå¯¹åº”å…³ç³»æ˜¯æŒ‰ç…§sprite nameæ¥å¯¹æ¯”çš„ã€‚ å…·ä½“ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192using System.Collections.Generic;using UnityEditor;using UnityEngine;namespace Editor.CopyAtlasDataTool&#123; public class CopyAtlasDataTool : EditorWindow &#123; private static CopyAtlasDataTool window &#x3D; null; [MenuItem(&quot;Tools&#x2F;CopyAtlasDataTool&quot;)] public static CopyAtlasDataTool ShowGameDataEditorWindow() &#123; if (window &#x3D;&#x3D; null) window &#x3D; EditorWindow.GetWindow(typeof(CopyAtlasDataTool)) as CopyAtlasDataTool; window.titleContent &#x3D; new GUIContent(&quot;CopyAtlasDataTool&quot;); window.Show(); return window; &#125; private UnityEngine.Object _originObject; private UnityEngine.Object _cloneObject; private void OnGUI() &#123; _originObject &#x3D; EditorGUILayout.ObjectField(&quot;æ•°æ®æºå›¾é›†&quot;, _originObject,typeof(Texture)); _cloneObject &#x3D; EditorGUILayout.ObjectField(&quot;å…‹éš†å›¾é›†&quot;, _cloneObject, typeof(Texture)); if (GUILayout.Button(&quot;Copy&quot;)) &#123; if (_originObject !&#x3D; null &amp;&amp; _cloneObject !&#x3D; null) &#123; CopyData(_originObject, _cloneObject); &#125; &#125; &#125; public void CopyData(Object origin, Object clone) &#123; string originAssetPath &#x3D; AssetDatabase.GetAssetPath(origin); string cloneAssetPath &#x3D; AssetDatabase.GetAssetPath(clone); TextureImporter originTi &#x3D; AssetImporter.GetAtPath(originAssetPath) as TextureImporter; TextureImporter cloneTi &#x3D; AssetImporter.GetAtPath(cloneAssetPath) as TextureImporter; if (originTi !&#x3D; null &amp;&amp; cloneTi !&#x3D; null) &#123; &#x2F;&#x2F;æ‰“å¼€è¯»å†™ï¼Œæ‰èƒ½å†™å…¥æ•°æ® cloneTi.isReadable &#x3D; true; List &lt; SpriteMetaData &gt; newData &#x3D; new List &lt; SpriteMetaData &gt; (); List&lt;string&gt; hasAddData &#x3D; new List&lt;string&gt;(); for (int i &#x3D; 0; i &lt; originTi.spritesheet.Length; i++) &#123; for (int j &#x3D; 0; j &lt; cloneTi.spritesheet.Length; j++) &#123; SpriteMetaData oSm &#x3D; originTi.spritesheet[i]; SpriteMetaData cSm &#x3D; cloneTi.spritesheet[j]; &#x2F;&#x2F;æ ¹ç»sprite nameè¿›è¡ŒåŒ¹é…çš„ if (oSm.name &#x3D;&#x3D; cSm.name) &#123; cSm.border &#x3D; oSm.border; cSm.pivot &#x3D; oSm.pivot; cSm.alignment &#x3D; oSm.alignment; newData.Add(cSm); hasAddData.Add(cSm.name); &#125; &#125; &#125; for (int j &#x3D; 0; j &lt; cloneTi.spritesheet.Length; j++) &#123; SpriteMetaData cSm &#x3D; cloneTi.spritesheet[j]; if (!hasAddData.Contains(cSm.name)) &#123; newData.Add(cSm); &#125; &#125; cloneTi.spritesheet &#x3D; newData.ToArray(); AssetDatabase.ImportAsset(cloneAssetPath, ImportAssetOptions.ForceUpdate); cloneTi &#x3D; AssetImporter.GetAtPath(cloneAssetPath) as TextureImporter; if(cloneTi !&#x3D; null) cloneTi.isReadable &#x3D; false; AssetDatabase.ImportAsset(cloneAssetPath, ImportAssetOptions.ForceUpdate); &#125; &#125; &#125;&#125; æ³¨æ„ç‚¹ï¼ˆ1ï¼‰å…‹éš†å›¾é›†çš„TextureImporterçš„isReadableè¦åœ¨å¤åˆ¶å‰æ‰“å¼€ï¼Œä¸ç„¶ä¸èƒ½å†™å…¥æ•°æ®ï¼ˆ2ï¼‰SpriteMetaDataæ˜¯ç»“æž„ä½“ï¼Œè¦æ³¨æ„ç»“æž„ä½“å’Œç±»çš„åŒºåˆ«ï¼ˆ3ï¼‰copyå®ŒåŽï¼Œæ³¨æ„æ£€æŸ¥ä¸¤ä¸ªå›¾é›†çš„è¯»å†™æ˜¯å¦æ­£ç¡®å…³é—­äº† ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttp://www.jingfengji.tech/æ¬¢è¿Žå¤§å®¶å…³æ³¨ã€‚ æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼ŒåŽç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>SpriteMetaData</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå››ï¼šåŸºäºŽUnity Node Editorã€ScriptableObjectçš„é…ç½®åŒ–æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ]]></title>
    <url>%2F2019%2F02%2F01%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-si-ji-yu-unity-node-editor-scriptableobject-de-pei-zhi-hua-xin-shou-yin-dao-xi-tong%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä¸»è¦ä»‹ç»æ ¹æ®ä¸€æ¬¾Node Editoråº“å¼€å‘çš„æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿgitåœ°å€å¦‚ä¸‹ï¼š https://github.com/luis-l/UnityNodeEditorBase ä¸€ã€æ—§ç‰ˆæ–°æ‰‹å¼•å¯¼åšæ³• GuideCheckManagerè´Ÿè´£checkå„ç§ç±»åž‹çš„å¼•å¯¼ï¼Œåˆ¤æ–­æ˜¯å¦è¾¾åˆ°è§¦å‘æ¡ä»¶ï¼Œå¦‚æžœè¾¾åˆ°æ¡ä»¶ï¼Œå½“å‰æ— å¼•å¯¼ï¼Œåˆ™ç›´æŽ¥è¿›è¡Œå¼•å¯¼ï¼Œå¦åˆ™å­˜å…¥ç¼“å­˜é˜Ÿåˆ—ä¸­ã€‚ GuideCheckManageræ³¨å†Œè·Ÿå¼•å¯¼æœ‰å…³çš„æ¶ˆæ¯é€šçŸ¥ï¼Œç­‰æ”¶åˆ°é€šçŸ¥ï¼Œåšä¸€äº›checkå·¥ä½œã€‚ ä¸€ä¸ªå¤§æ­¥å¼•å¯¼åŒ…å«å¤šä¸ªå•çº¿çš„å•æ­¥å¼•å¯¼ï¼Œæ¯ä¸ªå•æ­¥å¼•å¯¼åˆå¯æœ‰checkæ¡ä»¶ï¼Œå¦‚æžœä¸­é—´æŸä¸€å•æ­¥å¼•å¯¼æœªchecké€šè¿‡ï¼Œåˆ™æ‰“æ–­å¼•å¯¼ã€‚ ç¼ºç‚¹ï¼š ï¼ˆ1ï¼‰é…ç½®é‡‡ç”¨CSVï¼Œå¯è¯»æ€§æžå·® ä½¿ç”¨CSVä½œä¸ºé…ç½®ï¼Œä¸ºäº†å°†è§¦å‘æ¡ä»¶ä¹Ÿé…ç½®åŒ–ï¼Œå°±å¿…é¡»åšä¸€äº›æ•°æ®è§£æžçš„å·¥ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶åŽåœ¨ç¨‹åºä¸­å®šä¹‰å„ç§ç±»åž‹triggerçš„æ•°æ®è§£æžå‡½æ•°ã€‚ä»ŽCSVä¸­æ— æ³•å¾ˆç›´è§‚çš„çŸ¥é“è¿™ä¸€å•æ­¥å¼•å¯¼å…·ä½“æ˜¯å¼•å¯¼ä»€ä¹ˆã€‚ å¡«å……æ•°æ®ä¹Ÿè¾ƒä¸ºç¹çã€‚ äºŒã€åŸºäºŽç»“ç‚¹ç¼–è¾‘çš„é…ç½®åŒ–æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ ï¼ˆ1ï¼‰åŸºäºŽScriptableObjectã€ç»“ç‚¹ç¼–è¾‘çš„é…ç½® å·¥å…·æˆªå›¾å¦‚ä¸‹ï¼š![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190201142445605.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70) GuideNodeGraphï¼šä¸€ä¸ªç»“ç‚¹æ ‘ç§°ä¸ºä¸€ä¸ªå¤§æ­¥å¼•å¯¼ GuideNodeï¼šä¸€ä¸ªç»“ç‚¹ç§°ä¸ºä¸€ä¸ªå•æ­¥å¼•å¯¼ ä¸€ä¸ªGuideNodeGraphå°±æ˜¯ä¸€ä¸ªScriptableObjectæ–‡ä»¶ ä¸€ä¸ªGuideNodeGraphåŒ…å«å¤šä¸ªNodeï¼Œè¿žæŽ¥NextStepGuide-&gt; LastStepGuideï¼Œå½¢æˆç»“ç‚¹æ ‘ã€‚ æ¯ä¸ªGuideNodeï¼ŒåŒ…å«ä¸€ä¸ªInputï¼ˆLastStepGuideï¼Œç›®å‰æ— å®žé™…ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†è¿žæŽ¥ç»“ç‚¹æ ‘ï¼ŒOutPutå¿…ä¸ŽInputè¿žæŽ¥)ï¼Œä¸‰ä¸ªOutputï¼ˆNextStepGuideã€Triggerã€Conditionï¼‰ NextStepGuideï¼šç”¨æ¥å­˜å‚¨ä¸‹ä¸€ä¸ªå•æ­¥å¼•å¯¼ç»“ç‚¹ï¼Œå¦‚æžœæ— ä¸‹ä¸€å•æ­¥å¼•å¯¼ç»“ç‚¹ï¼Œåˆ™å½“å‰å¼•å¯¼ç»“ç‚¹å®Œæˆæ—¶ï¼Œå¼•å¯¼ç»“æŸã€‚ Triggerï¼šè¯¥å•æ­¥å¼•å¯¼ç»“ç‚¹è§¦å‘æ¡ä»¶ï¼Œå¦‚æžœæœ‰å¤šä¸ªTriggerï¼Œåˆ™åªè¦æœ‰ä¸€ä¸ªTrigger Successï¼Œåˆ™è¯¥å¼•å¯¼åˆ™è§¦å‘ã€‚ Conditionï¼šå¼•å¯¼æ¡ä»¶ç»“ç‚¹ã€‚å•æ­¥å¼•å¯¼ç»“ç‚¹å¯åŒ…å«å¤šä¸ªConditionå¼•å¯¼æ¡ä»¶ï¼Œåªæœ‰å½“å¤šä¸ªConditionå‡æˆç«‹æ—¶ï¼Œæ‰ä¼šå¼•å¯¼ã€‚ Triggerå’ŒConditionå‡ä¸ºNode çš„å­ç±»ã€‚ åº“ä¸­ActionTriggerSystemç±»çš„setupNodeCreateMenuå‡½æ•°ï¼Œå®žçŽ°äº†åœ¨NodeEditorä¸­çš„å³é”®èœå•ï¼Œè‡ªè¡Œä¿®æ”¹å¯ä»¥å®žçŽ°æŽ’åºï¼ŒæŸä¸€ç±»nodeåœ¨å‰ï¼ŒæŸä¸€ç±»åœ¨åŽ ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190201143046251.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70) æ ¹æ®Guide Viewç•Œé¢ç±»åž‹çš„ä¸åŒï¼Œå¯ä»¥å®šä¹‰å¤šç§Guide Nodeä¿å­˜æ•°æ®ï¼Œä¸€èˆ¬æœ‰å¯¹è¯æ¨¡å¼çš„ï¼Œä»¥åŠç‚¹å‡»UIæ¨¡å¼çš„ï¼Œæœ¬æ–‡ä¸»è¦è®²å¦‚ä½•ä½¿ç”¨NodeEditorã€ScriptableObjectè¿›è¡Œé…ç½®åŒ–ï¼Œå¦‚æžœé¡¹ç›®ä¸­ä¸æ˜¯ä½¿ç”¨ScriptableObjectè¿›è¡Œé…ç½®å­˜å‚¨çš„è¯ï¼Œè¯¥æ–¹æ¡ˆå°±ä¸é€‚ç”¨äº†ã€‚ å¯ä»¥NodeEditorçš„ä¼˜ç‚¹ï¼šé…ç½®å¼•å¯¼å¯è¯»æ€§é«˜ï¼Œå¹¶ä¸”ä¸å­˜åœ¨é…ç½®æ•°æ®è§£æžé€»è¾‘ï¼Œæ›´æ”¹å¼•å¯¼å†…é¡ºåºä¹Ÿå¾ˆæ–¹ä¾¿å¿«æ·ã€‚ æœ€åŽæ„Ÿè°¢ä½œè€…æä¾›çš„Node Editoråº“gitåœ°å€å¦‚ä¸‹ï¼š https://github.com/luis-l/UnityNodeEditorBase ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>æ–°æ‰‹å¼•å¯¼</tag>
        <tag>Node Editor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unity Shaderç¼–ç¨‹ä¹‹ä¸€ï¼šå¤šé¢œè‰²æ¡çº¹èƒŒæ™¯]]></title>
    <url>%2F2018%2F12%2F22%2Funity-shader-bian-cheng-zhi-yi-duo-yan-se-tiao-wen-bei-jing%2F</url>
    <content type="text"><![CDATA[ä¸¤ç§é¢œè‰²çš„æ¡çº¹çŠ¶èƒŒæ™¯Shader &quot;Custom/Flag&quot; { Properties { [PerRendererData]_MainTex (&quot;Texture&quot;, 2D) = &quot;white&quot; {} _1stColor(&quot;1stColo&quot;,Color) = (0,0,0,1) _2ndColor(&quot;2ndColor&quot;,Color) = (1,1,1,1) _tileNum(&quot;tile num&quot;, Range (2, 20)) = 10 } SubShader { Tags { &quot;RenderType&quot;=&quot;Opaque&quot; } LOD 100 Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag // make fog work #pragma multi_compile_fog #include &quot;UnityCG.cginc&quot; struct appdata { float4 vertex : POSITION; float2 uv : TEXCOORD0; }; struct v2f { float2 uv : TEXCOORD0; float4 vertex : SV_POSITION; }; sampler2D _MainTex; fixed4 _1stColor; fixed4 _2ndColor; int _tileNum; v2f vert (appdata v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); o.uv = v.uv; return o; } fixed4 frag (v2f i) : SV_Target { //i.uv * _tileNum å°†uvæ”¾å¤§ //fracå‡½æ•°ï¼Œå–å…¶å°æ•°éƒ¨åˆ† float2 newuv = frac(i.uv*_tileNum); //stepå‡½æ•°å°äºŽ0.5è¿”å›ž0ï¼Œå¦åˆ™è¿”å›ž1ï¼Œå†lerpä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯uv.xå°äºŽ0.5ï¼Œè¿”å›ž_1stColorï¼Œå¦åˆ™è¿”å›ž_2ndColor fixed4 color = lerp(_1stColor,_2ndColor,step(0.5,newuv.x)); return color; } ENDCG } } }æ•ˆæžœå›¾ï¼š ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20181222145228919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)]]></content>
      <categories>
        <category>Unity</category>
        <category>Unity Shader</category>
      </categories>
      <tags>
        <tag>å¤šé¢œè‰²æ¡çº¹èƒŒæ™¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸‰ï¼šåŸºäºŽObjectFieldçš„FileField]]></title>
    <url>%2F2018%2F12%2F22%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-san-ji-yu-objectfield-de-filefield%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨åœºæ™¯æœ€è¿‘åœ¨åšèµ„æºç®¡ç†æ¨¡å—æ—¶ï¼Œå…³äºŽèµ„æºå¼•ç”¨è¿™æ–¹é¢çš„é—®é¢˜ï¼Œå¹¶ä¸æƒ³ç›´æŽ¥å¼•ç”¨æŸä¸€ä¸ªassetï¼Œæ¯”å¦‚Prefabã€æˆ–è€…spriteã€materialç­‰èµ„æºï¼Œå½“ç„¶å¯ä»¥ç”±èµ„æºç®¡ç†æ¨¡å—ç»Ÿä¸€ç®¡ç†ï¼Œç„¶åŽå¯¹ä¸šåŠ¡å±‚æä¾›èŽ·å–çš„æŽ¥å£ã€‚ç”±ä¸šåŠ¡å±‚ä¼ å…¥æ–‡ä»¶åã€æˆ–è€…AssetBundleNameã€pathä¹‹ç±»çš„æ•°æ®ï¼Œèµ„æºç®¡ç†æ¨¡å—å†…åŠ è½½å‡ºæ¥ç„¶åŽè¿”å›žã€‚ç»“åˆObjectFiledè¿™ä¸ªç¼–è¾‘å™¨ç±»æ¥ä»‹ç»ï¼Œæˆ‘ä»¬æ‹–å…¥æŸä¸€ä¸ªassetï¼Œç„¶åŽåºåˆ—åŒ–å­˜å‚¨å…¶guidå’Œassetpathï¼Œè¡¨é¢ä¸Šçœ‹èµ·æ¥æ˜¯å¼•ç”¨äº†è¯¥assetï¼Œå®žé™…ä¸Šåªæ˜¯å­˜ä½äº†guidå’Œpathï¼ˆç”¨äºŽloadï¼Œç»“åˆèµ„æºç®¡ç†æ¨¡å—è€Œå®šï¼‰ï¼Œguidç”¨äºŽç»å¯¹æŒ‡å‘assetèµ„æºï¼Œå°±ç®—è·¯å¾„æ›´æ”¹ï¼Œä¹Ÿä¸æ€•å¼•ç”¨ä¸¢å¤±ã€‚ ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20181222133749902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70) ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20181222133618421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70) ObjectFieldä»‹ç»https://docs.unity3d.com/2017.2/Documentation/ScriptReference/EditorGUI.ObjectField.html FileFieldå®žçŽ°private string[] FileField(Rect position, string label, string guid,Type type) { string[] guidPath = new string[2];//å­˜å‚¨guidå’Œpathï¼Œè¿™é‡Œçš„pathæ˜¯assetPathï¼Œå®žé™…å­˜å‚¨èµ·æ¥éœ€è¦åšä¸€æ­¥å¤„ç†ï¼Œå¤„ç†æˆèµ„æºç®¡ç†æ¨¡å—èƒ½loadçš„pathæˆ–è€…åˆ«çš„æ•°æ® string path = AssetDatabase.GUIDToAssetPath(guid); UnityEngine.Object file = AssetDatabase.LoadAssetAtPath(path,type); EditorGUI.BeginChangeCheck(); { //ç¼–è¾‘å™¨ä¸Šæ˜¾ç¤ºçš„æ˜¯ObjectFieldç»˜åˆ¶å‡ºæ¥çš„ file = EditorGUI.ObjectField(position, label, file, type, false); } if (EditorGUI.EndChangeCheck()) { path = AssetDatabase.GetAssetPath(file); guid = AssetDatabase.AssetPathToGUID(path); } guidPath[0] = guid; guidPath[1] = path; return guidPath; }ä¸ç®—å®Œæ•´çš„ä»£ç ï¼š using UnityEditor; using UnityEngine; using System; using System.IO; using IdleGames.Core.AssetManagement; [CustomPropertyDrawer(typeof(WeakReferenceAttribute), true)] public class WeakReferenceBaseDrawer : PropertyDrawer { public override void OnGUI(Rect position, SerializedProperty property, GUIContent label) { WeakReferenceAttribute attribute = (WeakReferenceAttribute)base.attribute; Type referenceType = typeof(GameObject); if (attribute != null) { referenceType = attribute.AssetType; } SerializedProperty guidProperty = property.FindPropertyRelative(&quot;_guid&quot;); SerializedProperty pathProperty = property.FindPropertyRelative(&quot;_path&quot;); Rect guidRect = position; string[] guidPath = FileField(guidRect, property.displayName, guidProperty.stringValue,referenceType); guidProperty.stringValue = guidPath[0]; //è¿™é‡Œæ¼”ç¤ºçš„æ˜¯æŠŠpathå­˜æˆäº†Resourcesæ–‡ä»¶å¤¹ä¸‹çš„path if (string.IsNullOrEmpty(guidPath[1]) == false &amp;&amp; guidPath[1].Contains(&quot;Resources/&quot;)) { int index = guidPath[1].LastIndexOf(&quot;Resources/&quot;) + &quot;Resources/&quot;.Length; string path = guidPath[1].Substring(index); path = path.Remove(path.LastIndexOf(&quot;.&quot;)); pathProperty.stringValue = path; } property.serializedObject.ApplyModifiedProperties(); } private string[] FileField(Rect position, string label, string guid,Type type) { string[] guidPath = new string[2]; string path = AssetDatabase.GUIDToAssetPath(guid); UnityEngine.Object file = AssetDatabase.LoadAssetAtPath(path,type); EditorGUI.BeginChangeCheck(); { file = EditorGUI.ObjectField(position, label, file, type, false); } if (EditorGUI.EndChangeCheck()) { path = AssetDatabase.GetAssetPath(file); guid = AssetDatabase.AssetPathToGUID(path); } guidPath[0] = guid; guidPath[1] = path; return guidPath; } }ä¸Šè¿°ä»£ç ä»…ä¾›å‚è€ƒï¼Œæ‹–å…¥çš„objectä¸Žå®žé™…åºåˆ—åŒ–å­˜å‚¨çš„ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿æ—¶ï¼Œå¯ä»¥ç”¨ä¸Šè¿°ç±»ä¼¼çš„æ€è·¯ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºŽTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·]]></title>
    <url>%2F2018%2F09%2F09%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-er-ji-yu-texturepacker-de-yi-jian-da-tu-ji-gong-ju%2F</url>
    <content type="text"><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºŽTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·NGUIä½¿ç”¨TexturePackeræ‰“å›¾é›†æ˜¯ä¸€ä»¶é¢‘ç¹ä¸”è´¹æ—¶çš„å·¥ä½œï¼Œåªè¦ç¾Žæœ¯ç¨ä¸€æ›´æ–°å›¾ç‰‡ï¼Œå°±éœ€è¦é‡æ–°æ‰“å›¾é›†ï¼Œè€Œä¸”æ¯æ¬¡æ‰“å›¾é›†çš„æ“ä½œå…¶å®žéƒ½æ˜¯ä¸€æ ·çš„é‡å¤åŠ³åŠ¨ï¼ŒåŸºäºŽæ­¤ï¼Œå¼€å‘å·¥å…·æ‰¹é‡æ‰“å›¾é›†æ—¶å¾ˆæœ‰å¿…è¦çš„ã€‚ ä½¿ç”¨TexturePackeræ‰“å›¾é›†ï¼Œä¼šè¾“å‡ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªPNGåˆå›¾ï¼Œä¸€ä¸ªtxtå›¾é›†ä¿¡æ¯æ–‡ä»¶ï¼Œè€Œåˆ°Unityä¸­ä½¿ç”¨UIAtlasï¼Œåˆ™éœ€è¦ä¸€ä¸ªMaterialæè´¨æ–‡ä»¶å’Œä¸€ä¸ªPrefabé¢„åˆ¶ä½“æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ä¹Ÿç”±å·¥å…·ç”Ÿæˆã€‚ é‰´äºŽé¡¹ç›®ä¸æ˜¯ä»Žä¸€å¼€å§‹å°±ç”¨è¯¥å·¥å…·è¿›è¡Œæ‰“å›¾é›†å·¥ä½œçš„ï¼Œå› æ­¤è¿™äº›æ–‡ä»¶çš„å‘½åä¸å…·æœ‰ç»Ÿä¸€çš„è§„èŒƒï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥è®°å½•æ¯ä¸ªå›¾é›†çš„è¾“å‡ºæ–‡ä»¶ä¿¡æ¯ã€‚ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180909133119352?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) Atlas.iniå›¾é›†é…ç½®æ–‡ä»¶è¯¥æ–‡ä»¶ä»¥CSVæ ¼å¼è¿›è¡Œé…ç½®ï¼Œå…±æœ‰5åˆ—ï¼Œå›¾ç‰‡æ–‡ä»¶å¤¹ç›¸å¯¹è·¯å¾„ã€PNGåˆå›¾è¾“å‡ºè·¯å¾„ã€txtå›¾é›†ä¿¡æ¯æ–‡ä»¶è¾“å‡ºè·¯å¾„ã€UIAtlasPrefabè¾“å‡ºè·¯å¾„ã€Materialæè´¨è¾“å‡ºè·¯å¾„ï¼ŒåŽé¢å››ä¸ªè¾“å‡ºè·¯å¾„éƒ½æ˜¯åŸºäºŽUnityå·¥ç¨‹çš„Assetsç›®å½•ã€‚ å‘½ä»¤è¡Œæ‰“å›¾é›†TexturePackeræ”¯æŒä½¿ç”¨å‘½ä»¤è¡Œæ‰“å›¾é›† $TexturePacker_PATH $imgDir --max-size 4096 --allow-free-size --format unity --size-constraints POT --shape-padding 2 --border-padding 2 --common-divisor-x 1 --common-divisor-y 1 --disable-rotation --algorithm MaxRects --opt RGBA8888 --scale 1 --scale-mode Smooth --smart-update --sheet $ASSETS_PATH$atlasPng --data $ASSETS_PATH$atlasDataè¯¦ç»†å‘½ä»¤è¡Œä»‹ç»è¯·è‡ªè¡Œæœç´¢ç›¸å…³æ–‡æ¡£ ä¸€é”®æ‰¹é‡è®¾ç½®å›¾ç‰‡èµ„æºè®¾ç½®PNGåˆå›¾æ–‡ä»¶è¾“å‡ºåˆ°UnityåŽï¼Œé€šè¿‡ä½¿ç”¨Unityæä¾›çš„TextureImporterç±»å’ŒTextImporterPlatformSettingç±»è¿›è¡Œå›¾ç‰‡è®¾ç½® ç”Ÿæˆæè´¨å’ŒPrefabé—®é˜¿é‡‘å¹¶è‡ªåŠ¨å…³è”å¼•ç”¨æè´¨ä½¿ç”¨çš„Shaderæ˜¯â€œUnlit/TransparentColoredâ€ï¼ŒmainTextureåˆ™ä¸ºTexturePackerè¾“å‡ºçš„åˆå›¾ï¼Œåˆ›å»ºPrefabï¼Œå¹¶Add UIAtlasComponentï¼Œç»™UIAtlasç»„ä»¶å¯¼å…¥textureå’Œtxtå›¾é›†ä¿¡æ¯æ–‡ä»¶ NGUIEditorTools.ImportTexture(uiAtlas.texture, false, false, !uiAtlas.premultipliedAlpha); NGUIJson.LoadSpriteData(uiAtlas, atlasTextAsset);UIAtlasä¿¡æ¯æ‹·è´åˆ›å»ºå›¾é›†åŽï¼Œæœ‰æ—¶éœ€è¦æ‹·è´å¦ä¸€ä¸ªå›¾é›†çš„borderå’Œpaddingä¿¡æ¯ï¼Œä¾‹å¦‚ä¸¤ä¸ªå›¾é›†å†…å®¹å…¶å®žæ˜¯ä¸€ç›´çš„ï¼Œåªæ˜¯çš®è‚¤é¢œè‰²ä¸ä¸€æ ·ï¼ˆæ¢è‚¤å›¾é›†ï¼‰ï¼Œå› æ­¤è¿™ä¸¤ä¸ªå›¾é›†çš„borderå’Œpaddingæ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œæä¾›å·¥å…·è¿›è¡Œæ•°æ®æ‹·è´ã€‚ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180909131827960?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) æ¸…ç†Editorè¿›åº¦æ¡ä¸ºé¿å…Atlas.inié…ç½®é”™è¯¯ï¼Œå¯¼è‡´æ‰“å›¾é›†ä¸­æ–­ï¼Œè€ŒEditorUtility.DisplayProgressBarè¿›åº¦æ¡æ— æ³•æ¸…é™¤ï¼Œæä¾›Editorè¿›åº¦æ¡æ¸…ç†åŠŸèƒ½ï¼Œèœå•æ Tools-&gt;æ¸…ç†è¿›åº¦æ¡ å·¥ç¨‹ä¸‹è½½GitHubåœ°å€ï¼š https://github.com/JingFengJi/CreateAtlas ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ä¸€é”®æ‰“å›¾é›†å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸€ï¼šæ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F08%2F22%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-yi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-er%2F</url>
    <content type="text"><![CDATA[æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰å‰è¨€ï¼šä¸Šä¸€ç¯‡ï¼Œå®žçŽ°äº†åŸºæœ¬Unityæ¨¡å—æ‹“å±•çš„åŠŸèƒ½ï¼Œæœ¬ç¯‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡åå°„æ¥å®žçŽ°å¯¼å…¥UnityPackage Gifç¤ºæ„å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180822230440180?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ç¨‹åºå¯¼å…¥UnityPackageé€šè¿‡æŸ¥é˜…UnityEditoræºä»£ç å‘çŽ°ï¼ŒUnityEditorå‘½åç©ºé—´ä¸‹æœ‰ä¸ªEditorWindowçš„å­ç±»PackageImportï¼Œè¯¥ç±»æœ‰ä¸ªé™æ€å‡½æ•°ShowImportPackageå¦‚ä¸‹ï¼š public static void ShowImportPackage(string packagePath, ImportPackageItem[] items, string packageIconPath, bool allowReInstall) { if (PackageImport.ValidateInput(items)) { PackageImport window = EditorWindow.GetWindow&lt;PackageImport&gt;(true, &quot;Import Unity Package&quot;); window.Init(packagePath, items, packageIconPath, allowReInstall); } }è¯¥å‡½æ•°é™¤äº†éœ€è¦ä¼ å…¥package çš„è·¯å¾„å¤–ï¼Œè¿˜éœ€è¦ä¼ å…¥ImportPackageItem[]ï¼ˆä¹Ÿå°±æ˜¯è¯¥packageçš„å†…å®¹ï¼‰ï¼Œé€šè¿‡åœ¨UnityEditorä¸­æœç´¢ShowImportPackageå‡½æ•°è°ƒç”¨ï¼Œå‘çŽ°åœ¨AssetDataBaseç±»ä¸­æœ‰ä¸€ä¸ªé™æ€å‡½æ•°ImportPackageç”¨æ¥å¯¼å…¥Packageçš„ï¼Œè¯¥å‡½æ•°ä¸­å…ˆè°ƒç”¨PackageUtility.ExtractAndPrepareAssetListå‡½æ•°èŽ·å–åˆ°packageé‡Œå†…å®¹çš„åˆ—è¡¨ï¼Œç„¶åŽåœ¨è°ƒç”¨çš„å¯¼å…¥ï¼Œå½“ç„¶æ­¤å¤„è¿˜ç”¨åˆ°äº†interactiveå˜é‡æ¥æŽ§åˆ¶æ˜¯å¦æ‰“å¼€ImportWindowã€‚è€ŒPackageUtility.ExtractAndPrepareAssetListè¯¦ç»†ä»£ç åˆ™æ˜¯çœ‹ä¸åˆ°äº†ã€‚ public static void ImportPackage(string packagePath, bool interactive) { if (string.IsNullOrEmpty(packagePath)) { throw new ArgumentException(&quot;Path can not be empty or null&quot;, &quot;packagePath&quot;); } string packageIconPath; bool allowReInstall; ImportPackageItem[] array = PackageUtility.ExtractAndPrepareAssetList(packagePath, out packageIconPath, out allowReInstall); if (array != null) { if (interactive) { PackageImport.ShowImportPackage(packagePath, array, packageIconPath, allowReInstall); } else { string fileNameWithoutExtension = Path.GetFileNameWithoutExtension(packagePath); PackageUtility.ImportPackageAssets(fileNameWithoutExtension, array, false); } } }é€šè¿‡å°è¯•ï¼Œä¸€æ¬¡å¯¼å…¥å¤šä¸ªUnityPackageæ—¶ï¼ŒåŽä¸€ä¸ªä¼šå°†å‰ä¸€ä¸ªè¦†ç›–æŽ‰ï¼ˆä¼°è®¡æ˜¯å¯¼å…¥èµ„æºUnityéœ€è¦åŠ è½½å¹¶ä¸”ç¼–è¯‘å§ï¼‰ï¼Œæ‰€ä»¥ç›®å‰å·¥å…·åªèƒ½å•ä¸ªå¯¼å…¥ã€‚ å°è£…ä¸€ä¸ªPackage2Folderç±»ï¼Œç”¨æ¥å¯¼å…¥UnityPackageï¼Œåªéœ€è°ƒç”¨ImportPackageToFolderå‡½æ•°å³å¯ã€‚ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180822232606973?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) public class Package2Folder { #region reflection stuff private delegate AssetsItem[] ImportPackageStep1Delegate(string packagePath, out string packageIconPath); private static Type assetServerType; private static Type AssetServerType { get { if (assetServerType == null) { assetServerType = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.AssetServer&quot;); } return assetServerType; } } private static ImportPackageStep1Delegate importPackageStep1; private static ImportPackageStep1Delegate ImportPackageStep1 { get { if (importPackageStep1 == null) { importPackageStep1 = (ImportPackageStep1Delegate)Delegate.CreateDelegate( typeof(ImportPackageStep1Delegate), null, AssetServerType.GetMethod(&quot;ImportPackageStep1&quot;)); } return importPackageStep1; } } private static MethodInfo importPackageStep2MethodInfo; private static MethodInfo ImportPackageStep2MethodInfo { get { if (importPackageStep2MethodInfo == null) { importPackageStep2MethodInfo = AssetServerType.GetMethod(&quot;ImportPackageStep2&quot;); } return importPackageStep2MethodInfo; } } private delegate object[] ExtractAndPrepareAssetListDelegate(string packagePath, out string packageIconPath, out bool allowReInstall); private static Type packageUtilityType; private static Type PackageUtilityType { get { if (packageUtilityType == null) { packageUtilityType = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.PackageUtility&quot;); } return packageUtilityType; } } private static ExtractAndPrepareAssetListDelegate extractAndPrepareAssetList; private static ExtractAndPrepareAssetListDelegate ExtractAndPrepareAssetList { get { if (extractAndPrepareAssetList == null) { extractAndPrepareAssetList = (ExtractAndPrepareAssetListDelegate)Delegate.CreateDelegate( typeof(ExtractAndPrepareAssetListDelegate), null, PackageUtilityType.GetMethod(&quot;ExtractAndPrepareAssetList&quot;)); } return extractAndPrepareAssetList; } } private static FieldInfo destinationAssetPathFieldInfo; private static FieldInfo DestinationAssetPathFieldInfo { get { if (destinationAssetPathFieldInfo == null) { Type importPackageItem = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.ImportPackageItem&quot;); destinationAssetPathFieldInfo = importPackageItem.GetField(&quot;destinationAssetPath&quot;); } return destinationAssetPathFieldInfo; } } private static MethodInfo importPackageAssetsMethodInfo; private static MethodInfo ImportPackageAssetsMethodInfo { get { if (importPackageAssetsMethodInfo == null) { // ImportPackageAssetsImmediately æ˜¯åŒæ­¥çš„å¯¼å…¥5.4ä»¥ä¸Šç‰ˆæœ¬å¯ç”¨ importPackageAssetsMethodInfo = PackageUtilityType.GetMethod(&quot;ImportPackageAssetsImmediately&quot;) ?? PackageUtilityType.GetMethod(&quot;ImportPackageAssets&quot;); } return importPackageAssetsMethodInfo; } } private static MethodInfo showImportPackageMethodInfo; private static MethodInfo ShowImportPackageMethodInfo { get { if (showImportPackageMethodInfo == null) { Type packageImport = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.PackageImport&quot;); showImportPackageMethodInfo = packageImport.GetMethod(&quot;ShowImportPackage&quot;); } return showImportPackageMethodInfo; } } #endregion reflection stuff public static void ImportPackageToFolder(string packagePath, string selectedFolderPath, bool interactive) { string packageIconPath; bool allowReInstall; if (AssetServerType != null &amp;&amp; AssetServerType.GetMethod(&quot;ImportPackageStep1&quot;) != null) IsOlder53VersionAPI = true; else IsOlder53VersionAPI = false; //IsOlder53VersionAPI = false; object[] assetsItems = ExtractAssetsFromPackage(packagePath, out packageIconPath, out allowReInstall); if (assetsItems == null) return; foreach (object item in assetsItems) { ChangeAssetItemPath(item, selectedFolderPath); } if (interactive) { ShowImportPackageWindow(packagePath, assetsItems, packageIconPath, allowReInstall); } else { ImportPackageSilently(assetsItems); } } private static bool IsOlder53VersionAPI = false; public static object[] ExtractAssetsFromPackage(string path, out string packageIconPath, out bool allowReInstall) { if (IsOlder53VersionAPI) { AssetsItem[] array = ImportPackageStep1(path, out packageIconPath); allowReInstall = false; return array; } else { object[] array = ExtractAndPrepareAssetList(path, out packageIconPath, out allowReInstall); return array; } } private static void ChangeAssetItemPath(object assetItem, string selectedFolderPath) { if (IsOlder53VersionAPI) { AssetsItem item = (AssetsItem)assetItem; item.exportedAssetPath = selectedFolderPath + item.exportedAssetPath.Remove(0, 6); item.pathName = selectedFolderPath + item.pathName.Remove(0, 6); } else { string destinationPath = (string)DestinationAssetPathFieldInfo.GetValue(assetItem); destinationPath = selectedFolderPath + destinationPath.Remove(0, 6); DestinationAssetPathFieldInfo.SetValue(assetItem, destinationPath); } } public static void ShowImportPackageWindow(string path, object[] array, string packageIconPath, bool allowReInstall) { if (IsOlder53VersionAPI) { ShowImportPackageMethodInfo.Invoke(null, new object[] { path, array, packageIconPath }); } else { ShowImportPackageMethodInfo.Invoke(null, new object[] { path, array, packageIconPath, allowReInstall }); } } public static void ImportPackageSilently(object[] assetsItems) { if (IsOlder53VersionAPI) { ImportPackageStep2MethodInfo.Invoke(null, new object[] { assetsItems, false }); } else { ImportPackageAssetsMethodInfo.Invoke(null, new object[] { assetsItems, false }); } } private static string GetSelectedFolderPath() { UnityEngine.Object obj = Selection.activeObject; if (obj == null) return null; string path = AssetDatabase.GetAssetPath(obj.GetInstanceID()); return !Directory.Exists(path) ? null : path; } }å‚è€ƒæ–‡çŒ®ã€UnityEditor ç¼–è¾‘å™¨é—´å¿«é€Ÿå¤åˆ¶ç²˜è´´ã€‘ï¼š https://539go.com/2018/02/04/Unity-QuickCopy/ å¼•ç”¨äº†è¯¥æ–‡ç« ä¸­çš„UnityPackageå¯¼å…¥ä»£ç ã€‚ å·¥å…·ä¸‹è½½gitä»“åº“ï¼š https://github.com/JingFengJi/UnityCenterTool ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ç§äººå·¥å…·åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåï¼šæ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F08%2F20%2Funity-bian-ji-qi-tuo-zhan-zhi-er-shi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-yi%2F</url>
    <content type="text"><![CDATA[æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰åŠŸèƒ½ä»‹ç»ç»è¿‡å¹³æ—¶çš„é¡¹ç›®ç§¯ç´¯ï¼Œä½¿ç”¨ä»¥åŠè‡ªå·±ç¼–å†™çš„ç¼–è¾‘å™¨å·¥å…·è¶Šæ¥è¶Šå¤šï¼Œæœ‰äº›å·¥å…·åœ¨åˆ«çš„é¡¹ç›®ä¸­åŒæ ·ç”¨çš„ä¸Šï¼Œä½†æ˜¯ä¸å¸Œæœ›æ¯æ¬¡éƒ½é‡æ–°æ‹·è´æ–°ä»£ç åˆ°é¡¹ç›®ä¸­ï¼ŒäºŽæ˜¯å°±å¸Œæœ›èƒ½å¤Ÿæ‹“å±•Unityæ¨¡å—ï¼Œå®žçŽ°è‡ªå·±çš„å·¥å…·åº“ï¼Œæ–¹ä¾¿å¯¼å…¥å·¥å…·åˆ°é¡¹ç›®ä¸­ã€‚ é€šè¿‡æŸ¥é˜…èµ„æ–™å‘çŽ°ï¼Œåœ¨Unityçš„å®‰è£…ç›®å½• Unity2017.3.1f1\Editor\Data\UnityExtensions\Unity(æˆ‘çš„ç‰ˆæœ¬æ˜¯2017.3.1f1)ä¸‹ï¼Œæœ‰ä¸€äº›Unityè‡ªå¸¦çš„æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡åœ¨è¯¥è·¯å¾„ä¸‹æ”¾å…¥è‡ªå·±çš„æ¨¡å—ï¼Œå°±å¯ä»¥å®žçŽ°Unityæ–°å»ºçš„é¡¹ç›®éƒ½æ‹¥æœ‰è¯¥æ‹“å±•æ¨¡å—çš„åŠŸèƒ½ã€‚é‚£ä¹ˆï¼ŒæŽ¥ä¸‹æ¥å°±å†™ä¸€ä¸ªå·¥å…·å¯¼å…¥æ¨¡å—æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚ UnityExtensionsæ–‡ä»¶ç»“æž„åŸºæœ¬ä»‹ç»1ã€ivy.xmlæ–‡ä»¶ å…¶ä¸­ï¼šversionã€unityVersionå‡ä¸ºå½“å‰Unityçš„ç‰ˆæœ¬å·ï¼›artifact name æ ‡ç­¾ä¸ºæˆ‘ä»¬çš„DLLæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;ivy-module version=&quot;2.0&quot;&gt; &lt;info version=&quot;2017.3.1&quot; organisation=&quot;Unity&quot; module=&quot;UnityToolCenter&quot; e:packageType=&quot;UnityExtension&quot; e:unityVersion=&quot;2017.3.1f1&quot; xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot; /&gt; &lt;publications xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot;&gt; &lt;artifact name=&quot;Editor/UnityToolCenter&quot; type=&quot;dll&quot; ext=&quot;dll&quot; e:guid=&quot;adebbd281f1a4ef3a30be7f21937e02f&quot; /&gt; &lt;/publications&gt; &lt;/ivy-module&gt;2ã€Editoræ–‡ä»¶å¤¹æ”¾å…¥dll ä»£ç ä¸­å±žäºŽç¼–è¾‘å™¨æ‹“å±•çš„ä»£ç  é€»è¾‘è¯´æ˜Žå·¥å…·åˆç‰ˆç¤ºæ„å›¾ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180820223019383?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é€šè¿‡å‹¾é€‰UnityPackageï¼Œç›´æŽ¥å¯¼å…¥åˆ°é¡¹ç›®ä¸­ï¼Œç®€å•å¿«æ·ã€‚ ä¸ºäº†ä¸ç›´æŽ¥å°†UnityPackageæ–‡ä»¶æ”¾å…¥åˆ°Unityå®‰è£…ç›®å½•ä¸‹ï¼Œå› æ­¤æ–°å¢žä¸€ä¸ªconfig.iniæ–‡ä»¶ï¼Œé‡Œé¢é…ç½®UnityPackageæ–‡ä»¶çš„è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018082022321790?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018082022325173?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é€šè¿‡è¯»å–è¯¥é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½é…ç½®ä¸‹æ‰€æœ‰è·¯å¾„çš„æ‰€æœ‰åŽç¼€åä¸ºunitypackageæ–‡ä»¶ï¼Œç„¶åŽæ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨ä¸­ã€‚ ä½¿ç”¨ä»‹ç»å°†è„šæœ¬æ‰“æˆdllåŽï¼Œå°†UnityToolCenter.dllå’ŒUnityToolCenter.pdbæ–‡ä»¶æ”¾å…¥å®‰è£…ç›®å½•ä¸‹ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018082022350796?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ä¿®æ”¹ivy.xmlæ–‡ä»¶ä¸º &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;ivy-module version=&quot;2.0&quot;&gt; &lt;info version=&quot;2017.3.1&quot; organisation=&quot;Unity&quot; module=&quot;UnityToolCenter&quot; e:packageType=&quot;UnityExtension&quot; e:unityVersion=&quot;2017.3.1f1&quot; xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot; /&gt; &lt;publications xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot;&gt; &lt;artifact name=&quot;Editor/UnityToolCenter&quot; type=&quot;dll&quot; ext=&quot;dll&quot; e:guid=&quot;adebbd281f1a4ef3a30be7f21937e02f&quot; /&gt; &lt;/publications&gt; &lt;/ivy-module&gt;ã€æ³¨æ„ã€‘ç‰ˆæœ¬å·ï¼Œä»¥åŠdllçš„è·¯å¾„ æ­¤æ—¶ï¼Œæ–°å»ºå¦ä¸€ä¸ªUnityå·¥ç¨‹ï¼ˆåŒç‰ˆæœ¬ï¼‰ï¼Œå°±ä¼šå‘çŽ°èœå•æ ä¹Ÿå¸¦æœ‰Tools/UnityToolCenterï¼Œå…·ä½“å¯¼å…¥UnityPackageé€»è¾‘è§ä¸‹æœŸ å‚è€ƒæ–‡çŒ® https://539go.com/2017/10/20/UnityEditor-Unity%E7%9A%84%E6%A8%A1%E5%9D%97/ å·¥å…·ç»ˆç‰ˆè§ä¸‹æœŸä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¹ï¼šNGUI UISpriteé¢„è§ˆå›¾Previewæ‹“å±•]]></title>
    <url>%2F2018%2F08%2F10%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-jiu-ngui-uisprite-yu-lan-tu-preview-tuo-zhan%2F</url>
    <content type="text"><![CDATA[NGUI UISpriteé¢„è§ˆå›¾Previewæ‹“å±•åŠŸèƒ½è¯´æ˜Ž1ã€æ‹“å±•UISpriteçš„Previewè§†å›¾ï¼ŒåŒæ—¶æ˜¾ç¤ºUIAtlas Textureå’ŒSprite2ã€æ”¯æŒåœ¨UIAtlasä¸Šç›´æŽ¥ç‚¹é€‰Sprite3ã€æ— éœ€æ‰“å¼€Atlasé€‰æ‹©æ¡†å’ŒSpriteé€‰æ‹©æ¡†ä¸¤æ­¥æ“ä½œ Gifç¤ºæ„å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180810224120831?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é€»è¾‘ä»‹ç»1ã€æ‰¾åˆ°UISpriteInspectorè„šæœ¬ï¼Œå…¶è„šæœ¬çš„OnPreViewå‡½æ•°é€»è¾‘ï¼Œæºç å¦‚ä¸‹ï¼š public override void OnPreviewGUI (Rect rect, GUIStyle background) { UISprite sprite = target as UISprite; if (sprite == null || !sprite.isValid) return; Texture2D tex = sprite.mainTexture as Texture2D; if (tex == null) return; UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName); NGUIEditorTools.DrawSprite(tex, rect, sd, sprite.color); }å…¶ä¸­NGUIEditorTools.DrawSpriteå‡½æ•°è´Ÿè´£ç»˜åˆ¶Spriteï¼ŒåŒ…æ‹¬èƒŒæ™¯ã€border lineã€out lineã€sizelabelç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2ã€PreViewåŒºåŸŸä¸ºå·¦å³ä¸¤è¾¹ï¼Œåˆ†åˆ«ç»˜åˆ¶Atlas Textureå’ŒSpriteï¼Œå¹¶ä¸”AtlasTextureåœ¨ç»˜åˆ¶æ—¶ä¾ç„¶é‡‡ç”¨spriteçš„ç»˜åˆ¶æ ·å¼ï¼Œåº•å›¾èƒŒæ™¯ + é»‘è‰²è½®å»“ï¼Œå†æ¬¡åŸºç¡€ä¸Šä½¿ç”¨çš„Spriteé‡‡ç”¨ç»¿è‰²è½®å»“ public override void OnPreviewGUI (Rect rect, GUIStyle background) { UISprite sprite = target as UISprite; if (sprite == null || !sprite.isValid) return; Texture2D tex = sprite.mainTexture as Texture2D; if (tex == null) return; float interval = 10f; float width = (rect.width - interval) / 2; Rect leftRect = new Rect(rect.x,rect.y,width,rect.height); Rect rightRect = new Rect(rect.x + width + interval,rect.y,width,rect.height); UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName); NGUIEditorTools.DrawAtlas(tex,leftRect,sd); NGUIEditorTools.DrawSprite(tex, rightRect, sd, sprite.color); } static public void DrawAtlas(Texture2D tex,Rect drawRect,UISpriteData sprite) { if (!tex) return; // Create the texture rectangle that is centered inside rect. Rect outerRect = drawRect; outerRect.width = tex.width; outerRect.height = tex.height; if (tex.width &gt; 0) { float f = drawRect.width / outerRect.width; outerRect.width *= f; outerRect.height *= f; } if (drawRect.height &gt; outerRect.height) { outerRect.y += (drawRect.height - outerRect.height) * 0.5f; } else if (outerRect.height &gt; drawRect.height) { float f = drawRect.height / outerRect.height; outerRect.width *= f; outerRect.height *= f; } if (drawRect.width &gt; outerRect.width) outerRect.x += (drawRect.width - outerRect.width) * 0.5f; // Draw the background NGUIEditorTools.DrawTiledTexture(outerRect, NGUIEditorTools.backdropTexture); Handles.color = Color.black; Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMin), new Vector3(outerRect.xMin, outerRect.yMax)); Handles.DrawLine(new Vector3(outerRect.xMax, outerRect.yMin), new Vector3(outerRect.xMax, outerRect.yMax)); Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMin), new Vector3(outerRect.xMax, outerRect.yMin)); Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMax), new Vector3(outerRect.xMax, outerRect.yMax)); if(sprite != null) { Handles.color = Color.green; Rect spriteOutlineRect = outerRect; float r = outerRect.width / tex.width; spriteOutlineRect.x = outerRect.xMin + sprite.x * r; spriteOutlineRect.y = outerRect.yMin + sprite.y * r; spriteOutlineRect.width = sprite.width * r; spriteOutlineRect.height = sprite.height * r; Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMax)); Handles.DrawLine(new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMax)); Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMin)); Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMax), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMax)); } Rect uv = new Rect(0, 0, tex.width, tex.height); uv = NGUIMath.ConvertToTexCoords(uv, tex.width, tex.height); GUI.DrawTextureWithTexCoords(outerRect, tex, uv, true); // Sprite size label string text = string.Format(&quot;Atlas Size: {0}x{1}&quot;, Mathf.RoundToInt(tex.width), Mathf.RoundToInt(tex.height)); EditorGUI.DropShadowLabel(GUILayoutUtility.GetRect(Screen.width, 18f), text); }ç¤ºæ„å›¾å¦‚ä¸‹ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180810223913392?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 3ã€ç‚¹é€‰åŠŸèƒ½å®žçŽ° public override void OnPreviewGUI (Rect rect, GUIStyle background) { UISprite sprite = target as UISprite; if (sprite == null || !sprite.isValid) return; Texture2D tex = sprite.mainTexture as Texture2D; if (tex == null) return; float interval = 10f; float width = (rect.width - interval) / 2; Rect leftRect = new Rect(rect.x,rect.y,width,rect.height); Rect rightRect = new Rect(rect.x + width + interval,rect.y,width,rect.height); UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName); NGUIEditorTools.DrawAtlas(tex,leftRect,sd); NGUIEditorTools.DrawSprite(tex, rightRect, sd, sprite.color); //ç‚¹é€‰å›¾ç‰‡ Event e = Event.current; if(e.type == EventType.MouseDown) { //ä¸‹é¢å‡½æ•°é€šè¿‡ç‚¹å‡»çš„åæ ‡ï¼Œå’Œtextureã€texture draw rectç­‰ä¿¡æ¯è®¡ç®—å‡ºè¢«ç‚¹é€‰çš„sprite UISpriteData click = NGUIEditorTools.GetUISpriteData(tex,sprite.atlas,leftRect,e.mousePosition); if(click != null) { sprite.spriteName = click.name; EditorUtility.SetDirty(sprite); } } } //èŽ·å–spriteåœ¨previewä¸­çš„åŒºåŸŸ static public Rect GetAreaInPreview(Texture2D tex,Rect drawRect,UISpriteData sprite) { // Create the texture rectangle that is centered inside rect. Rect outerRect = drawRect; outerRect.width = tex.width; outerRect.height = tex.height; if (tex.width &gt; 0) { float f = drawRect.width / outerRect.width; outerRect.width *= f; outerRect.height *= f; } if (drawRect.height &gt; outerRect.height) { outerRect.y += (drawRect.height - outerRect.height) * 0.5f; } else if (outerRect.height &gt; drawRect.height) { float f = drawRect.height / outerRect.height; outerRect.width *= f; outerRect.height *= f; } if (drawRect.width &gt; outerRect.width) outerRect.x += (drawRect.width - outerRect.width) * 0.5f; Rect spriteOutlineRect = outerRect; float r = outerRect.width / tex.width; spriteOutlineRect.x = outerRect.xMin + sprite.x * r; spriteOutlineRect.y = outerRect.yMin + sprite.y * r; spriteOutlineRect.width = sprite.width * r; spriteOutlineRect.height = sprite.height * r; return spriteOutlineRect; } //æ ¹æ®ç‚¹å‡»çš„åæ ‡ï¼Œå¾ªçŽ¯éåŽ†å‡ºå“ªä¸ªSpriteçš„AreaåŒ…å«äº†è¯¥poså³å¯ static public UISpriteData GetUISpriteData(Texture2D tex, UIAtlas atlas,Rect drawRect,Vector2 pos) { List&lt;UISpriteData&gt; sprites = atlas.spriteList; if(sprites == null || sprites.Count &lt;= 0) return null; for (int i = 0; i &lt; sprites.Count; i++) { UISpriteData sprite = sprites[i]; Rect area = GetAreaInPreview(tex,drawRect,sprite); if(area.Contains(pos)) { return sprite; } } return null; }ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>UISpriteç»„ä»¶é¢„è§ˆæ‹“å±•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨è½¯ä»¶é›†é”¦]]></title>
    <url>%2F2018%2F08%2F06%2Fchang-yong-ruan-jian-ji-jin%2F</url>
    <content type="text"><![CDATA[1ã€å›¾ç‰‡æŸ¥é‡æ–‡ä»¶æŸ¥é‡ï¼Œå¦‚æžœåªæ˜¯æ–‡ä»¶åæˆ–è€…md5ç çš„åŒ¹é…æŸ¥é‡ï¼ŒåŠŸèƒ½å°±ä¸å…¨é¢äº†ï¼Œå°¤å…¶æ˜¯å›¾ç‰‡æŸ¥é‡ã€‚å›¾ç‰‡æŸ¥é‡åº”è¯¥æ›´ä¾§é‡äºŽå›¾ç‰‡å†…å®¹ç›¸ä¼¼åº¦æŸ¥é‡ã€‚æœ€è¿‘é¡¹ç›®ä¸­ä½¿ç”¨TexturePacker&amp; NGUIï¼Œå‘çŽ°å­˜åœ¨ä¸€äº›å›¾ç‰‡é‡å¤ï¼Œæ–°äººå¯¹ä¸šåŠ¡é€»è¾‘ä¸ç†Ÿæ‚‰ï¼Œå¯¼è‡´å›¾ç‰‡ä¹±æ”¾ç­‰é—®é¢˜ï¼Œä½¿å¾—å›¾ç‰‡å­˜åœ¨é‡å¤ã€æµªè´¹èµ„æºç­‰ã€‚å› æ­¤æ”¶é›†äº†Windows å’ŒMacä¸‹ä½¿ç”¨çš„ä¸¤æ¬¾å›¾ç‰‡æŸ¥é‡è½¯ä»¶ã€‚ Win http://www.newrain.cn/app/info/1 ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180806211702519?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) æ”¯æŒä¿®æ”¹ç›¸ä¼¼åº¦è¿›è¡ŒåŒ¹é…æŸ¥é‡ MacSnapSelectè½¯ä»¶ å®˜ç½‘ï¼š https://skylum.com/snapselect pojieç‰ˆè¯·è‡ªè¡Œä¸‹è½½ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180806212314576?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) æ”¯æŒå››ä¸ªçº§åˆ«çš„ç›¸ä¼¼åº¦æŸ¥é‡ ï¼ˆLowã€Highã€ã€ã€ï¼‰ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>å¸¸ç”¨è½¯ä»¶</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå…«ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· 2.0ç‰ˆæœ¬]]></title>
    <url>%2F2018%2F08%2F04%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-ba-ngui-pi-liang-ti-huan-tu-ji-gong-ju-2.0-ban-ben%2F</url>
    <content type="text"><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· 2.0ç‰ˆæœ¬1.0ç‰ˆæœ¬ https://blog.csdn.net/qq_26999509/article/details/81256493 æ–°å¢žå†…å®¹å·¥å…·1.0ç‰ˆæœ¬ï¼ŒåŒäº‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°æ‰¹é‡æ›¿æ¢å›¾é›†æ—¶ï¼Œä¸ä¸€å®šæ˜¯å…¨éƒ¨éƒ½æ›¿æ¢ï¼Œè¿™æ ·çš„è¯ï¼Œå·¥å…·å°±æ²¡æ³•ä½¿ç”¨äº†ã€‚2.0ç‰ˆæœ¬æ–°å¢žåŠŸèƒ½ï¼šå¯¹äºŽæ›¿æ¢å›¾é›†çš„Spriteæ”¯æŒå¯é€‰æ‹©æ€§çš„æ˜¯å¦æ›¿æ¢ã€‚ å·¥å…·æˆªå›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180804224118848?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) åœ¨ä¹‹å‰çš„å³ä¸‹è§’ç©ºç™½åŒºåŸŸï¼Œå¢žåŠ äº†é¢„åˆ¶ä½“æ‰€æœ‰UISpriteçš„åˆ—è¡¨æ˜¾ç¤ºï¼Œä½¿ç”¨çš„TreeViewç¼–å†™çš„ã€‚ TreeViewä»‹ç»ç›®å‰ï¼ŒTreeViewæˆ‘è¿˜æ²¡æœ‰å•ç‹¬å†™æ–‡å­—æ¥ä»‹ç»è¯¥å†…å®¹ï¼ŒåŽç»­ä¼šæ›´æ–°ã€‚å®˜æ–¹æ–‡æ¡£ï¼š https://docs.unity3d.com/Manual/TreeViewAPI.html ä»£ç Gitåœ°å€ https://github.com/JingFengJi/ReplaceAtlas æ¬¢è¿ŽåŠ æ˜Ÿ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ 2018.8.5æ—¥æ›´æ–°æ›´æ–°å†…å®¹1ã€æ”¯æŒSpriteé¢„è§ˆ Gifç¤ºä¾‹å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180805211815279?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é‡è¦ä»£ç ä»‹ç»Spriteçš„ç»˜åˆ¶ï¼Œæ˜¯é€šè¿‡æŸ¥çœ‹UISpriteInspectorç±»ï¼ˆNGUIï¼‰å‘çŽ°çš„ï¼Œè¯¥ç±»ä¸­åœ¨ä½¿ç”¨OnPreviewGUIæŽ¥å£ç»˜åˆ¶ç¤ºæ„å›¾çš„æ—¶å€™ï¼Œè°ƒç”¨äº†NGUIEdiotrTools.DrawSpriteæŽ¥å£ public override void OnPreviewGUI (Rect rect, GUIStyle background) { UISprite sprite = target as UISprite; if (sprite == null || !sprite.isValid) return; Texture2D tex = sprite.mainTexture as Texture2D; if (tex == null) return; UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName); NGUIEditorTools.DrawSprite(tex, rect, sd, sprite.color); }![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180805212237230?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é‚£é‡Œè¿™æ¬¡æ›´æ–°çš„å†…å®¹ï¼Œä¹Ÿä½¿ç”¨è¯¥æŽ¥å£è¿›è¡Œç»˜åˆ¶ã€‚è¯¦æƒ…è¯·çœ‹NGUIæºç ã€‚ ä½†æ˜¯ï¼Œè¯¥å¤„PreviewGUIåœ¨åº•éƒ¨ç»˜åˆ¶äº† SpriteSizeçš„Labelï¼Œè€Œæœ¬å·¥å…·ä¸éœ€è¦å°†å›¾å’Œå°ºå¯¸ä¿¡æ¯ç»˜åˆ¶åœ¨ä¸€èµ·ï¼Œå› æ­¤ä¿®æ”¹äº†æºç ï¼Œå¢žåŠ äº†ä¸€ä¸ªboolç±»åž‹çš„needSizeLabelå‚æ•°ï¼Œæ¥æŽ§åˆ¶æ˜¯å¦æ˜¾ç¤ºå°ºå¯¸ä¿¡æ¯ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180805212621503?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ä»£ç Gitåœ°å€ https://github.com/JingFengJi/ReplaceAtlas æ¬¢è¿ŽåŠ æ˜Ÿ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>æ‰¹é‡æ›¿æ¢NGUIé¢„åˆ¶å›¾é›†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸ƒï¼šNGUI ComponentSelectorå¢žåŠ æœç´¢æ¡†]]></title>
    <url>%2F2018%2F07%2F31%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-qi-ngui-componentselector-zeng-jia-sou-suo-kuang%2F</url>
    <content type="text"><![CDATA[NGUI ComponentSelectorå¢žåŠ æœç´¢æ¡†ç›®çš„æœ€è¿‘åœ¨ä½¿ç”¨NGUIï¼Œç»™Spriteé€‰æ‹©å›¾é›†çš„æ—¶å€™ï¼Œæ²¡æœ‰æœç´¢æ¡†è¦æŒ¨ä¸ªæ‰¾æŒºéº»çƒ¦ï¼Œå› æ­¤ä¿®æ”¹ä¸€ä¸‹ComponentSelectorç»„ä»¶ï¼Œå¢žåŠ ä¸€ä¸ªæœç´¢æ¡†ï¼Œä¾¿äºŽæœç´¢å›¾é›† ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180731230908117?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) GifåŠ¨å›¾å±•ç¤º![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180731232015407?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) SearchFieldä»‹ç»å…³äºŽSearchFieldä»‹ç»è¯·çœ‹ Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¹ ä»£ç ä»¥ä¸‹ä»£ç æ˜¯ä¿®æ”¹çš„NGUIé‡Œçš„ComponentSelectorè„šæœ¬ private SearchField search; private bool isInit = false; private string searchStr = &quot;&quot;; private void IfNeedInit() { if(isInit == false) search = new SearchField(); isInit = true; } void OnGUI () { IfNeedInit(); searchStr = search.OnGUI(new Rect(10,10,200,10),searchStr); searchStr = searchStr.ToLower(); //çœç•¥åŽé¢æºç  } bool DrawObject (Object obj) { if (obj == null) return false; //æœç´¢ if(!string.IsNullOrEmpty(searchStr) &amp;&amp; !obj.name.ToLower().Contains(searchStr)) return false; bool retVal = false; Component comp = obj as Component; GUILayout.BeginHorizontal(); { string path = AssetDatabase.GetAssetPath(obj); if (string.IsNullOrEmpty(path)) { path = &quot;[Embedded]&quot;; GUI.contentColor = new Color(0.7f, 0.7f, 0.7f); } else if (comp != null &amp;&amp; EditorUtility.IsPersistent(comp.gameObject)) GUI.contentColor = new Color(0.6f, 0.8f, 1f); retVal |= GUILayout.Button(obj.name, &quot;AS TextArea&quot;, GUILayout.Width(160f), GUILayout.Height(20f)); retVal |= GUILayout.Button(path.Replace(&quot;Assets/&quot;, &quot;&quot;), &quot;AS TextArea&quot;, GUILayout.Height(20f)); GUI.contentColor = Color.white; retVal |= GUILayout.Button(&quot;Select&quot;, &quot;ButtonLeft&quot;, GUILayout.Width(60f), GUILayout.Height(16f)); } GUILayout.EndHorizontal(); return retVal; }ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>NGUI ComponentSelectorå¢žåŠ æœç´¢æ¡†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå…­ï¼šç›‘å¬Scene Dragäº‹ä»¶]]></title>
    <url>%2F2018%2F07%2F30%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-liu-jian-ting-scene-drag-shi-jian%2F</url>
    <content type="text"><![CDATA[ç›‘å¬Scene Dragäº‹ä»¶GifåŠ¨å›¾å±•ç¤º![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180730212155553?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ç›®çš„é€šè¿‡è¯¥ç›‘å¬ï¼ŒèŽ·å–åˆ°è¢«Dragè¿›Sceneçš„ç‰©ä½“çš„ç±»åž‹ï¼Œå¯ä»¥åšä¸€äº›é¢„å¤„ç†ï¼Œä¾‹å¦‚ï¼šDragä¸€å¼ å›¾ç‰‡ï¼Œç›´æŽ¥ç”Ÿæˆä¸€ä¸ªGameObjectï¼ˆå¸¦Imageï¼Œå‰ææ˜¯UGUIï¼‰çš„æ”¾åœ¨Canvasä¸‹ ä»£ç using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; public class SceneManager { [InitializeOnLoadMethod] static void Init() { SceneView.onSceneGUIDelegate += OnSceneGUI; } private static void OnSceneGUI(SceneView sceneView) { Event e = Event.current; if(e.type == EventType.DragUpdated || e.type == EventType.DragPerform) { DragAndDrop.visualMode = DragAndDropVisualMode.Copy; if(e.type == EventType.DragPerform) { DragAndDrop.AcceptDrag(); for (int i = 0; i &lt; DragAndDrop.objectReferences.Length; i++) { Object handleObj = DragAndDrop.objectReferences[i]; if(handleObj != null) { Debug.LogError(handleObj.GetType()); } } } } } }ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>SceneDrag</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·]]></title>
    <url>%2F2018%2F07%2F28%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-wu-ngui-pi-liang-ti-huan-tu-ji-gong-ju%2F</url>
    <content type="text"><![CDATA[NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·å·¥å…·ç›®çš„å› é¡¹ç›®éœ€è¦å®žçŽ°æ¢è‚¤çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å¤šå¥—UIå›¾é›†ï¼Œæä¾›å·¥å…·æ‰¹é‡æ¢å›¾é›†ï¼Œæ–¹ä¾¿æŸ¥çœ‹Prebabå„çš®è‚¤ï¼ˆå›¾é›†ï¼‰ä¸‹çš„æ•ˆæžœ ç¤ºæ„å›¾Gif æ“ä½œåŠ¨å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728004232812?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å·¥å…·æˆªå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728004352956?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å·¥å…·å·¦ä¾§æ˜¯å·¥ç¨‹æ‰€æœ‰Prefabåˆ—è¡¨ï¼Œå³ä¾§æ˜¯æ›¿æ¢å›¾é›†çš„åŠŸèƒ½èœå•ï¼Œä»ŽæŒ‡å®šåŽŸå›¾é›†æ›¿æ¢æˆç›®æ ‡å›¾é›† é€»è¾‘ä¸Žä¸Šæ–‡ï¼šUnityç¼–è¾‘å™¨ä¹‹åå››ï¼šå­—ä½“æ›¿æ¢å·¥å…· https://blog.csdn.net/qq_26999509/article/details/81106083 ä¸€æ ·ï¼Œå…¶å®žæ‰¾åˆ°Prebfabä¸‹æ‰€æœ‰UISpriteï¼Œå¹¶å°†å…¶æ‰€æœ‰æŒ‡å®šåŽŸå›¾é›† æ›¿æ¢æˆæŒ‡å®šçš„ç›®æ ‡å›¾é›†ï¼Œä»¥æ­¤å®žçŽ°æ¢è‚¤çš„åŠŸèƒ½ï¼Œå½“ç„¶ä¸¤å›¾é›†çš„SpriteNameåº”è¯¥ä¿æŒä¸€è‡´ï¼Œä¸ç„¶æ²¡åŠžæ³•çŸ¥é“è¦æ¢æˆç›®æ ‡å›¾é›†é‡Œçš„é‚£å¼ å›¾ã€‚ é‡ç‚¹ä»£ç private void ReplacePrefabAtalas(GameObject prefab , UIAtlas atlas,UIAtlas targetAtlas) { if(prefab == null || atlas == null) return; UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true); if(sprites != null &amp;&amp; sprites.Length &gt; 0) { int num = sprites.Length; for (int i = 0; i &lt; num; i++) { UISprite s = sprites[i]; if(s != null &amp;&amp; s.atlas == atlas) { s.atlas = targetAtlas; EditorUtility.SetDirty(s); } } } AssetDatabase.SaveAssets(); }ä½¿ç”¨1ã€Tools-&gt;ReplaceAtalas æ‰“å¼€å·¥å…· ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728005410396?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 2ã€é€‰ä¸­å¾…å¤„ç†é¢„åˆ¶ä½“ï¼Œé¼ æ ‡å³é”®-&gt;æ›¿æ¢å›¾é›† ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728005536617?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 3ã€![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728005711218?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 4ã€ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180728010026779?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å·¥å…·ä»£ç using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; using System.IO; using UnityEditor.IMGUI.Controls; public class ReplaceAtalas : EditorWindow { private static ReplaceAtalas window = null; private static List&lt;string&gt; prefabPathList = new List&lt;string&gt; (); private static string assetPath; Rect SearchFieldRect { get { return new Rect(interval,interval,position.width * 0.3f,20f); } } Rect prefabListRect { get { return new Rect (interval, interval + SearchFieldRect.yMax, SearchFieldRect.width, window.position.height - SearchFieldRect.yMax - 2 * interval); } } Rect replaceAtalsRect { get{return new Rect(prefabListRect.xMax + interval,interval,window.position.width - SearchFieldRect.width - 3 * interval,window.position.height - 2 * interval);} } private Vector2 scrollWidgetPos; private float interval = 20f; private string searchStr = &quot;&quot;; private SearchField searchField; private bool initialized = false; [MenuItem(&quot;Assets/æ›¿æ¢å›¾é›†&quot;, false, 2001)] public static void OpenWindow() { string selectedAssetPath = AssetDatabase.GetAssetPath (Selection.activeObject); if(!string.IsNullOrEmpty(selectedAssetPath) &amp;&amp; selectedAssetPath.EndsWith(&quot;.prefab&quot;)) { ReplaceAtalas window = ShowWindow(); if(window != null) { window.AutoSelctPrefab(selectedAssetPath); } } } [MenuItem(&quot;Tools/ReplaceAtalas&quot;)] public static ReplaceAtalas ShowWindow() { prefabPathList.Clear (); assetPath = Application.dataPath; GetFiles (new DirectoryInfo (assetPath), &quot;*.prefab&quot;, ref prefabPathList); if (window == null) window = EditorWindow.GetWindow(typeof(ReplaceAtalas)) as ReplaceAtalas; window.titleContent = new GUIContent(&quot;ReplaceAtalas&quot;); window.Show(); return window; } public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) { if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) { try { foreach (FileInfo info in directory.GetFiles (pattern)) { string path = info.FullName.ToString (); fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;))); } } catch (System.Exception) { throw; } foreach (DirectoryInfo info in directory.GetDirectories ()) { GetFiles (info, pattern, ref fileList); } } } private void OnGUI() { InitIfNeeded(); DrawWindow(); } private void DrawWindow() { DrawSearchField(); DrawPrefabList(); DrawReplaceAtalasTool(); } private void InitIfNeeded() { if(!initialized) { if (null == searchField) searchField = new SearchField (); } initialized = true; } private void DrawSearchField() { GUI.backgroundColor = Color.white; searchStr = searchField.OnGUI (SearchFieldRect, searchStr); searchStr = searchStr.ToLower(); } private void DrawPrefabList() { GUI.backgroundColor = Color.white; GUI.Box(prefabListRect,&quot;&quot;); GUILayout.BeginArea(prefabListRect); scrollWidgetPos = EditorGUILayout.BeginScrollView(scrollWidgetPos); for (int i = 0; i &lt; prefabPathList.Count; i++) { if(CheckShowPrefab(prefabPathList[i],searchStr)) { if(GUILayout.Button(prefabPathList[i])) { curReplacePrefabPath = prefabPathList[i]; curPrefabAtlas = GetPrefabAllAtlas(curReplacePrefabPath); } } } EditorGUILayout.EndScrollView(); GUILayout.EndArea(); } private string curReplacePrefabPath = &quot;&quot;; private bool CheckShowPrefab(string path,string searchstr) { if(string.IsNullOrEmpty(searchStr)) return true; if(string.IsNullOrEmpty(path)) return false; return GetFileNameWithSuffix(path.ToLower()).Contains(searchStr); } //åŒ…æ‹¬åŽç¼€å private string GetFileNameWithSuffix(string path) { if(string.IsNullOrEmpty(path)) return string.Empty; return path.Substring(path.LastIndexOf(&quot;/&quot;)+1); } private UIAtlas curAtlas; private UIAtlas targetAtlas; void OnSelectAtlas (Object obj) { UIAtlas atlas = obj as UIAtlas; if(isSelectCurAtlas) { curAtlas = obj as UIAtlas; } else if(isSelectTargetAtlas) { targetAtlas = obj as UIAtlas; } isSelectCurAtlas = false; isSelectTargetAtlas = false; } private bool isSelectCurAtlas = false; private bool isSelectTargetAtlas = false; private List&lt;UIAtlas&gt; curPrefabAtlas = new List&lt;UIAtlas&gt;(); private void DrawReplaceAtalasTool() { GUI.backgroundColor = Color.white; GUILayout.BeginArea(replaceAtalsRect); EditorGUILayout.LabelField(curReplacePrefabPath); GUILayout.BeginHorizontal(); EditorGUILayout.LabelField(&quot;è¯¥é¢„åˆ¶ä½“å«æœ‰çš„æ‰€æœ‰å›¾é›†:&quot;,GUILayout.Width(150)); if(curPrefabAtlas.Count &gt; 0) { for (int i = 0; i &lt; curPrefabAtlas.Count; i++) { if(GUILayout.Button(curPrefabAtlas[i].name)) { curAtlas = curPrefabAtlas[i]; } if(GUILayout.Button(&quot;Edit&quot;)) { //NGUISettings.atlas = mFont.atlas; //NGUISettings.selectedSprite = sym.spriteName; NGUIEditorTools.Select(curPrefabAtlas[i].gameObject); } } } GUILayout.EndHorizontal(); //åŽŸå›¾é›† GUILayout.BeginHorizontal(); curAtlas = (UIAtlas)EditorGUILayout.ObjectField(&quot;è¢«æ›¿æ¢å›¾é›†&quot;, curAtlas, typeof(UIAtlas), true); if (NGUIEditorTools.DrawPrefixButton(&quot;é€‰æ‹©Atlas&quot;,GUILayout.Width(200))) { isSelectCurAtlas = true; ComponentSelector.Show&lt;UIAtlas&gt;(OnSelectAtlas); } GUILayout.EndHorizontal(); //ç›®æ ‡å›¾é›† GUILayout.BeginHorizontal(); targetAtlas = (UIAtlas)EditorGUILayout.ObjectField(&quot;ç›®æ ‡å›¾é›†&quot;, targetAtlas, typeof(UIAtlas), true); if (NGUIEditorTools.DrawPrefixButton(&quot;é€‰æ‹©Atlas&quot;,GUILayout.Width(200))) { isSelectTargetAtlas = true; ComponentSelector.Show&lt;UIAtlas&gt;(OnSelectAtlas); } GUILayout.EndHorizontal(); if(GUILayout.Button(&quot;äº’æ¢&quot;)) { UIAtlas tmpCurAtlas = curAtlas; curAtlas = targetAtlas; targetAtlas = tmpCurAtlas; } //æ›¿æ¢æŒ‰é’® if(GUILayout.Button(&quot;æ›¿æ¢å›¾é›†&quot;)) { if(string.IsNullOrEmpty(curReplacePrefabPath)) { EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé¢„åˆ¶ä½“!&quot;, &quot;ç¡®å®š&quot;); } else if (curAtlas == null) { EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;è¯·å…ˆæŒ‡å®šè¢«æ›¿æ¢å›¾é›†!&quot;, &quot;ç¡®å®š&quot;); } else { if(targetAtlas == null) { if(EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;åŽŸå›¾é›†å°†è¢«æ¸…ç©ºï¼Œç¡®å®šæ›¿æ¢å—ï¼Ÿ&quot;, &quot;ç¡®å®š&quot;,&quot;å–æ¶ˆ&quot;)) { ReplacePrefabAtalas(curReplacePrefabPath); } } else { ReplacePrefabAtalas(curReplacePrefabPath); } } } //ä¿å­˜æŒ‰é’® //æ’¤é”€æŒ‰é’® GUILayout.EndArea(); } private void ReplacePrefabAtalas(string path) { if(string.IsNullOrEmpty(path)) return; GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(path); ReplacePrefabAtalas(gameObj,curAtlas,targetAtlas); } private List&lt;UIAtlas&gt; GetPrefabAllAtlas(string path) { if(string.IsNullOrEmpty(path)) return null; GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(path); return GetPrefabAllAtlas(gameObj); } private List&lt;UIAtlas&gt; GetPrefabAllAtlas(GameObject prefab) { if(null == prefab) return null; List&lt;UIAtlas&gt; atlass = new List&lt;UIAtlas&gt;(); UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true); if(sprites != null &amp;&amp; sprites.Length &gt; 0) { int num = sprites.Length; for (int i = 0; i &lt; num; i++) { UISprite s = sprites[i]; if(s != null &amp;&amp; !atlass.Contains(s.atlas)) { atlass.Add(s.atlas); } } } return atlass; } private void ReplacePrefabAtalas(GameObject prefab , UIAtlas atlas,UIAtlas targetAtlas) { if(prefab == null || atlas == null) return; UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true); if(sprites != null &amp;&amp; sprites.Length &gt; 0) { int num = sprites.Length; for (int i = 0; i &lt; num; i++) { UISprite s = sprites[i]; if(s != null &amp;&amp; s.atlas == atlas) { s.atlas = targetAtlas; EditorUtility.SetDirty(s); } } } AssetDatabase.SaveAssets(); } public void AutoSelctPrefab(string prefabPath) { if(string.IsNullOrEmpty(prefabPath)) return; curReplacePrefabPath = prefabPath; curPrefabAtlas = GetPrefabAllAtlas(curReplacePrefabPath); curAtlas = null; targetAtlas = null; } }ä»£ç Gitåœ°å€ https://github.com/JingFengJi/ReplaceAtlas æ¬¢è¿ŽåŠ æ˜Ÿ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå››ï¼šå­—ä½“æ›¿æ¢å·¥å…·]]></title>
    <url>%2F2018%2F07%2F18%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-si-zi-ti-ti-huan-gong-ju%2F</url>
    <content type="text"><![CDATA[å­—ä½“æ›¿æ¢å·¥å…·![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180718215424988?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é€‰æ‹©NGUIè¿˜æ˜¯UGUIï¼Œé€‰æ‹©æ›¿æ¢çš„å­—ä½“ä»¥åŠå­—å·æ¯”ä¾‹ï¼Œå°±å¯ä»¥æ›¿æ¢å·¥ç¨‹ç›®å½•ä¸‹æ‰€æœ‰é¢„åˆ¶ä½“çš„å­—ä½“äº† è„šæœ¬using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; using System.IO; using UnityEngine.UI; public class ReplaceFont : EditorWindow { private static ReplaceFont window = null; private static List&lt;string&gt; prefafbPathList = new List&lt;string&gt;(); private static Font targetFont; private static Font curFont; private static float fontSizeRatio = 1f; private static bool isUGUI = true; [MenuItem(&quot;Tools/æ›¿æ¢å­—ä½“&quot;)] public static void CSVCode() { if (window == null) window = EditorWindow.GetWindow(typeof(ReplaceFont)) as ReplaceFont; GetFiles(new DirectoryInfo(Application.dataPath), &quot;*.prefab&quot;, ref prefafbPathList); window.titleContent = new GUIContent(&quot;ReplaceFont&quot;); window.Show(); } public static void GetFiles(DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) { if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty(pattern)) { try { foreach (FileInfo info in directory.GetFiles(pattern)) { string path = info.FullName.ToString(); fileList.Add(path.Substring (path.IndexOf (&quot;Assets&quot;))); } } catch (System.Exception) { throw; } foreach (DirectoryInfo info in directory.GetDirectories()) { GetFiles(info, pattern, ref fileList); } } } void OnGUI() { EditorGUILayout.BeginHorizontal(); isUGUI = EditorGUILayout.Toggle(&quot;UGUI&quot;,isUGUI); isUGUI = EditorGUILayout.Toggle(&quot;NGUI&quot;, !isUGUI); EditorGUILayout.EndHorizontal(); curFont = (Font) EditorGUILayout.ObjectField(&quot;è¢«æ›¿æ¢å­—ä½“&quot;, curFont, typeof(Font), true); targetFont = (Font) EditorGUILayout.ObjectField(&quot;ç›®æ ‡å­—ä½“&quot;, targetFont, typeof(Font), true); EditorGUILayout.BeginHorizontal(); EditorGUILayout.LabelField(&quot;å­—å·æ¯”ä¾‹ï¼š&quot;); fontSizeRatio = EditorGUILayout.FloatField(fontSizeRatio); EditorGUILayout.EndHorizontal(); if(GUILayout.Button(&quot;ä¸€é”®æ›¿æ¢&quot;)) { for (int i = 0; i&lt;prefafbPathList.Count; i++) { GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(prefafbPathList[i]); Change(gameObj); } AssetDatabase.SaveAssets(); } } public static void Change(GameObject prefab) { if(null != prefab) { Component[] labels = null; if(isUGUI) { labels = prefab.GetComponentsInChildren&lt;Text&gt;(true); } else { //labels = prefab.GetComponentsInChildren&lt;UILabel&gt;(true); } if(null != labels) foreach (Object item in labels) { if(isUGUI) { Text text = (Text)item; int newFontSize = (int)(text.fontSize * fontSizeRatio); if (text.font.name == curFont.name) { text.font = targetFont; text.fontSize = newFontSize; } } else { // UILabel label = (UILabel)item; // int newFontSize = (int)(label.fontSize * fontSizeRatio); // if (label.trueTypeFont.name == curFont.name) // { // label.trueTypeFont = targetFont; // label.fontSize = newFontSize; // } } EditorUtility.SetDirty(item); } } } }ä»£ç ä¸‹è½½ https://github.com/JingFengJi/ReplaceFont.git ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>å­—ä½“æ›¿æ¢å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸‰ï¼šCSVæ–‡ä»¶è§£æžä»£ç ç”Ÿæˆå·¥å…·]]></title>
    <url>%2F2018%2F07%2F17%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-san-csv-wen-jian-jie-xi-dai-ma-sheng-cheng-gong-ju%2F</url>
    <content type="text"><![CDATA[CSVæ–‡ä»¶è§£æžä»£ç ç”Ÿæˆå·¥å…·å·¥å…·ç¤ºæ„å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180717221145417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å·¦ä¾§æ˜¯å·¥ç¨‹ä¸‹æ‰€æœ‰çš„CSVæ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶æä¾›æœç´¢æ¡†ï¼Œå³ä¾§æ˜¯è§£æžéƒ¨åˆ†ï¼Œä¸Šè¾¹æä¾›äº†ä¿å­˜ä»£ç æ–‡ä»¶å’Œæ‹·è´ä»£ç çš„èœå•ï¼Œä¸­é—´æ˜¯CSVæ–‡ä»¶é¢„è§£æžå‡ºæ¥çš„å­—æ®µã€æ•°æ®ç±»åž‹ï¼ˆå¯é€‰ï¼‰ç­‰ï¼Œä¸‹é¢æ˜¯ä»£ç é¢„è§ˆåŒºåŸŸã€‚ èŽ·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„ä½¿ç”¨é€’å½’èŽ·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„ï¼Œå¹¶ç»˜åˆ¶åœ¨å·¦ä¾§ [MenuItem(&quot;Tools/CreateCSVParseCode&quot;)] public static void CSVCode() { csvFilesPathList.Clear (); assetPath = Application.dataPath; //èŽ·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„ GetFiles (new DirectoryInfo (assetPath), &quot;*.csv&quot;, ref csvFilesPathList); if (window == null) window = EditorWindow.GetWindow(typeof(CreateCSVParseCode)) as CreateCSVParseCode; window.titleContent = new GUIContent(&quot;CreateCSVParseCode&quot;); if(isLimitSize) { window.minSize = new Vector2(1420,674); window.maxSize = new Vector2(1420,674); } window.Show(); } public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) { if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) { try { foreach (FileInfo info in directory.GetFiles (pattern)) { string path = info.FullName.ToString (); fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;))); } } catch (System.Exception) { throw; } foreach (DirectoryInfo info in directory.GetDirectories ()) { GetFiles (info, pattern, ref fileList); } } }é¢„è§£æžCSVæ–‡ä»¶å®šä¹‰ä¸€ä¸ªç±»å­˜å‚¨é¢„è§£æžæ•°æ® public class CsvData { public string header; public DataType dataType; public bool isParse = true; } public enum DataType { Int = 0, String = 1, Double = 2, Bool = 3, //åŽç»­æ›´æ–°ä¸‹é¢ä¸‰ç§ç±»åž‹æ•°æ®çš„è§£æž //Vector3 = 4, //Vector2 = 5, //Color = 6, }è¯¦ç»†ä»£ç å‚è€ƒåŽé¢ä»£ç å·¥ç¨‹gitåœ°å€ ä»£ç æ ¼å¼åŒ–å°†è§£æžä»£ç æ ¼å¼åŒ–å­˜å‚¨åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œä»¥string formatçš„å½¢å¼å­˜åœ¨ã€‚ using System.Collections; using System.Collections.Generic; using UnityEngine; public class CSVCodeConfig { public static string DataClassFormat = @&quot;public class {0} {{ {1}}}&quot;; //å¦‚æžœæ˜¯å¸¦Vector3æˆ–è€…Vector3ç±»åž‹çš„æ•°æ®éœ€è¦ä½¿ç”¨å¸¦æœ‰UnityEngiineå‘½åç©ºé—´ public static string DataClassNameSpaceFormat = @&quot; using UnityEngine; public class {0} {{ {1} }}&quot;; public static string FieldFormat = &quot;\tpubilc {0} {1} {{ set; get; }}&quot;; public static string ClassNameFormat = &quot;{0}Model&quot;; public static string ModelListPrivateStatementFormat = &quot;private List&lt;{0}&gt; {1}&quot;; public static string ModelListPublicPropertyFormat = @&quot; public List&lt;{0}&gt; {1} {{ get {{ if({2} == null) {{ {3}(); }} return {4}; }} }}&quot;; public static string parseMethodNameFormat = &quot;Init{0}&quot;; public static string methodFormat = &quot;{0}();&quot;; public static string ModelDataParseMethodFormat = @&quot; private void {0}() {{ {1} = new List; string path = DEFAULT_CSV_PATH + {3}; CSVTable csvTable = CsvLoader.LoadCSV(path); foreach (CSVRecord record in csvTable.Records) {{ {4} temp = new {5}(); foreach (string header in csvTable.Headers) {{ {6} }} {7}.Add(temp); }} }}&quot;; public static string ModelDataHeaderEqualFormat_1 = @&quot;if (string.Equals(header, {0})) {{ {1} }}&quot;; public static string ModelDataHeaderEqualFormat_2 = @&quot; else if (string.Equals(header, {0})) {{ {1} }}&quot;; public static string ModelDataFieldValuationFormat_String = &quot;temp.{0} = record.GetField(header);&quot;; public static string ModelDataFieldValuationFormat_Int = &quot;temp.{0} = ConvertUtil.Str2Int(record.GetField(header));&quot;; public static string ModelDataFieldValuationFormat_Double = &quot;temp.{0} = ConvertUtil.Str2Double(record.GetField(header));&quot;; public static string ModelDataFieldValuationFormat_Bool = &quot;temp.{0} = ConvertUtil.Str2Int(record.GetField(header)) != 0;&quot;; }å®Œæ•´å·¥ç¨‹ https://github.com/JingFengJi/CSVParseCodeCreate ç¬¬ä¸‰æ–¹ReorderableListç¼–è¾‘å™¨å·¥å…·Rotorz ä¸‹è½½åœ°å€ï¼š https://bitbucket.org/rotorz/reorderable-list-editor-field-for-unity ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>CSVæ–‡ä»¶è§£æžä»£ç ç”Ÿæˆå·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¸¸æˆåŠŸèƒ½æ¨¡å—â€”â€”æ–°æ‰‹å¼•å¯¼]]></title>
    <url>%2F2018%2F07%2F06%2Fyou-xi-gong-neng-mo-kuai-xin-shou-yin-dao%2F</url>
    <content type="text"><![CDATA[æ–°æ‰‹å¼•å¯¼æµç¨‹å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180706225632527?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) æ•°æ®![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180706225847458?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ä»£ç é®ç½©Shader1ã€åœ†å½¢é®ç½© // Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt) Shader &quot;UI/BeginnerGuidance/CircleGuidance&quot; { Properties { [PerRendererData] _MainTex (&quot;Sprite Texture&quot;, 2D) = &quot;white&quot; {} _Color (&quot;Tint&quot;, Color) = (1,1,1,1) _StencilComp (&quot;Stencil Comparison&quot;, Float) = 8 _Stencil (&quot;Stencil ID&quot;, Float) = 0 _StencilOp (&quot;Stencil Operation&quot;, Float) = 0 _StencilWriteMask (&quot;Stencil Write Mask&quot;, Float) = 255 _StencilReadMask (&quot;Stencil Read Mask&quot;, Float) = 255 _ColorMask (&quot;Color Mask&quot;, Float) = 15 [Toggle(UNITY_UI_ALPHACLIP)] _UseUIAlphaClip (&quot;Use Alpha Clip&quot;, Float) = 0 _Center(&quot;Center&quot;,vector) = (0,0,0,0) _Slider(&quot;Slider&quot;,Range(0,1500)) = 1500 } SubShader { Tags { &quot;Queue&quot;=&quot;Transparent&quot; &quot;IgnoreProjector&quot;=&quot;True&quot; &quot;RenderType&quot;=&quot;Transparent&quot; &quot;PreviewType&quot;=&quot;Plane&quot; &quot;CanUseSpriteAtlas&quot;=&quot;True&quot; } Stencil { Ref [_Stencil] Comp [_StencilComp] Pass [_StencilOp] ReadMask [_StencilReadMask] WriteMask [_StencilWriteMask] } Cull Off Lighting Off ZWrite Off ZTest [unity_GUIZTestMode] Blend SrcAlpha OneMinusSrcAlpha ColorMask [_ColorMask] Pass { Name &quot;Default&quot; CGPROGRAM #pragma vertex vert #pragma fragment frag #pragma target 2.0 #include &quot;UnityCG.cginc&quot; #include &quot;UnityUI.cginc&quot; #pragma multi_compile __ UNITY_UI_CLIP_RECT #pragma multi_compile __ UNITY_UI_ALPHACLIP struct appdata_t { float4 vertex : POSITION; float4 color : COLOR; float2 texcoord : TEXCOORD0; UNITY_VERTEX_INPUT_INSTANCE_ID }; struct v2f { float4 vertex : SV_POSITION; fixed4 color : COLOR; float2 texcoord : TEXCOORD0; float4 worldPosition : TEXCOORD1; UNITY_VERTEX_OUTPUT_STEREO }; fixed4 _Color; fixed4 _TextureSampleAdd; float4 _ClipRect; float2 _Center; float _Slider; v2f vert(appdata_t v) { v2f OUT; UNITY_SETUP_INSTANCE_ID(v); UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(OUT); OUT.worldPosition = v.vertex; OUT.vertex = UnityObjectToClipPos(OUT.worldPosition); OUT.texcoord = v.texcoord; OUT.color = v.color * _Color; return OUT; } sampler2D _MainTex; fixed4 frag(v2f IN) : SV_Target { half4 color = (tex2D(_MainTex, IN.texcoord) + _TextureSampleAdd) * IN.color; #ifdef UNITY_UI_CLIP_RECT color.a *= UnityGet2DClipping(IN.worldPosition.xy, _ClipRect); #endif #ifdef UNITY_UI_ALPHACLIP clip (color.a - 0.001); #endif color.a *= (distance(IN.worldPosition.xy, _Center.xy) &gt; _Slider); color.rgb *= color.a; return color; } ENDCG } } }2ã€çŸ©å½¢é®ç½© // Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt) Shader &quot;UI/BeginnerGuidance/Rect&quot; { Properties { [PerRendererData] _MainTex (&quot;Sprite Texture&quot;, 2D) = &quot;white&quot; {} _Color (&quot;Tint&quot;, Color) = (1,1,1,1) _StencilComp (&quot;Stencil Comparison&quot;, Float) = 8 _Stencil (&quot;Stencil ID&quot;, Float) = 0 _StencilOp (&quot;Stencil Operation&quot;, Float) = 0 _StencilWriteMask (&quot;Stencil Write Mask&quot;, Float) = 255 _StencilReadMask (&quot;Stencil Read Mask&quot;, Float) = 255 _ColorMask (&quot;Color Mask&quot;, Float) = 15 [Toggle(UNITY_UI_ALPHACLIP)] _UseUIAlphaClip (&quot;Use Alpha Clip&quot;, Float) = 0 _Center(&quot;Center&quot;,vector) = (0,0,0,0) _SliderX(&quot;SliderX&quot;,Range(0,1500)) = 1500 _SliderY(&quot;SliderY&quot;,Range(0,1500)) = 1500 } SubShader { Tags { &quot;Queue&quot;=&quot;Transparent&quot; &quot;IgnoreProjector&quot;=&quot;True&quot; &quot;RenderType&quot;=&quot;Transparent&quot; &quot;PreviewType&quot;=&quot;Plane&quot; &quot;CanUseSpriteAtlas&quot;=&quot;True&quot; } Stencil { Ref [_Stencil] Comp [_StencilComp] Pass [_StencilOp] ReadMask [_StencilReadMask] WriteMask [_StencilWriteMask] } Cull Off Lighting Off ZWrite Off ZTest [unity_GUIZTestMode] Blend SrcAlpha OneMinusSrcAlpha ColorMask [_ColorMask] Pass { Name &quot;Default&quot; CGPROGRAM #pragma vertex vert #pragma fragment frag #pragma target 2.0 #include &quot;UnityCG.cginc&quot; #include &quot;UnityUI.cginc&quot; #pragma multi_compile __ UNITY_UI_CLIP_RECT #pragma multi_compile __ UNITY_UI_ALPHACLIP struct appdata_t { float4 vertex : POSITION; float4 color : COLOR; float2 texcoord : TEXCOORD0; UNITY_VERTEX_INPUT_INSTANCE_ID }; struct v2f { float4 vertex : SV_POSITION; fixed4 color : COLOR; float2 texcoord : TEXCOORD0; float4 worldPosition : TEXCOORD1; UNITY_VERTEX_OUTPUT_STEREO }; fixed4 _Color; fixed4 _TextureSampleAdd; float4 _ClipRect; float2 _Center; float _SliderX; float _SliderY; v2f vert(appdata_t v) { v2f OUT; UNITY_SETUP_INSTANCE_ID(v); UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(OUT); OUT.worldPosition = v.vertex; OUT.vertex = UnityObjectToClipPos(OUT.worldPosition); OUT.texcoord = v.texcoord; OUT.color = v.color * _Color; return OUT; } sampler2D _MainTex; fixed4 frag(v2f IN) : SV_Target { half4 color = (tex2D(_MainTex, IN.texcoord) + _TextureSampleAdd) * IN.color; #ifdef UNITY_UI_CLIP_RECT color.a *= UnityGet2DClipping(IN.worldPosition.xy, _ClipRect); #endif #ifdef UNITY_UI_ALPHACLIP clip (color.a - 0.001); #endif float2 dis = IN.worldPosition.xy - _Center.xy; color.a *= (abs(dis.x) &gt; _SliderX) || (abs(dis.y) &gt; _SliderY); color.rgb *= color.a; return color; } ENDCG } } }æŒç»­æ›´æ–°ä¸­â€¦â€¦]]></content>
      <categories>
        <category>Unity</category>
        <category>æ¸¸æˆåŠŸèƒ½æ¨¡å—</category>
      </categories>
      <tags>
        <tag>æ–°æ‰‹å¼•å¯¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäºŒï¼šé¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ]]></title>
    <url>%2F2018%2F06%2F24%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-er-yu-zhi-ti-ceng-ji-quan-yu-lan%2F</url>
    <content type="text"><![CDATA[é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆç›®çš„Asseté¢æ¿ä¸‹é¢„åˆ¶ä½“å¹¶ä¸ä¼šæ˜¾ç¤ºå…¨ï¼Œåˆ¶ä½œä¸€ä¸ªå·¥å…·æ˜¾ç¤ºé¢„åˆ¶ä½“çš„å…¨éƒ¨å±‚çº§ï¼Œè¿™ç®—æ˜¯TreeViewçš„ä¸€ä¸ªåº”ç”¨ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018062422144114?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) Codeä»£ç ä¸­ç”¨äº† Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸€ï¼šé€šè¿‡Image NameåæŸ¥Prefab ä¸­çš„ä¸€ä¸ªç±»PrefabTreeView using System.Collections; using System.Collections.Generic; using UnityEditor.IMGUI.Controls; using UnityEngine; public class GameObjectTreeViewItem { public TreeViewItem viewItem; public Transform treeViewTrans; public Transform parent; public List&lt;Transform&gt; childs = new List&lt;Transform&gt; (); public bool IsChild (Transform tran) { if (null == tran) return false; if (tran.parent == treeViewTrans) return true; return false; } public void AddChildTransform (Transform childTransform) { if (null != childTransform) childs.Add (childTransform); } public bool HasChildTransform (Transform tran) { if (null == tran) return false; return childs.Contains (tran); } } public class PrefabTreeView : TreeView { private Transform[] childs; private GameObjectTreeViewItem[] items; public PrefabTreeView (TreeViewState state, GameObject go) : base (state) { treeGameObject = go; childs = treeGameObject.GetComponentsInChildren&lt;Transform&gt; (true); items = new GameObjectTreeViewItem[childs.Length]; #region Init Items Parent for (int i = 0; i &lt; childs.Length; i++) { items[i] = new GameObjectTreeViewItem (); items[i].treeViewTrans = childs[i]; if (childs[i].parent != null) items[i].parent = childs[i].parent; } #endregion #region Init Child Transform for (int i = 0; i &lt; childs.Length; i++) { for (int j = 0; j &lt; items.Length; j++) { if (items[j].IsChild (childs[i])) { items[j].AddChildTransform (childs[i]); break; } } } #endregion Reload (); } private GameObject treeGameObject; private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, Transform trans) { if (null == items || items.Length == 0 || trans == null) return null; for (int i = 0; i &lt; items.Length; i++) { if (items[i] != null &amp;&amp; items[i].treeViewTrans == trans) return items[i]; } return null; } private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, TreeViewItem viewItem) { if (null == items || items.Length == 0 || viewItem == null) return null; for (int i = 0; i &lt; items.Length; i++) { if (null != items &amp;&amp; items[i].viewItem == viewItem) return items[i]; } return null; } protected override TreeViewItem BuildRoot () { TreeViewItem root = new TreeViewItem { id = 0, depth = -1, displayName = &quot;root&quot; }; TreeViewItem[] childItems = new TreeViewItem[childs.Length]; for (int i = 0; i &lt; childs.Length; i++) { childItems[i] = new TreeViewItem { id = i + 1, displayName = childs[i].name }; GameObjectTreeViewItem item = GetGameObjectTreeViewItem (items, childs[i]); if (null != item) { item.viewItem = childItems[i]; } } root.AddChild (childItems[0]); for (int i = 0; i &lt; childItems.Length; i++) { GameObjectTreeViewItem temp = GetGameObjectTreeViewItem (items, childItems[i]); if (temp != null &amp;&amp; temp.childs != null) { for (int j = 0; j &lt; temp.childs.Count; j++) { GameObjectTreeViewItem childItem = GetGameObjectTreeViewItem (items, temp.childs[j]); if (childItem != null &amp;&amp; childItem.viewItem != null) { childItems[i].AddChild (childItem.viewItem); } } } } SetupDepthsFromParentsAndChildren (root); return root; } } using System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEditor.IMGUI.Controls; using UnityEngine; public class PrefabViewWindow : EditorWindow { private GameObject selectPrefab = null; [SerializeField] TreeViewState treeViewState; PrefabTreeView prefabTreeView; void OnEnable () { if (null == treeViewState) treeViewState = new TreeViewState (); } [MenuItem (&quot;PrefabView/PrefabViewWindow&quot;)] private static void ShowWindow () { GetWindow&lt;PrefabViewWindow&gt; ().Show (); } private void OnGUI () { if (null != selectPrefab) { Rect rect = GUILayoutUtility.GetRect (0, 100000, 0, 100000); prefabTreeView = new PrefabTreeView (treeViewState, selectPrefab); prefabTreeView.OnGUI (rect); prefabTreeView.ExpandAll (); } else { } } void OnSelectionChange () { selectPrefab = Selection.activeObject as GameObject; Repaint(); } }Codeä¸‹è½½ https://github.com/JingFengJi/PrefabViewWindow ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸€ï¼šé€šè¿‡Image NameåæŸ¥Prefab]]></title>
    <url>%2F2018%2F06%2F24%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-yi-tong-guo-image-name-fan-cha-prefab%2F</url>
    <content type="text"><![CDATA[é€šè¿‡Image Nameå¿«é€ŸåæŸ¥Prefabå¼€å‘æ€è·¯1ã€èŽ·å–åˆ°å·¥ç¨‹ä¸­æ‰€æœ‰Prefab2ã€èŽ·å–Prefabçš„æ‰€æœ‰Imageå’ŒRawImage3ã€æ£€æµ‹Prefabä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šåç§°çš„Image ç¼–è¾‘å™¨ç¤ºæ„å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018062421264348?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ç¼–è¾‘å™¨åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š1ã€æœç´¢æ¡†2ã€é¢„åˆ¶ä½“åˆ—è¡¨3ã€é¢„åˆ¶ä½“å±‚çº§ Codeusing System.Collections; using System.Collections.Generic; using System.IO; using UnityEditor; using UnityEditor.IMGUI.Controls; using UnityEngine; using UnityEngine.UI; public class FindPrefabByImage : EditorWindow { private static string assetPath; private static List&lt;string&gt; prefabPaths = new List&lt;string&gt; (); private bool initialized = false; private SearchField searchField; private string searchStr; Rect toolbarRect { get { return new Rect (20f, 10f, position.width - 40f, 20f); } } Rect searchResultViewRect { get { return new Rect (20f, 40f, (position.width - 40) / 2, position.height - 40f); } } Rect selectPrefabHierarchyViewRect { get { return new Rect (position.width / 2, 40, (position.width - 40) / 2, position.height - 40f); } } Vector2 searchResultScrollViewPos = Vector2.zero; [SerializeField] TreeViewState treeViewState; PrefabTreeView prefabTreeView; private GameObject curSelectPrefab; void OnEnable () { if (null == treeViewState) treeViewState = new TreeViewState (); } [MenuItem (&quot;CommonTools/å›¾ç‰‡åæŸ¥é¢„åˆ¶ä½“å¼•ç”¨å·¥å…·&quot;)] public static FindPrefabByImage GetWindow () { prefabPaths.Clear (); assetPath = Application.dataPath; GetFiles (new DirectoryInfo (assetPath), &quot;*.prefab&quot;, ref prefabPaths); var window = GetWindow&lt;FindPrefabByImage&gt; (); window.titleContent = new GUIContent (&quot;FindPrefab&quot;); window.Focus (); window.Repaint (); return window; } public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) { if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) { try { foreach (FileInfo info in directory.GetFiles (pattern)) { string path = info.FullName.ToString (); fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;))); } } catch (System.Exception) { throw; } foreach (DirectoryInfo info in directory.GetDirectories ()) { GetFiles (info, pattern, ref fileList); } } } /// &lt;summary&gt; /// æ£€æµ‹é¢„åˆ¶ä½“æ˜¯å¦åŒ…å«Imageç»„ä»¶ /// &lt;/summary&gt; /// &lt;param name=&quot;prefab&quot;&gt;æ£€æµ‹çš„é¢„åˆ¶ä½“&lt;/param&gt; /// &lt;param name=&quot;imageName&quot;&gt;Imageåç§°ï¼Œå¯ä¸ºç©º&lt;/param&gt; /// &lt;returns&gt;å¦‚æžœImageåç§°ä¸ºç©ºä¸”é¢„åˆ¶ä½“åŒ…å«Imageç»„ä»¶ï¼Œæˆ–è€…Imageä¸ä¸ºç©ºé¢„åˆ¶ä½“åŒ…å«è¯¥æŒ‡å®šImageï¼Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse&lt;/returns&gt; public static bool CheckPrefabHasImage (GameObject prefab, string imageName = null) { if (!string.IsNullOrEmpty (imageName)) imageName = imageName.ToLower (); if (null == prefab) return false; Image[] images = prefab.GetComponentsInChildren&lt;Image&gt; (true); if (null != images &amp;&amp; images.Length &gt; 0) { if (string.IsNullOrEmpty (imageName)) { return true; } else { for (int i = 0; i &lt; images.Length; i++) { if (null != images[i] &amp;&amp; images[i].sprite != null &amp;&amp; images[i].sprite.name.ToLower() == imageName) { return true; } } } } RawImage[] rawImages = prefab.GetComponentsInChildren&lt;RawImage&gt; (true); if (null != rawImages &amp;&amp; rawImages.Length &gt; 0) { if (string.IsNullOrEmpty (imageName)) { return true; } else { for (int i = 0; i &lt; rawImages.Length; i++) { if (null != rawImages[i] &amp;&amp; null != rawImages[i].texture &amp;&amp; rawImages[i].texture.name.ToLower() == imageName) { return true; } } } } return false; } private void InitIfNeeded () { if (!initialized) { if (null == searchField) searchField = new SearchField (); initialized = true; } } void OnGUI () { InitIfNeeded (); DoSearchField (); DoSearchResultView (); DoSelectPrefabHierarchyVieww (); } private void DoSearchField () { searchStr = searchField.OnGUI (toolbarRect, searchStr); } private void DoSearchResultView () { GUILayout.BeginArea (searchResultViewRect); searchResultScrollViewPos = GUILayout.BeginScrollView (searchResultScrollViewPos); for (int i = 0; i &lt; prefabPaths.Count; i++) { GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt; (@prefabPaths[i]); if (gameObj != null) { bool result = CheckPrefabHasImage (gameObj,searchStr); if (result) { if (GUILayout.Button (prefabPaths[i])) { curSelectPrefab = gameObj; } } } } GUILayout.EndScrollView (); GUILayout.EndArea (); } private void DoSelectPrefabHierarchyVieww () { GUILayout.BeginArea (selectPrefabHierarchyViewRect); if (null != curSelectPrefab) { Rect rect = GUILayoutUtility.GetRect (0, 100000, 0, 100000); prefabTreeView = new PrefabTreeView (treeViewState, curSelectPrefab); prefabTreeView.OnGUI (rect); prefabTreeView.ExpandAll (); } else { } GUILayout.EndArea (); } } using System.Collections; using System.Collections.Generic; using UnityEditor.IMGUI.Controls; using UnityEngine; public class GameObjectTreeViewItem { public TreeViewItem viewItem; public Transform treeViewTrans; public Transform parent; public List&lt;Transform&gt; childs = new List&lt;Transform&gt; (); public bool IsChild (Transform tran) { if (null == tran) return false; if (tran.parent == treeViewTrans) return true; return false; } public void AddChildTransform (Transform childTransform) { if (null != childTransform) childs.Add (childTransform); } public bool HasChildTransform (Transform tran) { if (null == tran) return false; return childs.Contains (tran); } } public class PrefabTreeView : TreeView { private Transform[] childs; private GameObjectTreeViewItem[] items; public PrefabTreeView (TreeViewState state, GameObject go) : base (state) { treeGameObject = go; childs = treeGameObject.GetComponentsInChildren&lt;Transform&gt; (true); items = new GameObjectTreeViewItem[childs.Length]; #region Init Items Parent for (int i = 0; i &lt; childs.Length; i++) { items[i] = new GameObjectTreeViewItem (); items[i].treeViewTrans = childs[i]; if (childs[i].parent != null) items[i].parent = childs[i].parent; } #endregion #region Init Child Transform for (int i = 0; i &lt; childs.Length; i++) { for (int j = 0; j &lt; items.Length; j++) { if (items[j].IsChild (childs[i])) { items[j].AddChildTransform (childs[i]); break; } } } #endregion Reload (); } private GameObject treeGameObject; private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, Transform trans) { if (null == items || items.Length == 0 || trans == null) return null; for (int i = 0; i &lt; items.Length; i++) { if (items[i] != null &amp;&amp; items[i].treeViewTrans == trans) return items[i]; } return null; } private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, TreeViewItem viewItem) { if (null == items || items.Length == 0 || viewItem == null) return null; for (int i = 0; i &lt; items.Length; i++) { if (null != items &amp;&amp; items[i].viewItem == viewItem) return items[i]; } return null; } protected override TreeViewItem BuildRoot () { TreeViewItem root = new TreeViewItem { id = 0, depth = -1, displayName = &quot;root&quot; }; TreeViewItem[] childItems = new TreeViewItem[childs.Length]; for (int i = 0; i &lt; childs.Length; i++) { childItems[i] = new TreeViewItem { id = i + 1, displayName = childs[i].name }; GameObjectTreeViewItem item = GetGameObjectTreeViewItem (items, childs[i]); if (null != item) { item.viewItem = childItems[i]; } } root.AddChild (childItems[0]); for (int i = 0; i &lt; childItems.Length; i++) { GameObjectTreeViewItem temp = GetGameObjectTreeViewItem (items, childItems[i]); if (temp != null &amp;&amp; temp.childs != null) { for (int j = 0; j &lt; temp.childs.Count; j++) { GameObjectTreeViewItem childItem = GetGameObjectTreeViewItem (items, temp.childs[j]); if (childItem != null &amp;&amp; childItem.viewItem != null) { childItems[i].AddChild (childItem.viewItem); } } } } SetupDepthsFromParentsAndChildren (root); return root; } }ä»£ç ä¸­ç”¨åˆ°äº†TreeViewçš„çŸ¥è¯†ï¼Œè¯·è‡ªè¡Œè¡¥å……ï¼ŒåŽç»­ä¼šæ›´æ–°å…³ç³»TreeViewçš„çŸ¥è¯†ç‚¹ Codeä¸‹è½½ https://github.com/JingFengJi/FindPrefabByImage ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åï¼šUIå¯¹é½å·¥å…·]]></title>
    <url>%2F2018%2F06%2F22%2Funity-bian-ji-qi-tuo-zhan-zhi-shi-ui-dui-qi-gong-ju%2F</url>
    <content type="text"><![CDATA[ç¤ºä¾‹å›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180622214023588?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180622214216448?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å¼€å‘æ€è·¯1ã€èŽ·å–é€‰ä¸­çš„UI2ã€æ ¹æ®å¯¹é½è§„åˆ™ä¿®æ”¹æ‰€é€‰ä¸­UIçš„åæ ‡ ä»£ç UGUIAlign.csusing System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEngine; public enum AlignType { Top = 1, Left = 2, Right = 3, Bottom = 4, HorizontalCenter = 5, //æ°´å¹³å±…ä¸­ VerticalCenter = 6, //åž‚ç›´å±…ä¸­ Horizontal = 7, //æ¨ªå‘åˆ†å¸ƒ Vertical = 8, //çºµå‘åˆ†å¸ƒ } public class UGUIAlign : Editor { [MenuItem(&quot;GameObject/UI/Align/Left ã€å·¦å¯¹é½ã€‘&quot;)] static void AlignLeft() { Align(AlignType.Left); } [MenuItem(&quot;GameObject/UI/Align/HorizontalCenter ã€æ°´å¹³å±…ä¸­ã€‘&quot;)] static void AlignHorizontalCenter() { Align(AlignType.HorizontalCenter); } [MenuItem(&quot;GameObject/UI/Align/Right ã€å³å¯¹é½ã€‘&quot;)] static void AlignRight() { Align(AlignType.Right); } [MenuItem(&quot;GameObject/UI/Align/Top ã€é¡¶ç«¯å¯¹é½ã€‘&quot;)] static void AlignTop() { Align(AlignType.Top); } [MenuItem(&quot;GameObject/UI/Align/VerticalCenter ã€åž‚ç›´å±…ä¸­ã€‘&quot;)] static void AlignVerticalCenter() { Align(AlignType.VerticalCenter); } [MenuItem(&quot;GameObject/UI/Align/Bottom ã€åº•ç«¯å¯¹é½ã€‘&quot;)] static void AlignBottom() { Align(AlignType.Bottom); } [MenuItem(&quot;GameObject/UI/Align/Horizontal ã€æ¨ªå‘åˆ†å¸ƒã€‘&quot;)] static void AlignHorizontal() { Align(AlignType.Horizontal); } [MenuItem(&quot;GameObject/UI/Align/Vertical ã€çºµå‘åˆ†å¸ƒã€‘&quot;)] static void AlignVertical() { Align(AlignType.Vertical); } public static void Align(AlignType type) { List&lt;RectTransform&gt; rects = new List&lt;RectTransform&gt;(); GameObject[] objects = Selection.gameObjects; if (objects != null &amp;&amp; objects.Length &gt; 0) { for (int i = 0; i &lt; objects.Length; i++) { RectTransform rect = objects[i].GetComponent&lt;RectTransform&gt;(); if (rect != null) rects.Add(rect); } } if (rects.Count &gt; 1) { Align(type, rects); } } public static void Align(AlignType type, List&lt;RectTransform&gt; rects) { RectTransform tenplate = rects[0]; float w = tenplate.sizeDelta.x * tenplate.lossyScale.x; float h = tenplate.sizeDelta.y * tenplate.localScale.y; float x = tenplate.position.x - tenplate.pivot.x * w; float y = tenplate.position.y - tenplate.pivot.y * h; switch (type) { case AlignType.Top: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float th = trans.sizeDelta.y * trans.localScale.y; Vector3 pos = trans.position; pos.y = y + h - th + trans.pivot.y * th; trans.position = pos; } break; case AlignType.Left: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float tw = trans.sizeDelta.x * trans.lossyScale.x; Vector3 pos = trans.position; pos.x = x + tw * trans.pivot.x; trans.position = pos; } break; case AlignType.Right: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float tw = trans.sizeDelta.x * trans.lossyScale.x; Vector3 pos = trans.position; pos.x = x + w - tw + tw * trans.pivot.x; trans.position = pos; } break; case AlignType.Bottom: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float th = trans.sizeDelta.y * trans.localScale.y; Vector3 pos = trans.position; pos.y = y + th * trans.pivot.y; trans.position = pos; } break; case AlignType.HorizontalCenter: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float tw = trans.sizeDelta.x * trans.lossyScale.x; Vector3 pos = trans.position; pos.x = x + 0.5f * w - 0.5f * tw + tw * trans.pivot.x; trans.position = pos; } break; case AlignType.VerticalCenter: for (int i = 1; i &lt; rects.Count; i++) { RectTransform trans = rects[i]; float th = trans.sizeDelta.y * trans.localScale.y; Vector3 pos = trans.position; pos.y = y + 0.5f * h - 0.5f * th + th * trans.pivot.y; trans.position = pos; } break; case AlignType.Horizontal: float minX = GetMinX(rects); float maxX = GetMaxX(rects); rects.Sort(SortListRectTransformByX); float distance = (maxX - minX)/(rects.Count - 1); for (int i = 1; i &lt; rects.Count - 1; i++) { RectTransform trans = rects[i]; Vector3 pos = trans.position; pos.x = minX + i * distance; trans.position = pos; } break; case AlignType.Vertical: float minY = GetMinY(rects); float maxY = GetMaxY(rects); rects.Sort(SortListRectTransformByY); float distanceY = (maxY - minY)/(rects.Count - 1); for (int i = 1; i &lt; rects.Count - 1; i++) { RectTransform trans = rects[i]; Vector3 pos = trans.position; pos.y = minY + i*distanceY; trans.position = pos; } break; } } private static int SortListRectTransformByX(RectTransform r1, RectTransform r2) { float w = r1.sizeDelta.x * r1.lossyScale.x; float x1 = r1.position.x - r1.pivot.x * w; w = r2.sizeDelta.x * r2.lossyScale.x; float x2 = r2.position.x - r2.pivot.x * w; if (x1 &gt;= x2) return 1; else return -1; } private static int SortListRectTransformByY(RectTransform r1, RectTransform r2) { float w = r1.sizeDelta.y * r1.lossyScale.y; float y1 = r1.position.y - r1.pivot.y * w; w = r2.sizeDelta.y * r2.lossyScale.y; float y2 = r2.position.y - r2.pivot.y * w; if (y1 &gt;= y2) return 1; else return -1; } private static float GetMinX(List&lt;RectTransform&gt; rects) { if (null == rects || rects.Count == 0) return 0; RectTransform tenplate = rects[0]; float minx = tenplate.position.x; float tempX = 0; for (int i = 1; i &lt; rects.Count; i++) { tempX = rects[i].position.x; if (tempX &lt; minx) minx = tempX; } return minx; } private static float GetMaxX(List&lt;RectTransform&gt; rects) { if (null == rects || rects.Count == 0) return 0; RectTransform tenplate = rects[0]; float maxX = tenplate.position.x; float tempX = 0; for (int i = 1; i &lt; rects.Count; i++) { tempX = rects[i].position.x; if (tempX &gt; maxX) maxX = tempX; } return maxX; } private static float GetMinY(List&lt;RectTransform&gt; rects) { if (null == rects || rects.Count == 0) return 0; RectTransform tenplate = rects[0]; float minY = tenplate.position.y; float tempX = 0; for (int i = 1; i &lt; rects.Count; i++) { tempX = rects[i].position.y; if (tempX &lt; minY) minY = tempX; } return minY; } private static float GetMaxY(List&lt;RectTransform&gt; rects) { if (null == rects || rects.Count == 0) return 0; RectTransform tenplate = rects[0]; float maxY = tenplate.position.y; float tempX = 0; for (int i = 1; i &lt; rects.Count; i++) { tempX = rects[i].position.y; if (tempX &gt; maxY) maxY = tempX; } return maxY; } }UGUIAlignWindow.csä¸ºäº†æ“ä½œæ›´åŠ ä¾¿æ·ï¼Œæä¾›ä¸€ä¸ªEditorWindowç±» using System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEngine; public class UGUIAlignWindow : EditorWindow { private Dictionary&lt;AlignType,Texture&gt; alignTexture = new Dictionary&lt;AlignType, Texture&gt;(); void OnEnable() { Texture leftTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Left&quot;); Texture horizontalCenterTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/HorizontalCenter&quot;); Texture rightTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Right&quot;); Texture topTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Top&quot;); Texture verticalCenterTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/VerticalCenter&quot;); Texture bottomTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Bottom&quot;); Texture horizontalTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Horizontal&quot;); Texture verticalTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Vertical&quot;); alignTexture.Add(AlignType.Left, leftTexture); alignTexture.Add(AlignType.HorizontalCenter, horizontalCenterTexture); alignTexture.Add(AlignType.Right, rightTexture); alignTexture.Add(AlignType.Top, topTexture); alignTexture.Add(AlignType.VerticalCenter, verticalCenterTexture); alignTexture.Add(AlignType.Bottom, bottomTexture); alignTexture.Add(AlignType.Horizontal, horizontalTexture); alignTexture.Add(AlignType.Vertical, verticalTexture); } [MenuItem(&quot;UGUIAlign/Align&quot;)] public static UGUIAlignWindow GetWindow() { var window = GetWindow&lt;UGUIAlignWindow&gt;(); window.titleContent = new GUIContent(&quot;UGUI Align&quot;); window.Focus(); window.Repaint(); return window; } void OnGUI() { GUILayout.BeginHorizontal(); GUILayout.BeginVertical(); for (int i = (int)AlignType.Top; i &lt;= (int)AlignType.Vertical; i++) { if (GUILayout.Button(alignTexture[(AlignType)i], &quot;LargeButton&quot;)) { UGUIAlign.Align((AlignType)i); } if (i%3 == 0) { GUILayout.EndVertical(); GUILayout.BeginVertical(); } } GUILayout.EndVertical(); GUILayout.EndHorizontal(); } }å¯¹é½å›¾ç‰‡èµ„æº![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018062221455923?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) Codeä¸‹è½½ https://github.com/JingFengJi/UGUIAlign ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>UIå¯¹é½å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¹ï¼šSearchField]]></title>
    <url>%2F2018%2F05%2F13%2Funity-bian-ji-qi-tuo-zhan-zhi-jiu-searchfield%2F</url>
    <content type="text"><![CDATA[Unityå®˜æ–¹ä»‹ç»æ–‡æ¡£ï¼š https://docs.unity3d.com/ScriptReference/IMGUI.Controls.SearchField.html Properties1ã€autoSetFocusOnFindCommandï¼šå½“ç”¨æˆ·æŒ‰ä¸‹â€œCtrl/Cmd + Fâ€æ—¶ï¼Œèšç„¦è¯¥æŽ§ä»¶ï¼Œé»˜è®¤å€¼ä¸ºtrueç›¸å…³ä»£ç ï¼š private bool m_AutoSetFocusOnFindCommand = true; public bool autoSetFocusOnFindCommand { get { return this.m_AutoSetFocusOnFindCommand; } set { this.m_AutoSetFocusOnFindCommand = value; } } private void CommandEventHandling() { Event current = Event.current; if (current.type == EventType.ExecuteCommand || current.type == EventType.ValidateCommand) { //UnityEngineå†…éƒ¨åº”è¯¥å»ºç«‹äº†commandNameä¸ŽæŒ‰é”®çš„å¯¹åº”å…³ç³» //https://docs.unity3d.com/ScriptReference/Event-commandName.html if (this.m_AutoSetFocusOnFindCommand &amp;&amp; current.commandName == &quot;Find&quot;) { if (current.type == EventType.ExecuteCommand) { this.SetFocus(); } current.Use(); } } }2ã€searchFieldControlIDæŽ§ä»¶çš„ControllIDï¼Œå°±ä¸å¤šä»‹ç»äº†ï¼Œæž„é€ å‡½æ•°é‡Œä¼šä¸ºå®ƒèµ‹å€¼ã€‚ å…¬æœ‰å‡½æ•°ï¼šæž„é€ å‡½æ•°ï¼š public SearchField() { this.m_ControlID = GUIUtility.GetPermanentControlID(); }HasFocusï¼š public bool HasFocus() { return GUIUtility.keyboardControl == this.m_ControlID; }SetFocusï¼š public void SetFocus() { this.m_WantsFocus = true; }OnGUIæä¾›äº†ä¸‰ä¸ªé‡è½½ï¼š public string OnGUI(string text, params GUILayoutOption[] options); public string OnGUI(Rect rect, string text); public string OnGUI(Rect rect, string text, GUIStyle style, GUIStyle cancelButtonStyle, GUIStyle emptyCancelButtonStyle); public string OnGUI(Rect rect, string text, GUIStyle style, GUIStyle cancelButtonStyle, GUIStyle emptyCancelButtonStyle) { this.CommandEventHandling(); this.FocusAndKeyHandling(); float fixedWidth = cancelButtonStyle.fixedWidth; Rect position = rect; position.width -= fixedWidth; text = EditorGUI.TextFieldInternal(this.m_ControlID, position, text, style); Rect position2 = rect; position2.x += rect.width - fixedWidth; position2.width = fixedWidth; //æœç´¢æ¡†çš„ X æŒ‰é’® if (GUI.Button(position2, GUIContent.none, (!(text != &quot;&quot;)) ? emptyCancelButtonStyle : cancelButtonStyle) &amp;&amp; text != &quot;&quot;) { //æœç´¢æ–‡å­— ç½®ä¸º Emptyï¼Œå¹¶å–æ¶ˆå…¶èšç„¦ text = &quot;&quot;; GUIUtility.keyboardControl = 0; } return text; } public string OnGUI(Rect rect, string text) { //EditorStyles.searchField = æœç´¢æ¡†æ ·å¼ //EditorStyles.searchFieldCancelButton= æœç´¢æ¡†å–æ¶ˆæŒ‰é’®æ ·å¼ //EditorStyles.searchFieldCancelButtonEmpty = æœç´¢æ¡† æœç´¢å…³é”®å­—ä¸ºç©ºæ—¶çš„ æ ·å¼ return this.OnGUI(rect, text, EditorStyles.searchField, EditorStyles.searchFieldCancelButton, EditorStyles.searchFieldCancelButtonEmpty); } public string OnGUI(string text, params GUILayoutOption[] options) { Rect rect = GUILayoutUtility.GetRect(36f, 1E+07f, 16f, 16f, EditorStyles.searchField, options); return this.OnGUI(rect, text); }ç§æœ‰å‡½æ•°ï¼šFocusAndKeyHandlingï¼š private void FocusAndKeyHandling() { Event current = Event.current; //SetFocuså…¬æœ‰æŽ¥å£å°†ç§æœ‰å˜é‡m_WantsFocusç½®ä¸ºtrueï¼Œå°†controlIDèµ‹å€¼ç»™GUIUtility.keyboardControlä»¥æ­¤å®žçŽ°Focus if (this.m_WantsFocus &amp;&amp; current.type == EventType.Repaint) { GUIUtility.keyboardControl = this.m_ControlID; EditorGUIUtility.editingTextField = true; this.m_WantsFocus = false; } if (current.type == EventType.KeyDown &amp;&amp; (current.keyCode == KeyCode.DownArrow || current.keyCode == KeyCode.UpArrow) &amp;&amp; GUIUtility.keyboardControl == this.m_ControlID &amp;&amp; GUIUtility.hotControl == 0) { if (this.downOrUpArrowKeyPressed != null) { this.downOrUpArrowKeyPressed(); current.Use(); } } }Eventï¼šdownOrUpArrowKeyPressedï¼šæœç´¢å­—æ®µæ—¶æ£€æµ‹åˆ°å‘ä¸Šæˆ–è€…å‘ä¸‹é”®è¢«æŒ‰ä¸‹æ—¶ï¼Œå¯ä»¥ç”¨æ¥æ”¹å˜é”®ç›˜ç„¦ç‚¹åˆ°å¦ä¸€ä¸ªæŽ§ä»¶ï¼Œä¾‹å¦‚TreeViewï¼Œå¦‚ä¸‹å›¾ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180513181705295?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) public event SearchField.SearchFieldCallback downOrUpArrowKeyPressed { add { SearchField.SearchFieldCallback searchFieldCallback = this.downOrUpArrowKeyPressed; SearchField.SearchFieldCallback searchFieldCallback2; do { searchFieldCallback2 = searchFieldCallback; searchFieldCallback = Interlocked.CompareExchange&lt;SearchField.SearchFieldCallback&gt;(ref this.downOrUpArrowKeyPressed, (SearchField.SearchFieldCallback)Delegate.Combine(searchFieldCallback2, value), searchFieldCallback); } while (searchFieldCallback != searchFieldCallback2); } remove { SearchField.SearchFieldCallback searchFieldCallback = this.downOrUpArrowKeyPressed; SearchField.SearchFieldCallback searchFieldCallback2; do { searchFieldCallback2 = searchFieldCallback; searchFieldCallback = Interlocked.CompareExchange&lt;SearchField.SearchFieldCallback&gt;(ref this.downOrUpArrowKeyPressed, (SearchField.SearchFieldCallback)Delegate.Remove(searchFieldCallback2, value), searchFieldCallback); } while (searchFieldCallback != searchFieldCallback2); } }ä»¥ä¸Šä»£ç ä¸ºä½¿ç”¨ILSpyå·¥å…·åç¼–è¯‘å¾—æ¥ï¼Œä»…ä¾›å­¦ä¹ ä½¿ç”¨ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>SearchField</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸ƒï¼šå¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢žæ¡ç›®]]></title>
    <url>%2F2018%2F04%2F06%2Funity-bian-ji-qi-tuo-zhan-zhi-qi-ru-he-zai-preferenceswindow-zhong-xin-zeng-tiao-mu%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢žæ¡ç›®åœ¨ Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ ä¸­ï¼Œæœ‰ä»‹ç»åˆ°éƒ¨åˆ†PreferencesWindow.csçš„ä»£ç ï¼Œè€Œæœ¬æ–‡ä»Žæºç å¼€å§‹ç»™å¤§å®¶ä»‹ç»ã€‚ PreferencesWindow.csä¸­ï¼š private void AddCustomSections() { Assembly[] loadedAssemblies = EditorAssemblies.loadedAssemblies; for (int i = 0; i &lt; loadedAssemblies.Length; i++) { Assembly assembly = loadedAssemblies[i]; Type[] typesFromAssembly = AssemblyHelper.GetTypesFromAssembly(assembly); Type[] array = typesFromAssembly; for (int j = 0; j &lt; array.Length; j++) { Type type = array[j]; MethodInfo[] methods = type.GetMethods(BindingFlags.Static | BindingFlags.Public | BindingFlags.NonPublic); for (int k = 0; k &lt; methods.Length; k++) { MethodInfo methodInfo = methods[k]; //å…³é”®åœ¨è¿™ä¸€è¡Œ PreferenceItem preferenceItem = Attribute.GetCustomAttribute(methodInfo, typeof(PreferenceItem)) as PreferenceItem; if (preferenceItem != null) { PreferencesWindow.OnGUIDelegate onGUIDelegate = Delegate.CreateDelegate(typeof(PreferencesWindow.OnGUIDelegate), methodInfo) as PreferencesWindow.OnGUIDelegate; if (onGUIDelegate != null) { this.m_Sections.Add(new PreferencesWindow.Section(preferenceItem.name, onGUIDelegate)); } } } } } }ä»£ç ç‰‡ä¸­æ ‡æ³¨çš„é‚£ä¸€è¡Œï¼ŒMSDNä¸­çš„ä»‹ç»æ˜¯ï¼šâ€œæ£€ç´¢åº”ç”¨äºŽç¨‹åºé›†ã€ æ¨¡å—ã€ ç±»åž‹æˆå‘˜æˆ–æ–¹æ³•å‚æ•°çš„æŒ‡å®šç±»åž‹çš„è‡ªå®šä¹‰å±žæ€§ã€‚â€ [ MSDNä¸­å…³äºŽè¯¥æŽ¥å£çš„ä»‹ç» ](https://msdn.microsoft.com/zh-cn/library/system.attribute.getcustomattribute%28v=vs.110%29.aspx) é‚£ä¹ˆï¼Œä¸Šè¿°ä»£ç ä¸­æ£€ç´¢äº†ç¨‹åºä¸­ä½¿ç”¨ PreferenceItemçš„æ‰€æœ‰methodï¼ŒéšåŽå°†å¸¦æœ‰PreferenceItemçš„methodInfoå®žä¾‹åŒ–æˆä¸€ä¸ªå§”æ‰˜ï¼Œè¿›è€Œæž„é€ ä¸€ä¸ªSectionå¯¹è±¡ï¼Œæ·»åŠ åˆ°m_Setionsé›†åˆä¸­ã€‚ æŽ¥ç€ï¼Œçœ‹Unity æ–‡æ¡£ï¼Œå…³äºŽ PreferenceItem çš„ä»‹ç»ã€‚ https://docs.unity3d.com/2017.2/Documentation/ScriptReference/PreferenceItem.html PreferenceItemå±žæ€§å…è®¸æ‚¨æ·»åŠ é¦–é€‰é¡¹åˆ°preferencesçª—å£ã€‚ è§£é‡Šè·Ÿæºç åˆ†æžçš„ä¸€æ ·ï¼ŒæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç æµ‹è¯•ã€‚ [PreferenceItem(&quot;Preference Item&quot;)] private static void SelfPreferenceItem() { EditorGUILayout.LabelField(&quot;Self Preference Item&quot;, EditorStyles.boldLabel); if (GUILayout.Button(&quot;Button&quot;)) { Debug.LogError(&quot;Click&quot;); } EditorGUILayout.Space(); }![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180406153027300?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ä½†æ˜¯ï¼Œå‘çŽ°æœ‰ç‚¹ä¸å¯¹åŠ²ï¼Œç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ä¸­æåˆ°çš„é€‰ä¸­å·¦ä¾§ï¼Œå‡ºçŽ°é—®é¢˜äº†ã€‚æ²¡æœ‰è‡ªåŠ¨é€‰ä¸­æ–°å¢žçš„é‚£ä¸€é¡¹ã€‚ ç„¶åŽé€šè¿‡æ–­ç‚¹ï¼ŒæŸ¥çœ‹åˆ°åå°„å‡ºæ¥çš„m_Sectionsé›†åˆé‡Œï¼Œå¹¶æ²¡æœ‰æ–°å¢žçš„é‚£ä¸€é¡¹ï¼Œä½¿å¾—åœ¨éåŽ†çš„æ—¶å€™ï¼Œæ²¡æ³•è‡ªåŠ¨é€‰ä¸­å®ƒã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒAddCustomSectionså‡½æ•°åœ¨æ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡Œåˆ°ï¼Œä½¿å¾—æ–°å¢žçš„ â€œPreference Itemâ€å¹¶æ²¡æœ‰è¢«æ·»åŠ åˆ°m_Sectionsè¿™ä¸ªé›†åˆé‡Œã€‚ æŸ¥çœ‹ä¸€ä¸‹æºç ä¸­æ˜¯åˆé€‚è°ƒç”¨çš„ AddCustomSectionså‡½æ•°ï¼Œ private void OnGUI() { if (this.m_RefreshCustomPreferences) { this.AddCustomSections(); this.m_RefreshCustomPreferences = false; } //èŠ‚çœç¯‡å¹…ï¼ŒåŽé¢ä»£ç çœç•¥ }ä¹Ÿå°±æ˜¯å½“m_RefreshCustomPreferenceså€¼ä¸ºtrueæ—¶ï¼Œæ‰§è¡Œä¸€éAddCustomSectionså‡½æ•°ã€‚ å®Œå–„ä»£ç ï¼š using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; using System.Reflection; using System; public class OpenPreferencesWindow : EditorWindow { [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)] public static void Open() { OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;(); } private void OnGUI() { if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;)) { Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow)); Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;); type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null); EditorWindow window = EditorWindow.GetWindow(type); //è§£å†³ä¸èƒ½è‡ªåŠ¨å®šä½ æ–°å¢žæ¡ç›® çš„é—®é¢˜ //æ‰‹åŠ¨è°ƒç”¨ä¸€éAddCustomSectionså‡½æ•° FieldInfo refreshField = type.GetField(&quot;m_RefreshCustomPreferences&quot;, BindingFlags.NonPublic | BindingFlags.Instance); if ((bool)refreshField.GetValue(window)) { type.GetMethod(&quot;AddCustomSections&quot;, BindingFlags.NonPublic | BindingFlags.Instance).Invoke(window, null); refreshField.SetValue(window, false); } FieldInfo sectionsField = type.GetField(&quot;m_Sections&quot;, BindingFlags.Instance | BindingFlags.NonPublic); IList sections = sectionsField.GetValue(window) as IList; Type sectionType = sectionsField.FieldType.GetGenericArguments()[0]; FieldInfo sectionContentField = sectionType.GetField(&quot;content&quot;, BindingFlags.Instance | BindingFlags.Public); for (int i = 0; i &lt; sections.Count; i++) { GUIContent sectionContent = sectionContentField.GetValue(sections[i]) as GUIContent; if (sectionContent.text == &quot;Preference Item&quot;) { FieldInfo sectionIndexField = type.GetField(&quot;m_SelectedSectionIndex&quot;, BindingFlags.Instance | BindingFlags.NonPublic); sectionIndexField.SetValue(window, i); return; } } } } [PreferenceItem(&quot;Preference Item&quot;)] private static void SelfPreferenceItem() { EditorGUILayout.LabelField(&quot;Self Preference Item&quot;, EditorStyles.boldLabel); if (GUILayout.Button(&quot;Button&quot;)) { Debug.LogError(&quot;Click&quot;); } EditorGUILayout.Space(); } }å®Œç¾Žæ”¶å·¥ï¼ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>PreferencesWindow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ï¼šåˆ©ç”¨åå°„æ‰“å¼€Unity Preferences Window]]></title>
    <url>%2F2018%2F04%2F05%2Funity-bian-ji-qi-tuo-zhan-zhi-liu-li-yong-fan-she-da-kai-unity-preferences-window%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•åˆ©ç”¨åå°„æ‰“å¼€Unity Preferences WindowUnity Preferences Windowå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018040521134474?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) ä½œä¸ºUnity çš„å‚æ•°è®¾ç½®çª—å£ï¼Œè¿™ä¸ªçª—å£æ”¯æŒæ–°å¢žé¡¹ï¼Œå½“ç„¶æœ¬æ–‡ä¸ä»‹ç»è¿™ä¸ªå†…å®¹ï¼Œæœ¬æ¬¡ä»‹ç»å¦‚ä½•åˆ©ç”¨åå°„ã€ä»¥åŠUnityEditorä»£ç æ¥å®žçŽ°ç”¨ä»£ç æ‰“å¼€Preferences Windowä»¥åŠè®¾ç½®é€‰ä¸­é¡¹ã€‚ ä½¿ç”¨ILSpyå·¥å…·åç¼–è¯‘UnityEditor.dllåŽå‘¢ï¼Œåœ¨ä¸‹å›¾ç›®å½•ä¸­çš„PreferencesWinndow.csè„šæœ¬ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018040521190433?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) é‡Œé¢æœ‰ä¸€ä¸ªæŽ¥å£æ˜¯â€ShowPreferencesWindowâ€ï¼Œä»Žå­—é¢ä¸Šå°±å¯ä»¥ç†è§£åˆ°æ˜¯ç”¨æ¥æ‰“å¼€PreferencesWindowçš„ã€‚ private static void ShowPreferencesWindow() { EditorWindow window = EditorWindow.GetWindow&lt;PreferencesWindow&gt;(true, &quot;Unity Preferences&quot;); window.minSize = new Vector2(500f, 400f); window.maxSize = new Vector2(window.minSize.x, window.maxSize.y); window.position = new Rect(new Vector2(100f, 100f), window.minSize); window.m_Parent.window.m_DontSaveToLayout = true; }è¯¥å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œæ²¡åŠžæ³•ç›´æŽ¥è°ƒï¼Œåˆ©ç”¨åå°„è¯•ä¸€ä¸‹ã€‚ using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; using System.Reflection; using System; public class OpenPreferencesWindow : EditorWindow { [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)] public static void Open() { OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;(); } private void OnGUI() { if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;)) { Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow)); Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;); type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null); } } }æ•ˆæžœå›¾ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180405213022507?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) æŽ¥ä¸‹æ¥ï¼Œå°±æ˜¯å¦‚ä½•å®žçŽ°åœ¨æ‰“å¼€windowä¹‹åŽç›´æŽ¥é€‰ä¸­æŸä¸€é¡¹ã€‚ æŸ¥çœ‹ä¸€ä¸‹OnEnableå‡½æ•°ï¼Œåˆå§‹åŒ–é‡Œé¢åšäº†å•¥ï¼Ÿ private void OnEnable() { this.prefWinExtensions = ModuleManager.GetPreferenceWindowExtensions(); this.ReadPreferences(); this.m_Sections = new List&lt;PreferencesWindow.Section&gt;(); this.m_Sections.Add(new PreferencesWindow.Section(&quot;General&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowGeneral))); this.m_Sections.Add(new PreferencesWindow.Section(&quot;External Tools&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowExternalApplications))); this.m_Sections.Add(new PreferencesWindow.Section(&quot;Colors&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowColors))); this.m_Sections.Add(new PreferencesWindow.Section(&quot;Keys&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowKeys))); this.m_Sections.Add(new PreferencesWindow.Section(&quot;GI Cache&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowGICache))); this.m_Sections.Add(new PreferencesWindow.Section(&quot;2D&quot;, new PreferencesWindow.OnGUIDelegate(this.Show2D))); if (Unsupported.IsDeveloperBuild() || UnityConnect.preferencesEnabled) { this.m_Sections.Add(new PreferencesWindow.Section(&quot;Unity Services&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowUnityConnectPrefs))); } this.m_RefreshCustomPreferences = true; }ä¸ŽPreferencesWindowå›¾å¯¹æ¯”ä¹‹åŽå‘çŽ°ï¼Œm_Sectionsè¿™ä¸ªé›†åˆé‡Œå­˜çš„Sectionå¯¹è±¡åº”è¯¥å°±æ˜¯Windowå·¦ä¾§çš„å¯é€‰é¡¹äº†ã€‚ æŽ¥ç€çœ‹çœ‹Sectionè¿™ä¸ªç±» private class Section { public GUIContent content; public PreferencesWindow.OnGUIDelegate guiFunc; public Section(string name, PreferencesWindow.OnGUIDelegate guiFunc) { this.content = new GUIContent(name); this.guiFunc = guiFunc; } public Section(string name, Texture2D icon, PreferencesWindow.OnGUIDelegate guiFunc) { this.content = new GUIContent(name, icon); this.guiFunc = guiFunc; } public Section(GUIContent content, PreferencesWindow.OnGUIDelegate guiFunc) { this.content = content; this.guiFunc = guiFunc; } }PreferencesWindowåœ¨OnEnableçš„æ—¶å€™ï¼Œå°±æœ‰å®žä¾‹åŒ–å‡ ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¾‹å¦‚â€œColorsâ€,å°±å­˜åœ¨ç±»çš„contentä¸­ï¼Œé‚£ä¹ˆåªéœ€è¦åå°„åˆ°è¿™ä¸ªcontentçš„ï¼Œå†éåŽ†è¿™ä¸ªm_Sectionsï¼Œå°±å¯ä»¥å®žçŽ°é€‰ä¸­å·¦ä¾§äº†ã€‚ å®Œæ•´ä»£ç ï¼Œå¦‚ä¸‹ï¼š using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; using System.Reflection; using System; public class OpenPreferencesWindow : EditorWindow { [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)] public static void Open() { OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;(); } private void OnGUI() { if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;)) { Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow)); Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;); type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null); EditorWindow window = EditorWindow.GetWindow(type); FieldInfo sectionsField = type.GetField(&quot;m_Sections&quot;, BindingFlags.Instance | BindingFlags.NonPublic); IList sections = sectionsField.GetValue(window) as IList; Type sectionType = sectionsField.FieldType.GetGenericArguments()[0]; FieldInfo sectionContentField = sectionType.GetField(&quot;content&quot;, BindingFlags.Instance | BindingFlags.Public); for (int i = 0; i &lt; sections.Count; i++) { GUIContent sectionContent = sectionContentField.GetValue(sections[i]) as GUIContent; if (sectionContent.text == &quot;Colors&quot;) { FieldInfo sectionIndexField = type.GetField(&quot;m_SelectedSectionIndex&quot;, BindingFlags.Instance | BindingFlags.NonPublic); sectionIndexField.SetValue(window, i); return; } } } } }æ•ˆæžœå›¾ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180405215336898?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) å¦‚æžœæ’ä»¶ä¸­æœ‰åœ¨PreferencesWindowä¸­æ·»åŠ é¡¹ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªè®©ç”¨æˆ·å¿«æ·æ‰“å¼€äº†ã€‚ é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶å­¦ä¼šå¦‚ä½•åˆ†æžåç¼–è¯‘å‡ºçš„ä»£ç ï¼Œåˆ†æžUnityEditorå¦‚ä½•å®žçŽ°çš„ç¼–è¾‘å™¨ï¼Œä»¥æ­¤æ¥å†™å‡ºæ›´åŠ å®žç”¨çš„æ’ä»¶ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>PreferencesWindow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äº”ï¼šä¿®æ”¹è„šæœ¬icon]]></title>
    <url>%2F2017%2F12%2F28%2Funity-bian-ji-qi-tuo-zhan-zhi-wu-xiu-gai-jiao-ben-icon%2F</url>
    <content type="text"><![CDATA[Unityä¿®æ”¹è„šæœ¬åœ¨Projecté¢æ¿ä¸­æ˜¾ç¤ºçš„iconæœ‰ä¸¤ç§æ–¹æ³•ï¼Œå…ˆçœ‹ç¤ºæ„å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171228000919910?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æ–¹æ³•1ï¼šä¿®æ”¹è„šæœ¬çš„metaæ–‡ä»¶è„šæœ¬çš„ metaæ–‡ä»¶é»˜è®¤å¦‚ä¸‹æ‰€ç¤ºï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171228001130631?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æ³¨æ„åˆ°ï¼Œå›¾ä¸­çš„iconï¼Œå¡«çš„â€œinstanceID = 0â€å³ä¸ºé»˜è®¤æ˜¾ç¤º åœ¨é‡Œé¢å¡«å…¥iconæ–‡ä»¶çš„fileidå’Œguidï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå³å¯å®žçŽ°ã€‚ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171228001038478?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æ–¹æ³•äºŒï¼šç®€å•ç²—æš´ï¼ŒUnityç›´æŽ¥å¯ä»¥è®¾ç½®ã€‚ã€‚ã€‚ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171228001444719?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ä¿®æ”¹è„šæœ¬icon</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å››ï¼šConsoleWindowä¸­çš„åŒå‡»æ—¥å¿—å®šä½]]></title>
    <url>%2F2017%2F11%2F12%2Funity-bian-ji-qi-tuo-zhan-zhi-si-consolewindow-zhong-de-shuang-ji-ri-zhi-ding-wei%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡åœ°å€ï¼š http://blog.csdn.net/l449612236/article/details/76087616 æ„Ÿè°¢ä¸Šä½åšä¸»çš„åˆ†äº«ã€‚ æœ¬æ–‡åœ¨æ­¤åŸºç¡€ä¸Šï¼Œåšäº†åˆ†æžåŠ ä¸Šäº†æ›´åŠ è¯¦ç»†çš„ä»‹ç»ã€‚ æ–°å»ºLogEditorè„šæœ¬ç›´æŽ¥ä¸Šæºç ä»¥åŠæ³¨é‡Šï¼š using System.Reflection; using UnityEditor; using UnityEngine; public class LogEditor { private class LogEditorConfig { public string logScriptPath = &quot;&quot;; //è‡ªå®šä¹‰æ—¥å¿—è„šæœ¬è·¯å¾„ public string logTypeName = &quot;&quot;; //è„šæœ¬type public int instanceID = 0; public LogEditorConfig(string logScriptPath, System.Type logType) { this.logScriptPath = logScriptPath; this.logTypeName = logType.FullName; } } //é…ç½®çš„æ—¥å¿— private static LogEditorConfig[] _logEditorConfig = new LogEditorConfig[] { new LogEditorConfig(&quot;Assets/Scripts/DDebug/DDebug.cs&quot;,typeof(DDebug)) }; //å¤„ç†ä»ŽConsoleWindowåŒå‡»è·³è½¬ [UnityEditor.Callbacks.OnOpenAssetAttribute(-1)] private static bool OnOpenAsset(int instanceID,int line) { for (int i = _logEditorConfig.Length - 1; i &gt;= 0; --i) { var configTmp = _logEditorConfig[i]; UpdateLogInstanceID(configTmp); if (instanceID == configTmp.instanceID) { var statckTrack = GetStackTrace(); if (!string.IsNullOrEmpty(statckTrack)) { /* ä¸¾ä¾‹è¯´æ˜Žï¼šä¸‹é¢è¿™æ®µæ˜¯ä¸€æ¡ConsoleWindowçš„æ—¥å¿—ä¿¡æ¯ Awake UnityEngine.Debug:Log(Object) DDebug:Log(String) (at Assets/Scripts/DDebug/DDebug.cs:13) Test:Awake() (at Assets/Scripts/Test.cs:13) è¯´æ˜Žï¼š 1ã€å…¶ä¸­ç¬¬ä¸€è¡Œçš„&quot;Awake&quot;:æ˜¯æŒ‡è°ƒç”¨è‡ªå®šä¹‰æ‰“å°æ—¥å¿—å‡½æ•°çš„å‡½æ•°åï¼Œæœ¬ä¾‹æ˜¯åœ¨Testè„šæœ¬ä¸­çš„Awakeå‡½æ•°é‡Œè°ƒç”¨çš„ 2ã€ç¬¬äºŒè¡Œçš„&quot;UnityEngine.Debug:Log(Object)&quot;:æ˜¯æŒ‡è¯¥æ—¥å¿—æœ€åº•å±‚æ˜¯é€šè¿‡Debug.Logå‡½æ•°æ‰“å°å‡ºæ¥çš„ 3ã€ç¬¬ä¸‰è¡Œçš„&quot;DDebug:Log(String) (at Assets/Scripts/DDebug/DDebug.cs:13)&quot;:æŒ‡ç¬¬äºŒè¡Œçš„å‡½æ•°è°ƒç”¨åœ¨DDebug.csçš„13è¡Œ 4ã€ç¬¬å››è¡Œçš„&quot;Test:Awake() (at Assets/Scripts/Test.cs:13)&quot;:æŒ‡Test.csè„šæœ¬çš„Awakeå‡½æ•°è°ƒç”¨äº†ç¬¬äºŒè¡Œçš„DDebug.csçš„Logå‡½æ•°ï¼Œåœ¨ç¬¬13è¡Œ */ //é€šè¿‡ä»¥ä¸Šä¿¡æ¯ï¼Œä¸éš¾å¾—å‡ºåŒå‡»è¯¥æ—¥å¿—åº”è¯¥æ‰“å¼€Test.csæ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°ç¬¬13è¡Œ //ä»¥æ¢è¡Œåˆ†å‰²å †æ ˆä¿¡æ¯ var fileNames = statckTrack.Split(&apos;\n&apos;); //å®šä½åˆ°è°ƒç”¨è‡ªå®šä¹‰æ—¥å¿—å‡½æ•°çš„é‚£ä¸€è¡Œï¼š&quot;Test:Awake() (at Assets/Scripts/Test.cs:13)&quot; var fileName = GetCurrentFullFileName(fileNames); //å®šä½åˆ°ä¸Šä¾‹çš„è¡Œæ•°ï¼š13 var fileLine = LogFileNameToFileLine(fileName); //å¾—åˆ°è°ƒç”¨è‡ªå®šä¹‰æ—¥å¿—å‡½æ•°çš„è„šæœ¬ï¼š&quot;Assets/Scripts/Test.cs&quot; fileName = GetRealFileName(fileName); //æ ¹æ®è„šæœ¬åå’Œè¡Œæ•°ï¼Œæ‰“å¼€è„šæœ¬ //&quot;Assets/Scripts/Test.cs&quot; //13 AssetDatabase.OpenAsset(AssetDatabase.LoadAssetAtPath&lt;UnityEngine.Object&gt;(fileName), fileLine); return true; } break; } } return false; } /// &lt;summary&gt; /// åå°„å‡ºæ—¥å¿—å †æ ˆ /// &lt;/summary&gt; /// &lt;returns&gt;&lt;/returns&gt; private static string GetStackTrace() { var consoleWindowType = typeof(EditorWindow).Assembly.GetType(&quot;UnityEditor.ConsoleWindow&quot;); var fieldInfo = consoleWindowType.GetField(&quot;ms_ConsoleWindow&quot;, BindingFlags.Static | BindingFlags.NonPublic); var consoleWindowInstance = fieldInfo.GetValue(null); if (null != consoleWindowInstance) { if ((object)EditorWindow.focusedWindow == consoleWindowInstance) { fieldInfo = consoleWindowType.GetField(&quot;m_ActiveText&quot;, BindingFlags.Instance | BindingFlags.NonPublic); string activeText = fieldInfo.GetValue(consoleWindowInstance).ToString(); return activeText; } } return &quot;&quot;; } private static void UpdateLogInstanceID(LogEditorConfig config) { if (config.instanceID &gt; 0) { return; } var assetLoadTmp = AssetDatabase.LoadAssetAtPath&lt;UnityEngine.Object&gt;(config.logScriptPath); if (null == assetLoadTmp) { throw new System.Exception(&quot;not find asset by path=&quot; + config.logScriptPath); } config.instanceID = assetLoadTmp.GetInstanceID(); } private static string GetCurrentFullFileName(string[] fileNames) { string retValue = &quot;&quot;; int findIndex = -1; for (int i = fileNames.Length - 1; i &gt;= 0; --i) { bool isCustomLog = false; for (int j = _logEditorConfig.Length - 1; j &gt;= 0; --j) { if (fileNames[i].Contains(_logEditorConfig[j].logTypeName)) { isCustomLog = true; break; } } if (isCustomLog) { findIndex = i; break; } } if (findIndex &gt;= 0 &amp;&amp; findIndex &lt; fileNames.Length - 1) { retValue = fileNames[findIndex + 1]; } return retValue; } private static string GetRealFileName(string fileName) { int indexStart = fileName.IndexOf(&quot;(at &quot;) + &quot;(at &quot;.Length; int indexEnd = ParseFileLineStartIndex(fileName) - 1; fileName = fileName.Substring(indexStart, indexEnd - indexStart); return fileName; } private static int LogFileNameToFileLine(string fileName) { int findIndex = ParseFileLineStartIndex(fileName); string stringParseLine = &quot;&quot;; for (int i = findIndex; i &lt; fileName.Length; ++i) { var charCheck = fileName[i]; if (!IsNumber(charCheck)) { break; } else { stringParseLine += charCheck; } } return int.Parse(stringParseLine); } private static int ParseFileLineStartIndex(string fileName) { int retValue = -1; for (int i = fileName.Length - 1; i &gt;= 0; --i) { var charCheck = fileName[i]; bool isNumber = IsNumber(charCheck); if (isNumber) { retValue = i; } else { if (retValue != -1) { break; } } } return retValue; } private static bool IsNumber(char c) { return c &gt;= &apos;0&apos; &amp;&amp; c &lt;= &apos;9&apos;; } }è¯¥è„šæœ¬æ”¾ç½®åœ¨å·¥ç¨‹ç›®å½•ä¸‹çš„Editoræ–‡ä»¶å¤¹ä¸­ã€‚ æŽ¥ç€å®žçŽ°è‡ªå·±çš„æ—¥å¿—ç±»ï¼Œæˆ‘è¿™é‡Œå–åä¸ºDDebugç±»ã€‚æˆ‘ä¹‹å‰ä¹Ÿä»‹ç»è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œå®žçŽ°è‡ªå·±çš„Debugç±»åœ°å€å¦‚ä¸‹ï¼š http://blog.csdn.net/qq_26999509/article/details/53643564 å½“åˆå†™çš„ä¸å¤Ÿæˆç†Ÿï¼Œå¤§å®¶å¯ä»¥æŒ‰ç…§è‡ªå·±æ„æ„¿è¿›è¡Œç¼–å†™ã€‚æœ¬æ¬¡ä¸»è¦æ˜¯ä¸ºäº†å®žçŽ°åŒå‡»æ—¥å¿—å®šä½çš„åŠŸèƒ½ã€‚ ä¸‹é¢é™„ä¸Šæœ¬æ¬¡æµ‹è¯•å†™çš„DDebugè„šæœ¬ï¼š using UnityEngine; public class DDebug { static private string errorColor = &quot;red&quot;; static private string warningColor = &quot;yellow&quot;; static private string logColor = &quot;white&quot;; public static void Log(string info) { info = string.Concat(&quot;&lt;color=&quot;, logColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;); Debug.Log(info); } public static void LogError(string info) { info = string.Concat(&quot;&lt;color=&quot;, errorColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;); Debug.LogError(info); } public static void LogWarning(string info) { info = string.Concat(&quot;&lt;color=&quot;, warningColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;); Debug.LogWarning(info); } }è¿™é‡Œåªæ˜¯åŠ äº†é¢œè‰²è€Œå·²ï¼Œå…¶å®žè¿˜æœ‰ä¸å°‘åŠŸèƒ½å¯ä»¥æ‹“å±•ã€‚ æŽ¥ä¸‹æ¥å†™ä¸ªTestæµ‹è¯•è„šæœ¬ï¼Œè¿›è¡Œä»£ç æµ‹è¯•ã€‚ using UnityEngine; public class Test : MonoBehaviour { private void OnEnable() { DDebug.LogWarning(&quot;OnEnable&quot;); } void Awake() { DDebug.Log(&quot;Awake&quot;); } void Start () { DDebug.LogError(&quot;Start&quot;); } }å°†è¯¥è„šæœ¬æŒ‚åœ¨åœºæ™¯ä¸­ã€‚ æµ‹è¯•å¦‚ä¸‹ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171112231731303?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) åŒå‡»æ—¥å¿—ä¹Ÿèƒ½æˆåŠŸè·³è½¬åˆ°æ—¥å¿—å‡½æ•°è°ƒç”¨çš„åœ°æ–¹ã€‚ã€‚æµ‹è¯•é€šè¿‡ã€‚ æœ€åŽé™„ä¸Šå·¥ç¨‹åœ°å€ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1c2La0hy å¯†ç ï¼šibqb å†æ¬¡è¡¥å……ï¼ŒåŽŸæ–‡åœ°å€ï¼š http://blog.csdn.net/l449612236/article/details/76087616 ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>æ—¥å¿—é‡å®šå‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityæ’ä»¶æŽ¨è]]></title>
    <url>%2F2017%2F11%2F07%2Funity-cha-jian-tui-jian%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å¯è§†åŒ–PlayerPrefsAdvanced PlayerPrefs Windowæ’ä»¶æ˜¯ä¸€æ¬¾PlayerPrefsæ•°æ®çš„å¯è§†åŒ–ç®¡ç†æ’ä»¶ ä¸‹è½½åœ°å€ï¼š http://www.taidous.com/forum.php?mod=viewthread&amp;tid=59744&amp;highlight=PlayerPrefs æˆ–è€…é“¾æŽ¥ï¼š http://pan.baidu.com/s/1bpg0AYF å¯†ç ï¼šw9vm æ’ä»¶ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171106235922648?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æ’ä»¶ä»£ç åˆ†æžï¼šè‡³äºŽç¼–è¾‘å™¨çš„ä»£ç å°±ä¸è§£é‡Šäº†ï¼Œä¸»è¦æ¥çœ‹ä¸€ä¸‹è¯¥æ’ä»¶æ˜¯å¦‚ä½•èŽ·å–åˆ°å·¥ç¨‹é‡Œå…³äºŽPlayerPrefsæ•°æ®çš„æ‰€æœ‰çš„key çš„ã€‚å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ä¸­å…³äºŽPlayerPrefsçš„è§£é‡Šï¼šhttps://docs.unity3d.com/2017.2/Documentation/ScriptReference/PlayerPrefs.html å…¶ä¸­ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171107000252250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºUnityå°†è¿™äº›æ•°æ®åœ¨å„å¹³å°ä¸‹å­˜å‚¨çš„ä½ç½®ï¼Œä»¥Windowsä¸ºä¾‹ï¼Œå…¶æ•°æ®å­˜å‚¨åœ¨æ³¨å†Œè¡¨ä¸­çš„ HKCU/Software[company name][product name]ä¸­ ä¸‹é¢æ˜¯æˆªå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20171107000710134?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) å›¾ä¸­å¯è§è¯¥å·¥ç¨‹åŒ…å«äº†5ä¸ªkeyï¼Œå…¶ä¸­UnityGraphicsQualityæ˜¯Unityå·¥ç¨‹è‡ªå¸¦çš„ã€‚ ä¸‹é¢ä¸Šä¸€æ®µè¯¥æ’ä»¶ä»Žæ³¨å†Œè¡¨ä¸­èŽ·å–keyçš„ä»£ç ï¼ˆWindowså¹³å°çš„ï¼‰ private string[] GetAllWindowsKeys() { RegistryKey cuKey = Registry.CurrentUser; RegistryKey unityKey; //The default location of PlayerPrefs pre Unity 5_5 #if UNITY_5_5_OR_NEWER unityKey = cuKey.CreateSubKey(&quot;Software\\Unity\\UnityEditor\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName); #else unityKey = cuKey.CreateSubKey(&quot;Software\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName); if (unityKey.GetValueNames().Length == 0) { //On some machines (Windows 7 &amp; 8 64bit using Unity5.4) PlayersPrefs are saved in HKEY_CURRENT_USER\SOFTWARE\AppDataLow\Software\CompanyName\ProjectName weird enough... unityKey = cuKey.CreateSubKey(&quot;Software\\AppDataLow\\Software\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName); } #endif string[] values = unityKey.GetValueNames(); for (int i = 0; i &lt; values.Length; i++) { values[i] = values[i].Substring(0, values[i].LastIndexOf(&quot;_&quot;)); } return values; }ä»£ç ä¸ä¸€ä¸€è§£é‡Šäº†ï¼Œå…³äºŽRegistryKeyç±»å’ŒRegistryç±»æŸ¥çœ‹ä¸€ä¸‹MSDNï¼š[ https://msdn.microsoft.com/zh-cn/library/microsoft.win32.registrykey(v=vs.110).aspx](https://msdn.microsoft.com/zh-cn/library/microsoft.win32.registrykey(v=vs.110).aspx)[ https://msdn.microsoft.com/zh-cn/library/microsoft.win32.registry(v=vs.110).aspx](https://msdn.microsoft.com/zh-cn/library/microsoft.win32.registry(v=vs.110).aspx) ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œæ­¥éª¤è¯¦ç»†ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>æ’ä»¶æŽ¨è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¸ŽAndroidä¹‹äºŒï¼šèŽ·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ]]></title>
    <url>%2F2017%2F11%2F04%2Funity-yu-android-zhi-er-huo-qu-shou-ji-dian-liang-xin-xi-wang-luo-zhuang-kuang%2F</url>
    <content type="text"><![CDATA[Unity&amp;Androidä¹‹äºŒï¼šèŽ·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µæ¸¸æˆä¸­ç»å¸¸ä¼šåœ¨UIæ˜¾ç¤ºç”µé‡ä»¥åŠç½‘ç»œçŠ¶å†µ æ‰‹æœºç”µé‡åŒ…æ‹¬ï¼š1ã€å½“å‰æ­£åœ¨å……ç”µè¿˜æ˜¯æ”¾ç”µ2ã€å½“å‰ç”µé‡å€¼ ç½‘ç»œåŒ…æ‹¬ï¼š1ã€å¦‚æžœæ˜¯WIFIï¼ŒWIFIä¿¡å·å¼ºåº¦2ã€å¦‚æžœæ˜¯æµé‡ï¼Œä¿¡å·å¼ºåº¦ç­‰æ•°æ® ä¾‹å¦‚çŽ‹è€…è£è€€ä¸­å³ä¸Šè§’æ‰€ç¤º[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-GHe5z8lz-1586599241269)] é‚£ä¹ˆæŽ¥ä¸‹æ¥å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•å®žçŽ°èŽ·å–æ‰‹æœºç”µé‡ä¿¡æ¯ä»¥åŠç½‘ç»œçŠ¶å†µç­‰æ•°æ®ã€‚ ####1ã€æ‰“å¼€Eclipseå»ºä¸€ä¸ªå®‰å“åº“å·¥ç¨‹ï¼Œæ³¨æ„æ˜¯åº“å·¥ç¨‹[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-Eq2gkKtN-1586599241270)] ####è¿™é‡Œæ³¨æ„ä¸€ä¸‹åŒ…å [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-oDCApkUW-1586599241271)] [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-WbLOWqZD-1586599241271)] Iconæ˜¾ç¤ºæ–¹å¼é€‰æ‹©ï¼Œé»˜è®¤å³å¯ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-p3DKc5sS-1586599241272)] é€‰æ‹©ä¸€ä¸ªç©ºçš„activity [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-BUUZbfrT-1586599241273)] å®‰å“Activityåç§°ï¼Œé»˜è®¤å³å¯ï¼ŒFinish [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-vNmpoZEW-1586599241274)] åˆ›å»ºå®Œä¹‹åŽï¼Œå°±ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªå·¥ç¨‹ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-faVSY9eF-1586599241275)] è‡³äºŽç›®å½•ç»“æž„ï¼Œè¯·è‡ªè¡Œè¡¥å……ç›¸å…³çŸ¥è¯† å·¥ç¨‹åˆ›å»ºå¥½ï¼Œæ­¤æ—¶å®‰å“è¿˜æ— æ³•ä¸ŽUnityè¿›è¡Œäº¤äº’ï¼Œéœ€è¦ä¸ºå·¥ç¨‹å¯¼å…¥ä¸€ä¸ªUnityæä¾›çš„classes.jarï¼Œè¯¥æ–‡ä»¶åœ¨Unityçš„å®‰è£…ç›®å½•ä¸‹ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-qjaIEa70-1586599241276)] å°†è¯¥jaræ–‡ä»¶å¯¼å…¥åˆ°å·¥ç¨‹ç›®å½•ä¸‹çš„libsæ–‡ä»¶å¤¹ä¸­ï¼Œé¼ æ ‡é€‰ä¸­å·¥ç¨‹æ ¹ç›®å½• [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-u6eBHOsl-1586599241277)] å‡†å¤‡å·¥ä½œå®Œæˆä¹‹åŽï¼Œå°±å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç äº†ã€‚ ä¿®æ”¹MainActivity.javaç±»çš„çˆ¶ç±»ä¸ºUnityPlayerActivity è¯¥ç±»éœ€è¦importç›¸å…³çš„åŒ… 1import com.unity3d.player.UnityPlayerActivity; åˆ é™¤onCreateå‡½æ•°ä¸­çš„ 1setContentView(R.layout.activity_main); è‡³æ­¤ï¼ŒMainActivity.javaæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324package com.unityplugin.phonepower;import com.unity3d.player.UnityPlayerActivity;import android.os.Bundle;import android.app.Activity;import android.view.Menu;public class MainActivity extends UnityPlayerActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); &#125; @Override public boolean onCreateOptionsMenu(Menu menu) &#123; &#x2F;&#x2F; Inflate the menu; this adds items to the action bar if it is present. getMenuInflater().inflate(R.menu.main, menu); return true; &#125; &#125; æŽ¥ä¸‹æ¥ç¼–å†™å‡½æ•°ä»¥ä¾›Unityè°ƒç”¨ å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283package com.unityplugin.phonepower;import com.unity3d.player.UnityPlayerActivity;import android.net.wifi.WifiInfo;import android.net.wifi.WifiManager;import android.os.Bundle;import android.app.Activity;import android.content.Context;import android.content.Intent;import android.content.IntentFilter;import android.view.Menu;public class MainActivity extends UnityPlayerActivity &#123; private static Context instance; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); instance &#x3D; getApplication(); &#125; @Override public boolean onCreateOptionsMenu(Menu menu) &#123; &#x2F;&#x2F; Inflate the menu; this adds items to the action bar if it is present. getMenuInflater().inflate(R.menu.main, menu); return true; &#125; &#x2F;&#x2F;èŽ·å–æ‰‹æœºå½“å‰ç”µé‡ã€æ€»ç”µé‡ï¼ˆé»˜è®¤å…¶å®žéƒ½æ˜¯100ï¼‰ã€å½“å‰çŠ¶æ€ï¼ˆå……ç”µè¿˜æ˜¯æ”¾ç”µï¼‰ &#x2F;&#x2F;å…¶ä½™æ•°æ®ä¾‹å¦‚ç”µåŽ‹ã€ç”µæ± æ¸©åº¦ç”¨çš„è¾ƒå°‘ public String MonitorBatteryState() &#123; IntentFilter iFilter &#x3D; new IntentFilter(Intent.ACTION_BATTERY_CHANGED); Intent intent &#x3D; instance.registerReceiver(null, iFilter); int rawLevel &#x3D; intent.getIntExtra(&quot;level&quot;, 0); &#x2F;&#x2F;èŽ·å¾—å½“å‰ç”µé‡ int scale &#x3D; intent.getIntExtra(&quot;scale&quot;, 0); &#x2F;&#x2F;èŽ·å¾—æ€»ç”µé‡ int status &#x3D; intent.getIntExtra(&quot;status&quot;, 0); &#x2F;&#x2F;ç”µæ± å……ç”µçŠ¶æ€ int health &#x3D; intent.getIntExtra(&quot;voltage&quot;, 0); &#x2F;&#x2F;ç”µæ± å¥åº·çŠ¶å†µ int batteryV &#x3D; intent.getIntExtra(&quot;voltage&quot;, 0); &#x2F;&#x2F;ç”µæ± ç”µåŽ‹(mv) int temperature &#x3D; intent.getIntExtra(&quot;temperature&quot;, 0); &#x2F;&#x2F;ç”µæ± æ¸©åº¦(æ•°å€¼) double t &#x3D; temperature &#x2F; 10.0; &#x2F;&#x2F;ç”µæ± æ‘„æ°æ¸©åº¦ï¼Œé»˜è®¤èŽ·å–çš„éžæ‘„æ°æ¸©åº¦å€¼ï¼Œéœ€åšä¸€ä¸‹è¿ç®—è½¬æ¢ String targetStr &#x3D; &quot;&quot;; int level &#x3D; -1; if(rawLevel &gt; 0 &amp;&amp; scale &gt; 0) &#123; level &#x3D; (rawLevel * 100) &#x2F; scale; targetStr &#x3D; level + &quot;|&quot; + scale + &quot;|&quot; + status; &#125; return targetStr; &#125; &#x2F;&#x2F;èŽ·å–Wifiä¿¡å·å¼ºåº¦ @SuppressWarnings(&quot;deprecation&quot;) private String ObtainWifiInfo() &#123; String result &#x3D; &quot;&quot;; WifiManager wifiManager &#x3D; (WifiManager)getApplication().getSystemService(WIFI_SERVICE); WifiInfo info &#x3D; wifiManager.getConnectionInfo(); if(info.getBSSID() !&#x3D; null) &#123; &#x2F;&#x2F;é“¾æŽ¥ä¿¡å·å¼ºåº¦ int strength &#x3D; WifiManager.calculateSignalLevel(info.getRssi(), 5); &#x2F;&#x2F;é“¾æŽ¥é€Ÿåº¦ int speed &#x3D; info.getLinkSpeed(); &#x2F;&#x2F;é“¾æŽ¥é€Ÿåº¦å•ä½ String units &#x3D; WifiInfo.LINK_SPEED_UNITS; &#x2F;&#x2F;Wifiæºåç§° String ssid &#x3D; info.getSSID(); int ip &#x3D; info.getIpAddress(); String mac &#x3D; info.getMacAddress(); result &#x3D; strength + &quot;|&quot; + IntToIp(ip) + &quot;|&quot; + mac + &quot;|&quot; + ssid; &#125; return result; &#125; private String IntToIp(int paramInt) &#123; return (paramInt &amp; 0xFF) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 8) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 16) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 24); &#125;&#125; ä»£ç ç¼–å†™å®Œä¹‹åŽï¼Œè¿˜æœ‰ä¸€ä»¶é‡è¦çš„äº‹æƒ…ï¼Œé‚£å°±æ˜¯æ‰‹æœºæƒé™ã€‚è®¿é—®æ‰‹æœºç”µé‡ï¼Œä¸éœ€è¦æƒé™ï¼Œä¸è¿‡WIFIçŠ¶å†µéœ€è¦æ·»åŠ ä¸€ä¸ªæƒé™ã€‚ ###å¦‚ä½•æ·»åŠ æƒé™ åŒå‡»AndroidManifest.xmlæ–‡ä»¶[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-kqf506tU-1586599241278)] ç‚¹å‡»AddæŒ‰é’®æ·»åŠ æƒé™ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-JpeMi6Cj-1586599241279)] é€‰ä¸­æœ€åŽä¸€é¡¹Uses Permission æ·»åŠ Nameä¸ºandroid.permission.ACCESS_WIFI_STATEçš„æƒé™ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-UyLGdJ6s-1586599241279)] ###è®°å¾—ä¿å­˜è¯¥æ–‡ä»¶ï¼ æƒé™å¼„å®Œä¹‹åŽå³å¯åˆ°å¤„jaråŒ…åˆ°Unityå·¥ç¨‹ä¸­äº†ã€‚ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-SUauE1wD-1586599241280)] [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-wX7hrc3t-1586599241280)] [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-HA33SXmc-1586599241281)] jarå¯¼å‡ºåŽï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªUnityå·¥ç¨‹ï¼Œè¿›è¡Œæµ‹è¯•äº†ã€‚ åˆ›å»ºä¸€ä¸ªPlugins/Androidçš„æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ç”¨æ¥ å­˜æ”¾å®‰å“æ’ä»¶çš„ã€‚ å°†Androidå·¥ç¨‹ä¸­çš„Libsã€Resã€AndroidMainFest.xmlæ–‡ä»¶æ‹·è´è¿‡æ¥ï¼Œå¦‚ä¸‹ï¼š[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-xyGiOzjW-1586599241281)] æŽ¥ä¸‹æ¥ç¼–å†™æµ‹è¯•ä»£ç ï¼š åœ¨åœºæ™¯ä¸­åˆ›å»ºä¸€ä¸ªButtonï¼ˆç”¨æ¥ç‚¹å‡»ä»Žå®‰å“é‚£è¾¹èŽ·å–æ•°æ®ï¼‰å’Œä¸¤ä¸ªtextï¼ˆåˆ†åˆ«ç”¨æ¥æ˜¾ç¤ºç”µé‡æ•°æ®å’Œwifiæ•°æ®ï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªtestè„šæœ¬ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-fGNO7G2V-1586599241282)] è„šæœ¬ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566using System;using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.UI;public class Test : MonoBehaviour &#123; public Button button; public Text phonePowerText; public Text wifiText; private string batteryData; private string wifiData; void Awake() &#123; button.onClick.AddListener(OnButtonClicked); &#125; private void OnButtonClicked() &#123; AndroidJavaClass jc &#x3D; new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;); AndroidJavaObject jo &#x3D; jc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;); batteryData &#x3D; jo.Call&lt;string&gt;(&quot;MonitorBatteryState&quot;); wifiData &#x3D; jo.Call&lt;string&gt;(&quot;ObtainWifiInfo&quot;); OnBatteryDataBack(batteryData); OnWifiDataBack(wifiData); &#125; &#x2F;&#x2F;å®‰å“é‚£è¾¹å°†æ•°æ®ä»¥â€œ|â€è¿›è¡Œåˆ†å‰²ï¼Œæ‰€ä»¥è¿™è¾¹ä»¥&quot;|&quot;æ¥åˆ†å‰²æ•°æ® private void OnBatteryDataBack(string data) &#123; phonePowerText.text &#x3D; &quot;&quot;; string[] args &#x3D; data.Split(&#39;|&#39;); if (args[2] &#x3D;&#x3D; &quot;2&quot;) &#123; phonePowerText.text +&#x3D; &quot;ç”µæ± å……ç”µä¸­\n&quot;; &#125; else &#123; phonePowerText.text +&#x3D; &quot;ç”µæ± æ”¾ç”µä¸­\n&quot;; &#125; int curPower &#x3D; int.Parse(args[0]); float power &#x3D; float.Parse(args[1]); float percent &#x3D; curPower &#x2F; power; phonePowerText.text +&#x3D; &quot; cur power:&quot; + curPower; phonePowerText.text +&#x3D; &quot; all power:&quot; + power; phonePowerText.text +&#x3D; &quot; ç”µé‡æ¯”ä¾‹ï¼š&quot; + (Mathf.CeilToInt(percent * 100) + &quot;%&quot;).ToString(); &#125; private void OnWifiDataBack(string data) &#123; wifiText.text &#x3D; &quot;&quot;; wifiText.text +&#x3D; wifiData; string[] args &#x3D; wifiData.Split(&#39;|&#39;); int wifiLevel &#x3D; int.Parse(args[0]); wifiText.text +&#x3D; &quot;Wifiä¿¡å·æ ¼æ•°ï¼š&quot; + wifiLevel.ToString() + &quot;\n&quot;; string ip &#x3D; &quot;IPï¼š&quot; + args[1] + &quot;\n&quot;; string mac &#x3D; &quot;MAC:&quot; + args[2] + &quot;\n&quot;; string ssid &#x3D; &quot;Wifi Name:&quot; + args[3] + &quot;\n&quot;; wifiText.text +&#x3D; ip; wifiText.text +&#x3D; mac; wifiText.text +&#x3D; ssid; &#125;&#125; è®°å¾—å°†å·¥ç¨‹å¹³å°åˆ‡æ¢æˆAndroid æœ€åŽè®¾ç½®PlayerSettingsï¼Œ [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-6ipKBUqz-1586599241283)] å¯ä»¥buildæˆapkäº†ã€‚ æµ‹è¯•æˆªå›¾ï¼š [å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-uGK9JHFY-1586599241284)] ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºå½“å‰æ‰‹æœºæ­£åœ¨å……ç”µï¼Œå¹¶ä¸”ç”µé‡ä¸º60ï¼Œè‡³äºŽå›¾ä¸­çš„61å±žäºŽæµ®ç‚¹ç±»åž‹æ•°æ®çš„è¿ç®—å¸¦æ¥çš„ç²¾åº¦é—®é¢˜ï¼Œä¸è¿‡è¿™ç‚¹é—®é¢˜åœ¨åº”ç”¨ä¸­ä¸è¶³ä¸ºè™‘ã€‚è€ŒwifiçŠ¶å†µåˆ™æ˜¯ï¼Œå››æ ¼ä¿¡å·ï¼Œéƒ½æ˜¯æ­£å¸¸çš„ã€‚ æŠ±æ­‰ï¼ŒIPåœ°å€è¢«æˆ‘æ‰“ç äº†ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œæ­¥éª¤è¯¦ç»†ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unity &amp; Android</category>
      </categories>
      <tags>
        <tag>ç”µé‡ä¿¡æ¯</tag>
        <tag>ç½‘ç»œçŠ¶å†µ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¸ŽAndroidä¹‹ä¸€ï¼šæ‰‹æœºéœ‡åŠ¨]]></title>
    <url>%2F2017%2F11%2F04%2Funity-yu-android-zhi-yi-shou-ji-zhen-dong%2F</url>
    <content type="text"><![CDATA[Unityè°ƒç”¨æ‰‹æœºéœ‡åŠ¨åœ¨æ¸¸æˆä¸­ï¼Œæœ‰æ—¶ä¸ºäº†å¢žåŠ æ¸¸æˆçš„æ‰“å‡»æ„Ÿï¼Œä¼šä½¿ç”¨æ‰‹æœºéœ‡åŠ¨ã€‚å…³äºŽæ‰‹æœºéœ‡åŠ¨å…¶å®žå¾ˆç®€å•ã€‚ å®žçŽ°æ­¥éª¤Unityä¸­æä¾›äº†ä¸€ä¸ªæŽ¥å£ 1Handheld.Vibrate(); è¯¥æŽ¥å£æ— éœ€åšå¹³å°åˆ¤æ–­ã€‚å®˜æ–¹ä»‹ç»ï¼šTriggers device vibration.ç¿»è¯‘å°±æ˜¯æŒ‡è§¦å‘è£…ç½®æŒ¯åŠ¨ã€‚https://docs.unity3d.com/2017.3/Documentation/ScriptReference/Handheld.Vibrate.html è¯¥æŽ¥å£æ— æ³•ä¸ºæŒ¯åŠ¨è®¾ç½®æ—¶é•¿ã€é¢‘çŽ‡ç­‰ã€‚å¦‚æœ‰éœ€è¦ï¼Œå®‰å“åˆ™éœ€è¦é€šè¿‡èŽ·å–ç³»ç»ŸæœåŠ¡åŽå¼€å¯æŒ¯åŠ¨ 123456public void Shake() &#123; Activity curActivity &#x3D; UnityPlayer.currentActivity; m_vibrator &#x3D; (Vibrator)curActivity.getSystemService(Service.VIBRATOR_SERVICE); m_vibrator.vibrate(new long[]&#123;100,10,100,1000&#125;,-1); &#125; è¯¦æƒ…å‚è€ƒï¼šhttp://www.cnblogs.com/android-blogs/p/6381850.html å¦‚æžœåªæ˜¯ç®€å•çš„ä½¿ç”¨ï¼ŒUnity æä¾›çš„æŽ¥å£å·²ç»å¤Ÿäº†ã€‚ã€‚ è¯·åœ¨çœŸæœºä¸‹è¿›è¡Œæµ‹è¯•æœ€è¿‘æ­£åœ¨è¡¥å……Unityè·ŸAndroidäº¤äº’ç›¸å…³çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬æŽ¥å…¥SDKã€æ¸¸æˆä¸­ä½¿ç”¨äºŒç»´ç ç­‰ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unity &amp; Android</category>
      </categories>
      <tags>
        <tag>æ‰‹æœºéœ‡åŠ¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰ï¼šæ‹“å±•Unityçš„Hierarchyé¢æ¿]]></title>
    <url>%2F2017%2F09%2F16%2Funity-bian-ji-qi-tuo-zhan-zhi-san-tuo-zhan-unity-de-hierarchy-mian-ban%2F</url>
    <content type="text"><![CDATA[æ•ˆæžœå›¾ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170916213433810?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä¸Šå›¾ä¸­åœ¨Hierarchyå³ä¾§ç»˜åˆ¶äº†Toggleï¼ŒLabelï¼Œä»¥åŠè‡ªå®šä¹‰çš„textureå’ŒUnityåŽŸå£°çš„Textureï¼ŒçŸ¥é“äº†åŽŸç†ï¼Œå…¶å®žè¿™äº›éƒ½å¾ˆç®€å•ã€‚ã€‚ è¿™é‡Œä¸»è¦æ˜¯ä½¿ç”¨äº†EditorApplicationç±»ä¸‹çš„HierarchyWindowItemCallbackç±»åž‹çš„hierarchyWindowItemOnGUI // // æ‘˜è¦: // /// // Delegate to be called for every visible list item in the HierarchyWindow on every // OnGUI event. // /// // // å‚æ•°: // instanceID: // // selectionRect: public delegate void HierarchyWindowItemCallback(int instanceID, Rect selectionRect);è¯¥å§”æ‰˜æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯intç±»åž‹çš„instanceIDï¼Œé€šè¿‡è¯¥IDåˆ©ç”¨EditorUtility.InstanceIDToObject(instanceID)å¯ä»¥èŽ·å–è¯¥GameObjectï¼Œç„¶åŽç¬¬äºŒä¸ªå‚æ•°Rectï¼Œä¹Ÿå°±æ˜¯è¯¥ç‰©ä½“åœ¨Hierarchyé¢æ¿çš„ä½ç½®ä¿¡æ¯äº†ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªæ•°æ®ï¼Œåœ¨Hierarchyé¢æ¿ä¸Šæ‹“å±•å°±å¾ˆç®€å•äº†ã€‚ using System; using System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEngine; using UnityEngine.Networking; using UnityEngine.UI; [InitializeOnLoad] public class HierachyIconManager { // å±‚çº§çª—å£é¡¹å›žè°ƒ private static readonly EditorApplication.HierarchyWindowItemCallback hiearchyItemCallback; private static Texture2D hierarchyIcon; private static Texture2D HierarchyIcon { get { if (HierachyIconManager.hierarchyIcon == null) { HierachyIconManager.hierarchyIcon = (Texture2D)Resources.Load(&quot;icon_1&quot;); } return HierachyIconManager.hierarchyIcon; } } /// &lt;summary&gt; /// é™æ€æž„é€  /// &lt;/summary&gt; static HierachyIconManager() { HierachyIconManager.hiearchyItemCallback = new EditorApplication.HierarchyWindowItemCallback(HierachyIconManager.DrawHierarchyIcon); EditorApplication.hierarchyWindowItemOnGUI = (EditorApplication.HierarchyWindowItemCallback)Delegate.Combine( EditorApplication.hierarchyWindowItemOnGUI, HierachyIconManager.hiearchyItemCallback); //EditorApplication.update += Update; } // ç»˜åˆ¶iconæ–¹æ³• private static void DrawHierarchyIcon(int instanceID, Rect selectionRect) { Rect rectCheck = new Rect(selectionRect); rectCheck.x += rectCheck.width - 20; rectCheck.width = 18; GameObject go = EditorUtility.InstanceIDToObject(instanceID) as GameObject; go.SetActive(GUI.Toggle(rectCheck, go.activeSelf, string.Empty)); var index = 0; GUIStyle style = null; if (go.isStatic) { index += 1; Rect rectIcon = GetRect(selectionRect, index); GUI.Label(rectIcon, &quot;S&quot;); } // æ–‡å­—é¢œè‰²å®šä¹‰ var colorMesh = new Color(42 / 255f, 210 / 255f, 235 / 255f); var colorSkinMesh = new Color(0.78f, 0.35f, 0.78f); var colorLight = new Color(251 / 255f, 244 / 255f, 124 / 255f); var colorPhysic = new Color(0.35f, 0.75f, 0f); var colorCollider = new Color(0.35f, 0.75f, 0.196f); var colorAnimation = new Color(175 / 255f, 175 / 255f, 218 / 255f); var colorCamera = new Color(111 / 255f, 121 / 255f, 212 / 255f); var colorParticle = new Color(130 / 255f, 124 / 255f, 251 / 255f); var colorNav = new Color(217 / 255f, 80 / 255f, 62 / 255f); var colorNetwork = new Color(42 / 255f, 129 / 255f, 235 / 255f); var colorAudio = new Color(255 / 255f, 126 / 255f, 0f); DrawRectIcon(selectionRect,HierarchyIcon,ref index); DrawRectIcon&lt;MeshRenderer&gt;(selectionRect, go, colorMesh, ref index, ref style); DrawRectIcon&lt;SkinnedMeshRenderer&gt;(selectionRect, go, colorSkinMesh, ref index, ref style); // Colliders DrawRectIcon&lt;BoxCollider&gt;(selectionRect, go, colorCollider, ref index, ref style); DrawRectIcon&lt;SphereCollider&gt;(selectionRect, go, colorCollider, ref index, ref style); DrawRectIcon&lt;CapsuleCollider&gt;(selectionRect, go, colorCollider, ref index, ref style); DrawRectIcon&lt;MeshCollider&gt;(selectionRect, go, colorCollider, ref index, ref style); DrawRectIcon&lt;CharacterController&gt;(selectionRect, go, colorCollider, ref index, ref style); // RigidBody DrawRectIcon&lt;Rigidbody&gt;(selectionRect, go, colorPhysic, ref index, ref style); // Lights DrawRectIcon&lt;Light&gt;(selectionRect, go, colorLight, ref index, ref style); // Joints // Animation / Animator DrawRectIcon&lt;Animator&gt;(selectionRect, go, colorAnimation, ref index, ref style); DrawRectIcon&lt;Animation&gt;(selectionRect, go, colorAnimation, ref index, ref style); // Camera / Projector DrawRectIcon&lt;Camera&gt;(selectionRect, go, colorCamera, ref index, ref style); DrawRectIcon&lt;Projector&gt;(selectionRect, go, colorCamera, ref index, ref style); // NavAgent DrawRectIcon&lt;UnityEngine.AI.NavMeshAgent&gt;(selectionRect, go, colorNav, ref index, ref style); DrawRectIcon&lt;UnityEngine.AI.NavMeshObstacle&gt;(selectionRect, go, colorNav, ref index, ref style); // Network DrawRectIcon&lt;NetworkIdentity&gt;(selectionRect, go, colorNetwork, ref index, ref style); DrawRectIcon&lt;NetworkAnimator&gt;(selectionRect, go, colorNetwork, ref index, ref style); DrawRectIcon&lt;NetworkTransform&gt;(selectionRect, go, colorNetwork, ref index, ref style); DrawRectIcon&lt;NetworkBehaviour&gt;(selectionRect, go, colorNetwork, ref index, ref style); DrawRectIcon&lt;NetworkManager&gt;(selectionRect, go, colorNetwork, ref index, ref style); // Particle DrawRectIcon&lt;ParticleSystem&gt;(selectionRect, go, colorParticle, ref index, ref style); // Audio DrawRectIcon&lt;AudioSource&gt;(selectionRect, go, colorAudio, ref index, ref style); DrawRectIcon&lt;AudioReverbZone&gt;(selectionRect, go, colorAudio, ref index, ref style); //UI DrawRectIcon&lt;Image&gt;(selectionRect, go, colorParticle, ref index, ref style); DrawRectIcon&lt;Text&gt;(selectionRect, go, colorParticle, ref index, ref style); DrawRectIcon&lt;SpriteRenderer&gt;(selectionRect, go, colorParticle, ref index, ref style); // ç»˜åˆ¶Labelæ¥è¦†ç›–åŽŸæœ‰çš„åå­— if (style != null &amp;&amp; go.activeInHierarchy) { GUI.Label(selectionRect, go.name, style); } } private static void Update() { Debug.Log(&quot;1&quot;); } private static Rect GetRect(Rect selectionRect , int index) { Rect rect = new Rect(selectionRect); rect.x += rect.width - 20 - (20 * index); rect.width = 18; return rect; } /// &lt;summary&gt; /// ç»˜åˆ¶ä¸€ä¸ªUnityåŽŸå£°å›¾æ ‡ /// &lt;/summary&gt; /// &lt;typeparam name=&quot;T&quot;&gt;&lt;/typeparam&gt; /// &lt;param name=&quot;rect&quot;&gt;&lt;/param&gt; private static void DrawIcon&lt;T&gt;(Rect rect) { var icon = EditorGUIUtility.ObjectContent(null, typeof(T)).image; GUI.Label(rect, icon); } private static void DrawRectIcon&lt;T&gt;(Rect selectionRect,GameObject go,Color textColor,ref int order, ref GUIStyle style)where T :Component { if (go.HasComponent&lt;T&gt;()) { order += 1; var rect = GetRect(selectionRect, order); DrawIcon&lt;T&gt;(rect); } } private static void DrawRectIcon(Rect selectionRect,Texture2D texture,ref int order) { order += 1; var rect = GetRect(selectionRect,order); GUI.Label(rect,texture); } } public static class ExtensionMethods { public static bool HasComponent&lt;T&gt;(this GameObject go) where T : Component { return go.GetComponent&lt;T&gt;() != null; } }å…¶ä¸­ä½¿ç”¨äº†[InitializeOnLoad]ï¼Œè¿™ä¸ªAttributeçš„æ„æ€æ˜¯åœ¨å¯åŠ¨Unityçš„æ—¶å€™è¿è¡Œçš„ç¼–è¾‘å™¨è„šæœ¬ï¼Œè¯¥ç±»éœ€è¦ä¸€ä¸ªé™æ€çš„æž„é€ å‡½æ•°ã€‚ã€‚ é€šè¿‡EditorGUIUtility.ObjectContent(null,typeof(T)).imageå°±å¯ä»¥èŽ·å–åˆ°Tç±»åž‹çš„UnityåŽŸå£°Textureäº†ã€‚è€ŒLabelå’ŒToggleï¼Œåˆ™åˆ†åˆ«ä½¿ç”¨GUI.Labelå’ŒGUI.Toggleå³å¯ã€‚ã€‚å…·ä½“å‚è§ä¸Šé¢ä»£ç ã€‚ æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶è‡ªå·±éœ€è¦çš„Hierarchyé¢æ¿ï¼Œä¾‹å¦‚ä¸Šè¿°ä»£ç ä¸­é€šè¿‡åˆ¤æ–­è¯¥GameObjectæ˜¯å¦æ˜¯staticçš„ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™ç»˜åˆ¶ä¸€ä¸ªSåœ¨æ—è¾¹ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¿«é€Ÿçš„æŸ¥çœ‹å“ªäº›ç‰©ä½“æ˜¯staticçš„äº†ã€‚ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>Hierarchy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒï¼šReorderableListå¯é‡æ–°æŽ’åºçš„åˆ—è¡¨æ¡†ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰]]></title>
    <url>%2F2017%2F09%2F02%2Funity-bian-ji-qi-tuo-zhan-zhi-er-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-fu-za-shi-yong%2F</url>
    <content type="text"><![CDATA[å…ˆçœ‹æ•ˆæžœgifå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170902160043794?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) å¦‚æžœæ²¡æœ‰çœ‹è¿‡Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸€ï¼šReorderableListå¯é‡æ–°æŽ’åºçš„åˆ—è¡¨æ¡†ï¼ˆç®€å•ä½¿ç”¨ï¼‰çš„ï¼Œå¯ä»¥å…ˆçœ‹è¿™ä¸€ç¯‡ï¼š http://blog.csdn.net/qq_26999509/article/details/77782177 åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ¥ç»˜åˆ¶æ›´åŠ å¤æ‚çš„ç±» å…ˆæä¾›ä¸€ä¸ªéœ€è¦ç»˜åˆ¶çš„ç±» using UnityEngine; using System.Collections; using System.Collections.Generic; using System; public class CharacterTest : MonoBehaviour { public List&lt;Character&gt; characters = new List&lt;Character&gt;(); // Use this for initialization void Start () { } // Update is called once per frame void Update () { } } [Serializable] public class Character { [SerializeField] Texture icon; [SerializeField] string name; [SerializeField] int hp; [SerializeField] int power; [SerializeField] GameObject weapon; }ç„¶åŽè·Ÿä¸Šä¸€ç¯‡ä¸€æ ·ï¼Œé€šè¿‡ä½¿ç”¨ReorderableListç»˜åˆ¶List using UnityEngine; using System.Collections; using UnityEditor; using UnityEditorInternal; [CustomEditor(typeof(CharacterTest))] public class CharacterInspector : Editor { ReorderableList reorderableList; void OnEnable() { SerializedProperty prop = serializedObject.FindProperty(&quot;characters&quot;); reorderableList = new ReorderableList(serializedObject, prop, true, true, true, true); //è®¾ç½®å•ä¸ªå…ƒç´ çš„é«˜åº¦ reorderableList.elementHeight = 80; //ç»˜åˆ¶å•ä¸ªå…ƒç´  reorderableList.drawElementCallback = (rect, index, isActive, isFocused) =&gt; { var element = prop.GetArrayElementAtIndex(index); rect.height -= 4; rect.y += 2; EditorGUI.PropertyField(rect, element); }; //èƒŒæ™¯è‰² reorderableList.drawElementBackgroundCallback = (rect, index, isActive, isFocused) =&gt; { GUI.backgroundColor = Color.yellow; }; //å¤´éƒ¨ reorderableList.drawHeaderCallback = (rect) =&gt; EditorGUI.LabelField(rect, prop.displayName); } public override void OnInspectorGUI() { serializedObject.Update(); reorderableList.DoLayoutList(); serializedObject.ApplyModifiedProperties(); } }ç›®å‰çš„æ•ˆæžœå¦‚ä¸‹å›¾ï¼š ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170902160317066?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æœ€åŽè¿˜éœ€è¦åˆ©ç”¨PropertyDraweræ¥ç»˜åˆ¶å•ä¸ªSerializableç±»çš„æ¯ä¸ªå®žä¾‹çš„GUIï¼Œä¹Ÿå°±æ˜¯Characterç±» using UnityEngine; using System.Collections; using UnityEditor; //å®šåˆ¶Serializableç±»çš„æ¯ä¸ªå®žä¾‹çš„GUI [CustomPropertyDrawer(typeof(Character))] public class CharacterDrawer : PropertyDrawer { public override void OnGUI(Rect position, SerializedProperty property, GUIContent label) { //åˆ›å»ºä¸€ä¸ªå±žæ€§åŒ…è£…å™¨ï¼Œç”¨äºŽå°†å¸¸è§„GUIæŽ§ä»¶ä¸ŽSerializedPropertyä¸€èµ·ä½¿ç”¨ using (new EditorGUI.PropertyScope(position, label, property)) { //è®¾ç½®å±žæ€§åå®½åº¦ Name HP EditorGUIUtility.labelWidth = 60; //è¾“å…¥æ¡†é«˜åº¦ï¼Œé»˜è®¤ä¸€è¡Œçš„é«˜åº¦ position.height = EditorGUIUtility.singleLineHeight; //ico ä½ç½®çŸ©å½¢ Rect iconRect = new Rect(position) { width = 68, height = 68 }; Rect nameRect = new Rect(position) { width = position.width - 70, //å‡åŽ»iconçš„width 64 x = position.x + 70 //åœ¨iconçš„åŸºç¡€ä¸Šå³ç§»64 }; Rect hpRect = new Rect(nameRect) { //åœ¨nameçš„åŸºç¡€ä¸Šï¼Œyåæ ‡ä¸‹ç§» y = nameRect.y + EditorGUIUtility.singleLineHeight + 2 }; Rect powerRect = new Rect(hpRect) { //åœ¨hpçš„åŸºç¡€ä¸Šï¼Œyåæ ‡ä¸‹ç§» y = hpRect.y + EditorGUIUtility.singleLineHeight + 2 }; Rect weaponLabelRect = new Rect(powerRect) { y = powerRect.y + EditorGUIUtility.singleLineHeight + 2, width = 60 }; Rect weaponRect = new Rect(weaponLabelRect) { x = weaponLabelRect.x + 60, width = powerRect.width - 60 }; //æ‰¾åˆ°æ¯ä¸ªå±žæ€§çš„åºåˆ—åŒ–å€¼ SerializedProperty iconProperty = property.FindPropertyRelative(&quot;icon&quot;); SerializedProperty nameProperty = property.FindPropertyRelative(&quot;name&quot;); SerializedProperty hpProperty = property.FindPropertyRelative(&quot;hp&quot;); SerializedProperty powerProperty = property.FindPropertyRelative(&quot;power&quot;); SerializedProperty weaponProperty = property.FindPropertyRelative(&quot;weapon&quot;); //ç»˜åˆ¶icon iconProperty.objectReferenceValue = EditorGUI.ObjectField(iconRect, iconProperty.objectReferenceValue, typeof(Texture), false); //ç»˜åˆ¶name nameProperty.stringValue = EditorGUI.TextField(nameRect, nameProperty.displayName, nameProperty.stringValue); //Sliderï¼ŒèŒƒå›´åœ¨0-100 EditorGUI.IntSlider(hpRect, hpProperty, 0, 100); //Sliderï¼ŒèŒƒå›´åœ¨0-10 EditorGUI.IntSlider(powerRect, powerProperty, 0, 10); EditorGUI.PrefixLabel(weaponLabelRect, new GUIContent(&quot;weapon&quot;)); EditorGUI.PropertyField(weaponRect, weaponProperty, GUIContent.none); } } }æœ€åŽæ•ˆæžœå°±æ˜¯æ–‡ç« ä¸€å¼€å§‹çš„gifå›¾äº† ç¤ºä¾‹å·¥ç¨‹é“¾æŽ¥ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1cgyZ98 å¯†ç ï¼šjbzh ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ReorderableList</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸€ï¼šReorderableListå¯é‡æ–°æŽ’åºçš„åˆ—è¡¨æ¡†ï¼ˆç®€å•ä½¿ç”¨ï¼‰]]></title>
    <url>%2F2017%2F09%2F01%2Funity-bian-ji-qi-tuo-zhan-zhi-yi-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-jian-dan-shi-yong%2F</url>
    <content type="text"><![CDATA[å¯é‡æ–°æŽ’åºçš„åˆ—è¡¨æ¡†å…ˆçœ‹æ•ˆæžœå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170901231522594?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) UnityEditorInternalå‘½åç©ºé—´ä¸‹æä¾› ä¸€ä¸ªç±»ReorderableListå¯ä»¥å®žçŽ°é€šè¿‡æ‹–æ›³æ¥è¾¾åˆ°åˆ—è¡¨å…ƒç´ çš„é‡æ–°æŽ’åºã€‚ åŸºæœ¬ä½¿ç”¨ï¼šåç§° æè¿°draggable æ‹–æ›³æŽ’åºdisplayAdd æ˜¾ç¤ºæ·»åŠ æŒ‰é’®displayRemove æ˜¾ç¤ºç§»é™¤æŒ‰é’®elementHeight å…ƒç´ é«˜åº¦headerHeight è¡¨å¤´é«˜åº¦footerHeight å°¾éƒ¨é«˜åº¦showDefaultBackground æ˜¾ç¤ºé»˜è®¤èƒŒæ™¯drawHeaderCallback ç»˜åˆ¶è¡¨å¤´å›žè°ƒdrawFooterCallback ç»˜åˆ¶å°¾éƒ¨å›žè°ƒdrawElementCallback ç»˜åˆ¶å…ƒç´ å›žè°ƒdrawElementBackgroundCallback ç»˜åˆ¶å…ƒç´ èƒŒæ™¯å›žè°ƒonReorderCallback é‡æ–°æŽ’åºå›žè°ƒonSelectCallback é€‰ä¸­å›žè°ƒonAddCallback æ·»åŠ æŒ‰é’®å›žè°ƒonAddDropdownCallback æ·»åŠ ä¸‹æ‹‰é€‰é¡¹å›žè°ƒonRemoveCallback ç§»é™¤å…ƒç´ å›žè°ƒonMouseUpCallback é¼ æ ‡æŠ¬èµ·å›žè°ƒonCanRemoveCallback æ˜¯å¦æ˜¾ç¤ºå¯ç§»é™¤æŒ‰é’®å›žè°ƒonChangedCallback åˆ—è¡¨æ”¹å˜å›žè°ƒ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼šå…ˆåˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼šTestList using UnityEngine; using System.Collections; using System.Collections.Generic; public class TestList : MonoBehaviour { public List&lt;Color&gt; m_colors = new List&lt;Color&gt;(); private void Start() { } }ä¸Šè¿°ä»£ç ä¸­æœ‰ä¸€ä¸ªListç±»åž‹çš„å˜é‡ï¼ŒæŽ¥ä¸‹æ¥ä½¿ç”¨ä¸€ä¸ªç»§æ‰¿è‡ªEditorè„šæœ¬å®žçŽ°ä¸»è¦é€»è¾‘ using UnityEngine; using System.Collections; using UnityEditor; using UnityEditorInternal; using System; [CustomEditor(typeof(TestList))] public class TestListEditor : Editor { private ReorderableList m_colors; private void OnEnable() { m_colors = new ReorderableList(serializedObject, serializedObject.FindProperty(&quot;m_colors&quot;), true, true, true, true); //ç»˜åˆ¶å…ƒç´  m_colors.drawElementCallback = (Rect rect, int index, bool selected, bool focused) =&gt; { SerializedProperty itemData = m_colors.serializedProperty.GetArrayElementAtIndex(index); rect.y += 2; rect.height = EditorGUIUtility.singleLineHeight; EditorGUI.PropertyField(rect, itemData, GUIContent.none); }; //ç»˜åˆ¶è¡¨å¤´ m_colors.drawHeaderCallback = (Rect rect) =&gt; { GUI.Label(rect, &quot;Colors&quot;); }; //å½“ç§»é™¤å…ƒç´ æ—¶å›žè°ƒ m_colors.onRemoveCallback = (ReorderableList list) =&gt; { //å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡† if (EditorUtility.DisplayDialog(&quot;è­¦å‘Š&quot;,&quot;æ˜¯å¦ç¡®å®šåˆ é™¤è¯¥é¢œè‰²&quot;,&quot;æ˜¯&quot;,&quot;å¦&quot;)) { //å½“ç‚¹å‡»â€œæ˜¯â€ ReorderableList.defaultBehaviours.DoRemoveButton(list); } }; //æ·»åŠ æŒ‰é’®å›žè°ƒ m_colors.onAddCallback = (ReorderableList list) =&gt; { if (list.serializedProperty != null) { list.serializedProperty.arraySize++; list.index = list.serializedProperty.arraySize - 1; SerializedProperty itemData = list.serializedProperty.GetArrayElementAtIndex(list.index); itemData.colorValue = Color.red; } else { ReorderableList.defaultBehaviours.DoAddButton(list); } }; //é¼ æ ‡æŠ¬èµ·å›žè°ƒ m_colors.onMouseUpCallback = (ReorderableList list) =&gt; { Debug.Log(&quot;MouseUP&quot;); }; //å½“é€‰æ‹©å…ƒç´ å›žè°ƒ m_colors.onSelectCallback = (ReorderableList list) =&gt; { //æ‰“å°é€‰ä¸­å…ƒç´ çš„ç´¢å¼• Debug.Log(list.index); }; } public override void OnInspectorGUI() { EditorGUILayout.Space(); serializedObject.Update(); m_colors.DoLayoutList(); serializedObject.ApplyModifiedProperties(); } }ç»“æžœå°±å¦‚ä¹‹å‰çš„å›¾ä¸­æ˜¾ç¤ºæ‰€ç¤ºã€‚ å…¶ä¸­OnInspectorGUIå‡½æ•°ä¸­ï¼Œåˆ é™¤äº†base.OnInspectorGUI();ä¸ç„¶çš„è¯ï¼Œæ•ˆæžœå¦‚ä¸‹å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170901232457862?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) å¯ä»¥çœ‹å‡ºï¼Œcolorsç»˜åˆ¶äº†ä¸¤éã€‚ ç¤ºä¾‹å·¥ç¨‹é“¾æŽ¥ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1o7Tjslc å¯†ç ï¼špgri ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>Unityç¼–è¾‘å™¨æ‹“å±•</category>
      </categories>
      <tags>
        <tag>ReorderableList</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹å›¾ç‰‡è½®æ’­ç»„ä»¶å®žçŽ°]]></title>
    <url>%2F2017%2F08%2F20%2Funity-zhi-tu-pian-lun-bo-zu-jian-shi-xian%2F</url>
    <content type="text"><![CDATA[æ¸¸æˆä¸­æœ‰æ—¶å€™ä¼šè§åˆ°å›¾ç‰‡è½®æ’­çš„æ•ˆæžœï¼Œé‚£ä¹ˆè¿™é‡Œå°±è‡ªå·±å°è£…äº†ä¸€ä¸ªï¼ŒåŒ…æ‹¬è‡ªåŠ¨è½®æ’­ã€åˆ‡é¡µæŒ‰é’®æŽ§åˆ¶ã€é¡µç ä¸‹æ ‡æ›´æ–°ã€æ»‘åŠ¨è½®æ’­ã€åˆ‡é¡µåŽçš„å›žè°ƒç­‰ç­‰ä¸‹é¢ï¼Œå…ˆä¸Šä¸€ä¸ªç®€é™‹çš„gifåŠ¨æ€æ•ˆæžœå›¾ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170820225254127?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè¯¥ç¤ºä¾‹åŒ…æ‹¬äº†ä¸‰å¼ å›¾ç‰‡çš„è½®æ’­ï¼Œå·¦å³åˆ†åˆ«æ˜¯ä¸Šä¸€å¼ å’Œä¸‹ä¸€å¼ çš„æŒ‰é’®ï¼Œå³ä¸‹è§’æ˜¾ç¤ºäº†å½“å‰æ˜¯ç¬¬å‡ ç« çš„é¡µç ä¸‹æ ‡ã€‚ ç›´æŽ¥ä¸Šè„šæœ¬ï¼š using System; using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEngine.Events; using UnityEngine.EventSystems; using UnityEngine.UI; namespace UnityEngine.UI { [AddComponentMenu(&quot;UI/Slidershow&quot;, 39)] //æ·»åŠ èœå• [ExecuteInEditMode] //ç¼–è¾‘æ¨¡å¼ä¸‹å¯æ‰§è¡Œ [DisallowMultipleComponent] //ä¸å¯é‡å¤ [RequireComponent(typeof(RectTransform))] //ä¾èµ–äºŽRectTransformç»„ä»¶ public class Slideshow : UIBehaviour,IPointerDownHandler,IPointerUpHandler { public enum MovementType { /// &lt;summary&gt; /// å¾ªçŽ¯ /// &lt;/summary&gt; Circulation, //å¾ªçŽ¯ï¼Œè½®æ’­åˆ°æœ€åŽä¸€é¡µä¹‹åŽï¼Œç›´æŽ¥å›žåˆ°ç¬¬ä¸€é¡µ /// &lt;summary&gt; /// æ¥å›žå¾€å¤ /// &lt;/summary&gt; PingPong, //æ¥å›žå¾€å¤ï¼Œè½®æ’­åˆ°æœ€åŽä¸€é¡µä¹‹åŽï¼Œå€’åºè½®æ’­ï¼Œåˆ°ç¬¬ä¸€é¡µä¹‹åŽï¼ŒåŒç† } public enum MoveDir { Left, Right, } [SerializeField] private MovementType m_movement = MovementType.Circulation; public MovementType Movement { get { return m_movement; } set { m_movement = value; } } [SerializeField] private RectTransform m_content; public RectTransform Content { get { return m_content; } set { m_content = value; } } [SerializeField] private Button m_lastPageButton; public Button LastPageButton { get { return m_lastPageButton; } set { m_lastPageButton = value; } } [SerializeField] private Button m_nextPageButton; public Button NextPageButton { get { return m_nextPageButton; } set { m_nextPageButton = value; } } /// &lt;summary&gt; /// è‡ªåŠ¨è½®æ’­æ—¶é•¿ /// &lt;/summary&gt; [SerializeField] private float m_showTime = 2.0f; public float ShowTime { get { return m_showTime; } set { m_showTime = value; } } /// &lt;summary&gt; /// æ˜¯å¦è‡ªåŠ¨è½®æ’­ /// &lt;/summary&gt; [SerializeField] private bool m_autoSlide = false; public bool AutoSlide { get { return m_autoSlide; }set { m_autoSlide = value; } } /// &lt;summary&gt; /// è‡ªåŠ¨è½®æ’­æ–¹å‘ï¼Œ-1è¡¨ç¤ºå‘å·¦ï¼Œ1è¡¨ç¤ºå‘å³ /// &lt;/summary&gt; private MoveDir m_autoSlideDir = MoveDir.Right; /// &lt;summary&gt; /// æ˜¯å¦å…è®¸æ‹–åŠ¨åˆ‡é¡µ /// &lt;/summary&gt; [SerializeField] private bool m_allowDrag = true; public bool AllowDrag { get { return m_allowDrag; }set { m_allowDrag = value; } } /// &lt;summary&gt; /// å½“å‰æ˜¾ç¤ºé¡µçš„é¡µç ï¼Œä¸‹æ ‡ä»Ž0å¼€å§‹ /// &lt;/summary&gt; private int m_curPageIndex = 0; public int CurPageIndex { get { return m_curPageIndex; } } /// &lt;summary&gt; /// æœ€å¤§é¡µç  /// &lt;/summary&gt; private int m_maxPageIndex = 0; public int MaxPageIndex { get { return m_maxPageIndex; } } /// &lt;summary&gt; /// åœ†åœˆé¡µç ToggleGroup /// &lt;/summary&gt; [SerializeField] private ToggleGroup m_pageToggleGroup; public ToggleGroup PageToggleGroup { get { return m_pageToggleGroup; } set { m_pageToggleGroup = value; } } /// &lt;summary&gt; /// åœ†åœˆé¡µç Toggle List /// &lt;/summary&gt; private List&lt;Toggle&gt; m_pageToggleList; public List&lt;Toggle&gt; PageToggleLise { get { return m_pageToggleList; }} //itemæ•°ç›® private int m_itemNum = 0; public int ItemNum { get { return m_itemNum; } } //ä»¥Toggleä¸ºKeyï¼Œè¿”å›žé¡µç  private Dictionary&lt;Toggle, int&gt; m_togglePageNumDic = null; private float m_time = 0f; private List&lt;float&gt; m_childItemPos = new List&lt;float&gt;(); private GridLayoutGroup m_grid = null; protected override void Awake() { base.Awake(); if (null == m_content) { throw new Exception(&quot;Slideshow content is null&quot;); } else { m_grid = m_content.GetComponent&lt;GridLayoutGroup&gt;(); if (m_grid == null) { throw new Exception(&quot;Slideshow content is miss GridLayoutGroup Component&quot;); } InitChildItemPos(); } if (null != m_lastPageButton) { m_lastPageButton.onClick.AddListener(OnLastPageButtonClick); } if (null != m_nextPageButton) { m_nextPageButton.onClick.AddListener(OnNextPageButtonClick); } if (null != m_pageToggleGroup) { int toggleNum = m_pageToggleGroup.transform.childCount; if (toggleNum &gt; 0) { m_pageToggleList = new List&lt;Toggle&gt;(); m_togglePageNumDic = new Dictionary&lt;Toggle, int&gt;(); for (int i = 0; i &lt; toggleNum; i++) { Toggle childToggle = m_pageToggleGroup.transform.GetChild(i).GetComponent&lt;Toggle&gt;(); if (null != childToggle) { m_pageToggleList.Add(childToggle); m_togglePageNumDic.Add(childToggle, i); childToggle.onValueChanged.AddListener(OnPageToggleValueChanged); } } m_itemNum = m_pageToggleList.Count; m_maxPageIndex = m_pageToggleList.Count - 1; } } UpdateCutPageButtonActive(m_curPageIndex); } private void InitChildItemPos() { int childCount = m_content.transform.childCount; float cellSizeX = m_grid.cellSize.x; float spacingX = m_grid.spacing.x; float posX = -cellSizeX * 0.5f; m_childItemPos.Add(posX); for (int i = 1; i &lt; childCount; i++) { posX -= cellSizeX + spacingX; m_childItemPos.Add(posX); } } private void OnPageToggleValueChanged(bool ison) { if (ison) { Toggle activeToggle = GetActivePageToggle(); if (m_togglePageNumDic.ContainsKey(activeToggle)) { int page = m_togglePageNumDic[activeToggle]; SwitchToPageNum(page); } } } private Toggle GetActivePageToggle() { if (m_pageToggleGroup == null || m_pageToggleList == null || m_pageToggleList.Count &lt;= 0) { return null; } for (int i = 0; i &lt; m_pageToggleList.Count; i++) { if (m_pageToggleList[i].isOn) { return m_pageToggleList[i]; } } return null; } /// &lt;summary&gt; /// åˆ‡æ¢è‡³æŸé¡µ /// &lt;/summary&gt; /// &lt;param name=&quot;pageNum&quot;&gt;é¡µç &lt;/param&gt; private void SwitchToPageNum(int pageNum) { if (pageNum &lt; 0 || pageNum &gt; m_maxPageIndex) { throw new Exception(&quot;page num is error&quot;); } if (pageNum == m_curPageIndex) { //ç›®æ ‡é¡µä¸Žå½“å‰é¡µæ˜¯åŒä¸€é¡µ return; } m_curPageIndex = pageNum; if (m_movement == MovementType.PingPong) { UpdateCutPageButtonActive(m_curPageIndex); } Vector3 pos = m_content.localPosition; m_content.localPosition = new Vector3(m_childItemPos[m_curPageIndex], pos.y, pos.z); m_pageToggleList[m_curPageIndex].isOn = true; if (m_onValueChanged != null) { //æ‰§è¡Œå›žè°ƒ m_onValueChanged.Invoke(m_pageToggleList[m_curPageIndex].gameObject); } } /// &lt;summary&gt; /// æ ¹æ®é¡µç æ›´æ–°åˆ‡é¡µæŒ‰é’®active /// &lt;/summary&gt; /// &lt;param name=&quot;pageNum&quot;&gt;&lt;/param&gt; private void UpdateCutPageButtonActive(int pageNum) { if (pageNum == 0) { UpdateLastButtonActive(false); UpdateNextButtonActive(true); } else if (pageNum == m_maxPageIndex) { UpdateLastButtonActive(true); UpdateNextButtonActive(false); } else { UpdateLastButtonActive(true); UpdateNextButtonActive(true); } } private void OnNextPageButtonClick() { m_time = Time.time; //é‡æ–°è®¡æ—¶ switch (m_movement) { case MovementType.Circulation: SwitchToPageNum((m_curPageIndex + 1) % m_itemNum); break; case MovementType.PingPong: //è¯¥æ¨¡å¼ä¸‹ï¼Œä¼šè‡ªåŠ¨éšè—åˆ‡é¡µæŒ‰é’® SwitchToPageNum(m_curPageIndex + 1); break; default: break; } Debug.Log(m_content.localPosition); } private void OnLastPageButtonClick() { m_time = Time.time; //é‡æ–°è®¡æ—¶ switch (m_movement) { case MovementType.Circulation: SwitchToPageNum((m_curPageIndex + m_itemNum - 1) % m_itemNum); break; case MovementType.PingPong: //è¯¥æ¨¡å¼ä¸‹ï¼Œä¼šè‡ªåŠ¨éšè—åˆ‡é¡µæŒ‰é’® SwitchToPageNum(m_curPageIndex - 1); break; default: break; } } private void UpdateLastButtonActive(bool activeSelf) { if (null == m_lastPageButton) { throw new Exception(&quot;Last Page Button is null&quot;); } bool curActive = m_lastPageButton.gameObject.activeSelf; if (curActive != activeSelf) { m_lastPageButton.gameObject.SetActive(activeSelf); } } private void UpdateNextButtonActive(bool activeSelf) { if (null == m_nextPageButton) { throw new Exception(&quot;Next Page Button is null&quot;); } bool curActive = m_nextPageButton.gameObject.activeSelf; if (curActive != activeSelf) { m_nextPageButton.gameObject.SetActive(activeSelf); } } private Vector3 m_originDragPos = Vector3.zero; private Vector3 m_desDragPos = Vector3.zero; private bool m_isDrag = false; public void OnPointerDown(PointerEventData eventData) { if (!m_allowDrag) { return; } if (eventData.button != PointerEventData.InputButton.Left) { return; } if (!IsActive()) { return; } m_isDrag = true; m_originDragPos = eventData.position; } public void OnPointerUp(PointerEventData eventData) { m_desDragPos = eventData.position; MoveDir dir = MoveDir.Right; if (m_desDragPos.x &lt; m_originDragPos.x) { dir = MoveDir.Left; } switch (dir) { case MoveDir.Left: if (m_movement == MovementType.Circulation || (m_movement == MovementType.PingPong &amp;&amp; m_curPageIndex != 0)) { OnLastPageButtonClick(); } break; case MoveDir.Right: if (m_movement == MovementType.Circulation || (m_movement == MovementType.PingPong &amp;&amp; m_curPageIndex != m_maxPageIndex)) { OnNextPageButtonClick(); } break; } m_isDrag = false; } /// &lt;summary&gt; /// åˆ‡é¡µåŽå›žè°ƒå‡½æ•° /// &lt;/summary&gt; [Serializable] public class SlideshowEvent : UnityEvent&lt;GameObject&gt; { } [SerializeField] private SlideshowEvent m_onValueChanged = new SlideshowEvent(); public SlideshowEvent OnValueChanged { get { return m_onValueChanged; } set { m_onValueChanged = value; } } public override bool IsActive() { return base.IsActive() &amp;&amp; m_content != null; } private void Update() { if (m_autoSlide &amp;&amp; !m_isDrag) { if (Time.time &gt; m_time + m_showTime) { m_time = Time.time; switch (m_movement) { case MovementType.Circulation: m_autoSlideDir = MoveDir.Right; break; case MovementType.PingPong: if (m_curPageIndex == 0) { m_autoSlideDir = MoveDir.Right; } else if (m_curPageIndex == m_maxPageIndex) { m_autoSlideDir = MoveDir.Left; } break; } switch (m_autoSlideDir) { case MoveDir.Left: OnLastPageButtonClick(); break; case MoveDir.Right: OnNextPageButtonClick(); break; } } } } } }è¿™é‡Œæä¾›äº†ä¸€ä¸ªæžšä¸¾MovementTypeï¼Œè¯¥æžšä¸¾å®šä¹‰äº†ä¸¤ç§å¾ªçŽ¯æ–¹å¼ï¼Œå…¶ä¸­Circulationå¾ªçŽ¯ï¼Œæ˜¯æŒ‡è½®æ’­åˆ°æœ€åŽä¸€é¡µä¹‹åŽï¼Œç›´æŽ¥å›žåˆ°ç¬¬ä¸€é¡µï¼›è€ŒPingPongç›¸ä¿¡å¤§å®¶ä½ ç†Ÿæ‚‰äº†ï¼Œå°±æ˜¯æ¥å›žå¾€å¤çš„ã€‚ å…¶ä¸­è¿˜æä¾›äº†å¯¹æ¯å¼ å›¾æ˜¾ç¤ºçš„æ—¶é•¿è¿›è¡Œè®¾ç½®ï¼Œè¿˜æœ‰æ˜¯å¦å…è®¸è‡ªåŠ¨è½®æ’­çš„æŽ§åˆ¶ï¼Œæ˜¯å¦å…è®¸æ‹–åŠ¨åˆ‡é¡µæŽ§åˆ¶ï¼Œç­‰ç­‰ã€‚ã€‚å…¶å®žå°†å›¾ç‰‡ä½œä¸ºè½®æ’­å­å…ƒç´ åªæ˜¯å…¶ä¸­ä¹‹ä¸€è€Œå·²ï¼Œå®Œå…¨å¯ä»¥å°†ScrollRectä½œä¸ºè½®æ’­å­å…ƒç´ ï¼Œè¿™æ ·æ¯ä¸ªå­å…ƒç´ åˆå¯ä»¥æ»‘åŠ¨é˜…è§ˆäº†ã€‚ã€‚ è¿™é‡Œè¿˜æä¾›äº†ä¸¤ä¸ªç¼–è¾‘å™¨è„šæœ¬ï¼Œä¸€ä¸ªæ˜¯SlideshowEditorï¼ˆä¾èµ–Slideshowç»„ä»¶ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ç»™ç”¨æˆ·æä¾›èœå•ç”¨çš„CreateSlideshowï¼Œä»£ç åˆ†åˆ«å¦‚ä¸‹ï¼š using System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEngine; using UnityEngine.EventSystems; using UnityEngine.UI; public class CreateSlideshow : Editor { private static GameObject m_slideshowPrefab = null; private static GameObject m_canvas = null; [MenuItem(&quot;GameObject/UI/Slideshow&quot;)] static void CreateSlideshowUI(MenuCommand menuCommand) { if (null == m_slideshowPrefab) { m_slideshowPrefab = Resources.Load&lt;GameObject&gt;(&quot;Slideshow&quot;); if (null == m_slideshowPrefab) { Debug.LogError(&quot;Prefab Slideshow is null&quot;); return; } } m_canvas = menuCommand.context as GameObject; if (m_canvas == null || m_canvas.GetComponentInParent&lt;Canvas&gt;() == null) { m_canvas = GetOrCreateCanvasGameObject(); } GameObject go = GameObject.Instantiate(m_slideshowPrefab, m_canvas.transform); go.transform.localPosition = Vector3.zero; go.name = &quot;Slideshow&quot;; Selection.activeGameObject = go; } static public GameObject GetOrCreateCanvasGameObject() { GameObject selectedGo = Selection.activeGameObject; Canvas canvas = (selectedGo != null) ? selectedGo.GetComponentInParent&lt;Canvas&gt;() : null; if (canvas != null &amp;&amp; canvas.gameObject.activeInHierarchy) return canvas.gameObject; canvas = Object.FindObjectOfType(typeof(Canvas)) as Canvas; if (canvas != null &amp;&amp; canvas.gameObject.activeInHierarchy) return canvas.gameObject; return CreateCanvas(); } public static GameObject CreateCanvas() { var root = new GameObject(&quot;Canvas&quot;); root.layer = LayerMask.NameToLayer(&quot;UI&quot;); Canvas canvas = root.AddComponent&lt;Canvas&gt;(); canvas.renderMode = RenderMode.ScreenSpaceOverlay; root.AddComponent&lt;CanvasScaler&gt;(); root.AddComponent&lt;GraphicRaycaster&gt;(); Undo.RegisterCreatedObjectUndo(root, &quot;Create &quot; + root.name); CreateEventSystem(); return root; } public static void CreateEventSystem() { var esys = Object.FindObjectOfType&lt;EventSystem&gt;(); if (esys == null) { var eventSystem = new GameObject(&quot;EventSystem&quot;); GameObjectUtility.SetParentAndAlign(eventSystem, null); esys = eventSystem.AddComponent&lt;EventSystem&gt;(); eventSystem.AddComponent&lt;StandaloneInputModule&gt;(); Undo.RegisterCreatedObjectUndo(eventSystem, &quot;Create &quot; + eventSystem.name); } } } using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor.Advertisements; using UnityEngine.UI; namespace UnityEditor.UI { [CustomEditor(typeof(Slideshow), true)] public class SlideshowEditor : Editor { SerializedProperty m_movement; SerializedProperty m_content; SerializedProperty m_lastPageButton; SerializedProperty m_nextPageButton; SerializedProperty m_showTime; SerializedProperty m_pageToggleGroup; SerializedProperty m_onValueChanged; SerializedProperty m_allowDrag; SerializedProperty m_autoSlide; protected virtual void OnEnable() { m_movement = serializedObject.FindProperty(&quot;m_movement&quot;); m_content = serializedObject.FindProperty(&quot;m_content&quot;); m_lastPageButton = serializedObject.FindProperty(&quot;m_lastPageButton&quot;); m_nextPageButton = serializedObject.FindProperty(&quot;m_nextPageButton&quot;); m_showTime = serializedObject.FindProperty(&quot;m_showTime&quot;); m_pageToggleGroup = serializedObject.FindProperty(&quot;m_pageToggleGroup&quot;); m_onValueChanged = serializedObject.FindProperty(&quot;m_onValueChanged&quot;); m_allowDrag = serializedObject.FindProperty(&quot;m_allowDrag&quot;); m_autoSlide = serializedObject.FindProperty(&quot;m_autoSlide&quot;); } public override void OnInspectorGUI() { serializedObject.Update(); EditorGUILayout.PropertyField(m_movement); EditorGUILayout.PropertyField(m_content); EditorGUILayout.PropertyField(m_lastPageButton); EditorGUILayout.PropertyField(m_nextPageButton); EditorGUILayout.PropertyField(m_allowDrag); EditorGUILayout.PropertyField(m_autoSlide); EditorGUILayout.PropertyField(m_showTime); EditorGUILayout.PropertyField(m_pageToggleGroup); EditorGUILayout.Space(); EditorGUILayout.PropertyField(m_onValueChanged); //ä¸åŠ è¿™å¥ä»£ç ï¼Œåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œæ— æ³•å°†ç‰©ä½“æ‹–æ‹½èµ‹å€¼ serializedObject.ApplyModifiedProperties(); } } }è¿™ä¸¤ä¸ªè„šæœ¬ä¸­ä½¿ç”¨äº†ä¸€äº›æ‹“å±•ç¼–è¾‘å™¨çš„çŸ¥è¯†ï¼ŒåŽç»­åœ¨å¦å¤–å†™åšå®¢ä»‹ç»å…¶ä¸­è„šæœ¬CreateSlideshowä¸­ä½¿ç”¨UGUIæºç ä¸­çš„DefaultControlsè„šæœ¬é‡Œçš„æ–¹æ³•ï¼Œæœ‰å…´è¶£å¯ä»¥åŽ»ä¸‹è½½æŸ¥é˜…ã€‚Demoå·¥ç¨‹ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1i4Rralf å¯†ç ï¼š7loeé“¾æŽ¥å¦‚æœ‰ç§æœ‰ï¼Œè¯·åŠæ—¶è”ç³»è¡¥å…… ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>å›¾ç‰‡è½®æ’­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹UGUIè„šæœ¬è‡ªåŠ¨ç”Ÿæˆ]]></title>
    <url>%2F2017%2F08%2F09%2Funity-zhi-ugui-jiao-ben-zi-dong-sheng-cheng%2F</url>
    <content type="text"><![CDATA[åœ¨åšUIå¼€å‘å·¥ä½œä¸­ï¼Œå¾€å¾€ä¼šæœ‰å¾ˆå¤šé‡å¤å·¥ä½œï¼Œæ¯”å¦‚ç”¨FindChildæ‰¾å¯äº¤äº’çš„uiå‘€ï¼Œæ¯”å¦‚ç»™è¿™äº›uiåŠ Listenerç­‰ï¼Œé‚£ä¹ˆè¿™é‡Œæä¾›ä¸€ç§æ€è·¯ï¼Œé€šè¿‡ç»™UIä¸­éœ€è¦åŠ äº¤äº’äº‹ä»¶çš„uiç‰©ä½“åŠ ä¸Šæ ‡è®°è„šæœ¬ï¼Œç„¶åŽå°±å¯ä»¥æ ¹æ®è¿™äº›æ ‡è®°å¾—å‡ºç›¸å¯¹äºŽUIRootçš„è·¯å¾„ï¼Œå¾—åˆ°è·¯å¾„å°±å¯ä»¥é€šè¿‡FindChildå¾—åˆ°äº¤äº’UIç‰©ä½“ï¼Œç„¶åŽç»™ä»–ä»¬åŠ ä¸Šäº‹ä»¶ç›‘å¬å³å¯ã€‚ å…ˆå®šä¹‰ä¸€ä¸ªæžšä¸¾ using System.Collections; using System.Collections.Generic; using UnityEngine; public enum UIType { UIRoot, Transform, Image, RawImage, Button, Toggle, Slider, Scrollbar, Dropdown, InputField, ScrollRect, }ç„¶åŽä¸Šä¸€ä¸ªæ•ˆæžœå›¾æ¥ç»™UIç‰©ä½“åŠ æ ‡è®° ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170809002217766?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåŠ å®Œæ ‡è®°ä¹‹åŽï¼Œç”Ÿæˆä»£ç ã€‚å…ˆçœ‹ç¤ºä¾‹çš„UIDialog![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170809002336955?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)å…¶ä¸­å›¾ä¸­ä¸¤ä¸€ä¸ªImageï¼Œä¸€ä¸ªInputFielï¼Œä¸€ä¸ªButtonï¼Œä¸€ä¸ªToggleç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼š using UnityEngine; using UnityEngine.UI; using System; public class TestDialog : MonoBehaviour { private Image m_Image = null; private InputField m_UserNameInputField = null; private Button m_CloseButton = null; private Toggle m_SexToggle = null; void Awake() { m_Image = transform.FindChild(&quot;Image&quot;).GetComponent&lt;Image&gt;(); m_UserNameInputField = transform.FindChild(&quot;Image/UserNameInputField&quot;).GetComponent&lt;InputField&gt;(); m_CloseButton = transform.FindChild(&quot;CloseButton&quot;).GetComponent&lt;Button&gt;(); m_SexToggle = transform.FindChild(&quot;SexToggle&quot;).GetComponent&lt;Toggle&gt;(); } void Start() { InitUIEvent(); } private void InitUIEvent() { m_UserNameInputField.onEndEdit.AddListener(OnUserNameInputFieldEndEdit); m_CloseButton.onClick.AddListener(OnCloseButtonClick); m_SexToggle.onValueChanged.AddListener(OnSexToggleValueChanged); } private void OnUserNameInputFieldEndEdit(string arg0) { throw new NotImplementedException(); } private void OnCloseButtonClick() { throw new NotImplementedException(); } private void OnSexToggleValueChanged(bool arg0) { throw new NotImplementedException(); } }ç”Ÿæˆä»£ç çš„é€»è¾‘æ¯”è¾ƒé•¿ï¼Œå°±ä¸æ”¾å‡ºæ¥äº†ï¼ŒåŽŸç†å°±æ˜¯æŒ‰ç…§è§„èŒƒæ‹¼StringBuilderï¼ŒåŒ…æ‹¬å˜é‡åå‰ç¼€ï¼Œå‡½æ•°åè§„èŒƒç­‰ï¼Œä»¥åŠæ’å…¥ç­‰é•¿åº¦çš„ç©ºæ ¼ä»£æ›¿tabã€è¿˜æœ‰æ¢è¡Œä½¿å¾—ä»£ç å¯¹å…¶ç­‰ç­‰ã€‚ è¿™ä¸ªåªæ˜¯æä¾›ä¸€ç§æ€è·¯ï¼ŒDemoä»¥åŠæºç ä¼šæ”¾åœ¨ä¸‹é¢ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè½¬è½½è¯·æ³¨æ˜ŽåŽŸæ–‡åœ°å€ã€‚Demoæºç ä¸‹è½½åœ°å€ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1i4YbIML å¯†ç ï¼šuyg9 ä¸‹è½½é“¾æŽ¥å¦‚æœ‰å¤±æ•ˆï¼Œè¯·å³æ—¶è”ç³»ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>è„šæœ¬ç”Ÿæˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ç®€æ˜“å®šæ—¶å™¨Timer]]></title>
    <url>%2F2017%2F08%2F06%2Funity-zhi-jian-yi-ding-shi-qi-timer%2F</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šå‡ ç§’æˆ–è€…å‡ å¸§ä¹‹åŽåšä»€ä¹ˆäº‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå®šæ—¶å™¨ã€‚è¿™é‡Œæˆ‘åˆ©ç”¨Time.realtimeSinceStartupå®žçŽ°äº†ä¸€ä¸ªç®€å•çš„ç§’é’Ÿå®šæ—¶å™¨ï¼Œå½“ç„¶è¿˜å¯ä»¥åˆ©ç”¨Time.frameCountå®žçŽ°ä¸€ä¸ªå¸§è®¡æ—¶å™¨ ä¸Šä»£ç ï¼š using System; using System.Collections; using System.Collections.Generic; using UnityEngine; public class Timer { private Timer() { m_timerTask = new List&lt;TimerTask&gt;(); } private static Timer m_instance; public static Timer Instance { get { if (m_instance == null) { m_instance = new Timer(); } return m_instance; } } public delegate void OnTimeStart(); private List&lt;TimerTask&gt; m_timerTask = null; public class TimerTask { //public int Id; public float RealTime; public float Time; //public bool IsLoop; //public int LoopCount; public OnTimeStart CallBack; } public void UpdateTimer() { for (int i = 0; i &lt; m_timerTask.Count; i++) { TimerTask t = m_timerTask[i]; if (t == null) { continue; } if (t.RealTime &lt; Time.realtimeSinceStartup) { if (null != t.CallBack) { t.CallBack(); m_timerTask.Remove(t); } } } } public void AddTimerTask(float time, OnTimeStart callback) { if (null == callback) { return; } TimerTask t = new TimerTask(); t.Time = time; t.RealTime = Time.realtimeSinceStartup + time; t.CallBack = callback; m_timerTask.Add(t); } }ä¸Šé¢çš„ä»£ç çœç•¥äº†æ˜¯å¦å¾ªçŽ¯ã€å¾ªçŽ¯æ¬¡æ•°ä»¥åŠå¸§è®¡æ—¶å™¨ï¼Œæ€è·¯ç±»ä¼¼ã€‚æœ€åŽé™„ä¸Šæµ‹è¯•Demoä¸‹è½½åœ°å€ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1bp5xRSr å¯†ç ï¼šy35i ä¸‹è½½é“¾æŽ¥å¦‚æœ‰å¤±æ•ˆï¼Œè¯·å³æ—¶è”ç³»ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>ç®€æ˜“å®šæ—¶å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹æ‹“å±•Buttonï¼šæ”¯æŒåŒå‡»ä¸Žé•¿æŒ‰]]></title>
    <url>%2F2017%2F08%2F06%2Funity-zhi-tuo-zhan-button-zhi-chi-shuang-ji-yu-chang-an%2F</url>
    <content type="text"><![CDATA[åŒå‡»ç›´æŽ¥åˆ©ç”¨çš„eventData.clickCountå®žçŽ°ï¼Œè€Œé•¿æŒ‰åˆ™æ˜¯åœ¨PointerDownçš„æ—¶å€™è®°å½•æ—¶é—´ï¼Œç„¶åŽåœ¨Updateé‡Œåˆ¤æ–­æ—¶é—´å³å¯ï¼Œç”±äºŽä»£ç æ¯”è¾ƒç®€å•ï¼Œç›´æŽ¥ä¸Šæºç ã€‚ using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEngine.EventSystems; using UnityEngine.UI; public class UIButton : Button { protected UIButton() { m_onDoubleClick = new ButtonClickedEvent(); m_onLongPress = new ButtonClickedEvent(); } private ButtonClickedEvent m_onLongPress; public ButtonClickedEvent OnLongPress { get { return m_onLongPress; } set { m_onLongPress = value; } } private ButtonClickedEvent m_onDoubleClick; public ButtonClickedEvent OnDoubleClick { get { return m_onDoubleClick; } set { m_onDoubleClick = value; } } private bool m_isStartPress = false; private float m_curPointDownTime = 0f; private float m_longPressTime = 1f; private bool m_longPressTrigger = false; void Update () { if (m_isStartPress &amp;&amp; !m_longPressTrigger) { if (Time.time &gt; m_curPointDownTime + m_longPressTime) { m_longPressTrigger = true; m_isStartPress = false; if (m_onLongPress != null) { m_onLongPress.Invoke(); } } } } public override void OnPointerDown(PointerEventData eventData) { base.OnPointerDown(eventData); m_curPointDownTime = Time.time; m_isStartPress = true; m_longPressTrigger = false; } public override void OnPointerUp(PointerEventData eventData) { base.OnPointerUp(eventData); m_isStartPress = false; m_longPressTrigger = false; } public override void OnPointerExit(PointerEventData eventData) { base.OnPointerExit(eventData); m_isStartPress = false; m_longPressTrigger = false; } public override void OnPointerClick(PointerEventData eventData) { //base.OnPointerClick(eventData); if (!m_longPressTrigger) { if (eventData.clickCount == 1) { onClick.Invoke(); } else if (eventData.clickCount == 2) { if (m_onDoubleClick != null) { m_onDoubleClick.Invoke(); } } } } }ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>ButtonåŒå‡»ä¸Žé•¿æŒ‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ScrollRectæ»‘åŠ¨å±…ä¸­]]></title>
    <url>%2F2017%2F07%2F16%2Funity-zhi-scrollrect-hua-dong-ju-zhong%2F</url>
    <content type="text"><![CDATA[å…ˆä¸Šæ•ˆæžœå›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170716183336257?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) è¿™é‡ŒåŒæ—¶æ”¯æŒæ°´å¹³æ–¹å‘å’Œåž‚ç›´æ–¹å‘ï¼ŒåŒæ—¶ScrollRectæ”¯æŒä½¿ç”¨GridLayoutGroupã€HorizontalLayoutGroupã€VerticalLayoutGroupä¸‰ç§LayoutGroupï¼Œä¸è¿‡æ°´å¹³æ–¹å‘çš„ScrollRectä¸æ”¯æŒVerticalLayoutGroupï¼Œåž‚ç›´æ–¹å‘çš„ScrollRectä¸æ”¯æŒHorizontalLayoutGroupï¼Œå½“ç„¶ä¹Ÿä¸å­˜åœ¨è¿™ä¸¤ç§æƒ…å†µã€‚ ç”±äºŽè¿™é‡Œæ˜¯é€šè¿‡å¯¹ScrollRectçš„contentçš„localPositionåšäº†æ’å€¼ç§»åŠ¨ï¼Œå› æ­¤ScrollRectçš„ä¸­å¿ƒç‚¹è®¾ç½®å¿…é¡»è·Ÿæˆ‘è¿™ä¿æŒä¸€è‡´ã€‚ ä¸‹é¢ç›´æŽ¥ä¸Šä»£ç ï¼š using System; using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEngine.EventSystems; using UnityEngine.UI; public enum ScrollDir { Horizontal, Vertical } public class ScrollRectCenter : MonoBehaviour , IEndDragHandler,IDragHandler,IBeginDragHandler { public ScrollDir Dir = ScrollDir.Horizontal; /// &lt;summary&gt; /// æ˜¯å¦æ­£åœ¨å±…ä¸­ /// &lt;/summary&gt; private bool _isCentering = false; /// &lt;summary&gt; /// å±…ä¸­è¿‡ç¨‹ç§»åŠ¨é€Ÿåº¦ /// &lt;/summary&gt; public float MoveToCenterSpeed = 10f; private ScrollRect _scrollView; private Transform _content; private List&lt;float&gt; _childrenPos = new List&lt;float&gt;(); private float _targetPos; /// &lt;summary&gt; /// å½“å‰ä¸­å¿ƒchildç´¢å¼• /// &lt;/summary&gt; private int _curCenterChildIndex = -1; /// &lt;summary&gt; /// å½“å‰ä¸­å¿ƒChildItem /// &lt;/summary&gt; public GameObject CurCenterChildItem { get { GameObject centerChild = null; if (_content != null &amp;&amp; _curCenterChildIndex &gt;= 0 &amp;&amp; _curCenterChildIndex &lt; _content.childCount) { centerChild = _content.GetChild(_curCenterChildIndex).gameObject; } return centerChild; } } void Awake() { _scrollView = GetComponent&lt;ScrollRect&gt;(); if (_scrollView == null) { Debug.LogError(&quot;ScrollRect is null&quot;); return; } _content = _scrollView.content; LayoutGroup layoutGroup = null; layoutGroup = _content.GetComponent&lt;LayoutGroup&gt;(); if (layoutGroup == null) { Debug.LogError(&quot;LayoutGroup component is null&quot;); } _scrollView.movementType = ScrollRect.MovementType.Unrestricted; float spacing = 0f; //æ ¹æ®dirè®¡ç®—åæ ‡ï¼ŒHorizontalï¼šå­˜xï¼ŒVerticalï¼šå­˜y switch (Dir) { case ScrollDir.Horizontal: if (layoutGroup is HorizontalLayoutGroup) { float childPosX = _scrollView.GetComponent&lt;RectTransform&gt;().rect.width * 0.5f - GetChildItemWidth(0) * 0.5f; spacing = (layoutGroup as HorizontalLayoutGroup).spacing; _childrenPos.Add(childPosX); for (int i = 1; i &lt; _content.childCount; i++) { childPosX -= GetChildItemWidth(i) * 0.5f + GetChildItemWidth(i - 1) * 0.5f + spacing; _childrenPos.Add(childPosX); } } else if (layoutGroup is GridLayoutGroup) { GridLayoutGroup grid = layoutGroup as GridLayoutGroup; float childPosX = _scrollView.GetComponent&lt;RectTransform&gt;().rect.width * 0.5f - grid.cellSize.x * 0.5f; _childrenPos.Add(childPosX); for (int i = 0; i &lt; _content.childCount - 1; i++) { childPosX -= grid.cellSize.x + grid.spacing.x; _childrenPos.Add(childPosX); } } else { Debug.LogError(&quot;Horizontal ScrollView is using VerticalLayoutGroup&quot;); } break; case ScrollDir.Vertical: if (layoutGroup is VerticalLayoutGroup) { float childPosY = -_scrollView.GetComponent&lt;RectTransform&gt;().rect.height * 0.5f + GetChildItemHeight(0) * 0.5f; spacing = (layoutGroup as VerticalLayoutGroup).spacing; _childrenPos.Add(childPosY); for (int i = 1; i &lt; _content.childCount; i++) { childPosY += GetChildItemHeight(i) * 0.5f + GetChildItemHeight(i - 1) * 0.5f + spacing; _childrenPos.Add(childPosY); } } else if (layoutGroup is GridLayoutGroup) { GridLayoutGroup grid = layoutGroup as GridLayoutGroup; float childPosY = -_scrollView.GetComponent&lt;RectTransform&gt;().rect.height * 0.5f + grid.cellSize.y * 0.5f; _childrenPos.Add(childPosY); for (int i = 1; i &lt; _content.childCount; i++) { childPosY += grid.cellSize.y + grid.spacing.y; _childrenPos.Add(childPosY); } } else { Debug.LogError(&quot;Vertical ScrollView is using HorizontalLayoutGroup&quot;); } break; } } private float GetChildItemWidth(int index) { return (_content.GetChild(index) as RectTransform).sizeDelta.x; } private float GetChildItemHeight(int index) { return (_content.GetChild(index) as RectTransform).sizeDelta.y; } void Start () { } void Update () { if (_isCentering) { Vector3 v = _content.localPosition; switch (Dir) { case ScrollDir.Horizontal: v.x = Mathf.Lerp(_content.localPosition.x, _targetPos, MoveToCenterSpeed * Time.deltaTime); _content.localPosition = v; if (Math.Abs(_content.localPosition.x - _targetPos) &lt; 0.01f) { _isCentering = false; } break; case ScrollDir.Vertical: v.y = Mathf.Lerp(_content.localPosition.y, _targetPos, MoveToCenterSpeed * Time.deltaTime); _content.localPosition = v; if (Math.Abs(_content.localPosition.y - _targetPos) &lt; 0.01f) { _isCentering = false; } break; } } } public void OnDrag(PointerEventData eventData) { } public void OnEndDrag(PointerEventData eventData) { switch (Dir) { case ScrollDir.Horizontal: _targetPos = FindClosestChildPos(_content.localPosition.x, out _curCenterChildIndex); break; case ScrollDir.Vertical: _targetPos = FindClosestChildPos(_content.localPosition.y, out _curCenterChildIndex); break; } _isCentering = true; } public void OnBeginDrag(PointerEventData eventData) { _isCentering = false; _curCenterChildIndex = -1; } private float FindClosestChildPos(float currentPos, out int curCenterChildIndex) { float closest = 0; float distance = Mathf.Infinity; curCenterChildIndex = -1; for (int i = 0; i &lt; _childrenPos.Count; i++) { float p = _childrenPos[i]; float d = Mathf.Abs(p - currentPos); if (d &lt; distance) { distance = d; closest = p; curCenterChildIndex = i; } } return closest; } }æœ€åŽé™„ä¸ŠDemoä¸‹è½½é“¾æŽ¥ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1pLoJcjL å¯†ç ï¼šjs7gé“¾æŽ¥å¦‚æžœå¤±æ•ˆï¼Œè¯·åŠæ—¶è¯„è®ºï¼ŒåŠæ—¶æ›´æ–° ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>ScrollRect</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ç²˜è´´æ¿æ“ä½œ]]></title>
    <url>%2F2017%2F07%2F15%2Funity-zhi-nian-tie-ban-cao-zuo%2F</url>
    <content type="text"><![CDATA[Unityä¹‹ç²˜è´´æ¿æ“ä½œUntiyæä¾›GUIUtility.systemCopyBufferè¿›è¡Œå¯¹ç²˜è´´æ¿ç¼“å­˜æ•°æ®å­˜å‚¨ä¸ŽèŽ·å– å®˜æ–¹è§£é‡Šä¸ºè®¿é—®ç³»ç»Ÿçš„ç²˜è´´æ¿ï¼Œå¯setï¼Œå¯get ä¸Šå›¾![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170715113619738?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) é™„ä¸Šå®˜æ–¹æ–‡æ¡£åœ°å€ï¼š[ https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-systemCopyBuffer.html](https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-systemCopyBuffer.html) ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>ç²˜è´´æ¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ç®€æ˜“ä»»åŠ¡é˜Ÿåˆ—TaskQueue]]></title>
    <url>%2F2017%2F07%2F09%2Funity-zhi-jian-yi-ren-wu-dui-lie-taskqueue%2F</url>
    <content type="text"><![CDATA[ä»»åŠ¡é˜Ÿåˆ—è¯¥åŠŸèƒ½åŒ…æ‹¬ä¸¤ä¸ªç±»ï¼šTaskä»»åŠ¡ç±»ï¼ŒTaskQueueä»»åŠ¡é˜Ÿåˆ—ç±»å…¶ä¸­TaskQueueè´Ÿè´£ï¼š1ã€å¼€å§‹ä»»åŠ¡2ã€æ·»åŠ ä»»åŠ¡3ã€æ¸…ç©ºä»»åŠ¡4ã€å¼€å§‹ä»»åŠ¡å›žè°ƒ5ã€å®Œæˆé˜Ÿåˆ—ä¸­æ‰€æœ‰ä»»åŠ¡å›žè°ƒ6ã€ä¸‹ä¸€ä¸ªä»»åŠ¡7ã€å½“å‰ä»»åŠ¡è¿›åº¦8ã€é˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰ä»»åŠ¡ å…¶ä¸­Taskç±»ä»£ç å¦‚ä¸‹ï¼š using System; using System.Collections; using System.Collections.Generic; public class Task { //ä»»åŠ¡å private string m_TaskName; public string TaskName { set { m_TaskName = value; } get { return m_TaskName; } } //ä»»åŠ¡å…·ä½“å†…å®¹ï¼Œå¤–éƒ¨ä¼ å…¥ public Action Work; public Task(Action work, string taskName = &quot;defaultTaskName&quot;) { this.Work = work; this.m_TaskName = taskName; } }TaskQueueç±»ä»£ç å¦‚ä¸‹ï¼š using System; using System.Collections; using System.Collections.Generic; using UnityEngine; public class TaskQueue { //æž„é€ å‡½æ•° public TaskQueue() { m_TaskQueue = new Queue&lt;Task&gt;(); m_TasksNum = 0; } //1ã€æ·»åŠ ä»»åŠ¡ public void AddTask(Task task) { m_TaskQueue.Enqueue(task); } public void AddTask(Action work) { Task task = new Task(work); m_TaskQueue.Enqueue(task); } //2ã€å¼€å§‹ä»»åŠ¡ public void Start() { //èŽ·å–ä»»åŠ¡é˜Ÿåˆ—çš„æ€»ä»»åŠ¡æ•° m_TasksNum = m_TaskQueue.Count; if (OnStart != null) { OnStart(); } NextTask(); } //3ã€æ¸…ç©ºä»»åŠ¡ public void Clear() { m_TaskQueue.Clear(); m_TasksNum = 0; } //4ã€å¼€å§‹ä»»åŠ¡å›žè°ƒ public Action OnStart = null; //5ã€å®Œæˆæ‰€æœ‰ä»»åŠ¡å›žè°ƒ public Action OnFinish = null; //6ã€ä¸‹ä¸€ä¸ªä»»åŠ¡ private void NextTask() { if (m_TaskQueue.Count &gt; 0) { Task task = m_TaskQueue.Dequeue(); task.Work(); NextTask(); } else { if (OnFinish != null) { OnFinish(); } } } //7ã€å½“å‰ä»»åŠ¡è¿›åº¦ public float TaskProcess { get { return 1 - m_TaskQueue.Count * 1.0f / m_TasksNum; } } //8ã€ä»»åŠ¡é˜Ÿåˆ—æ€»ä»»åŠ¡é‡ private int m_TasksNum = 0; //9ã€ä»»åŠ¡é˜Ÿåˆ— private Queue&lt;Task&gt; m_TaskQueue; }ç„¶åŽå†™ä¸€ä¸ªtestè„šæœ¬æŒ‚åœ¨ç›¸æœºä¸Šï¼Œæµ‹è¯•å‰é¢çš„ä»£ç ï¼š using System.Collections; using System.Collections.Generic; using UnityEngine; public class Test : MonoBehaviour { void Start () { TaskQueue taskQueue = new TaskQueue(); taskQueue.OnStart = () =&gt; { Debug.Log(&quot;OnStart&quot;); }; taskQueue.OnFinish = () =&gt; { Debug.Log(&quot;OnFinish&quot;); }; taskQueue.AddTask(Task1); taskQueue.AddTask(Task2); taskQueue.Start(); } private void Task1() { Debug.Log(&quot;Task1&quot;); } private void Task2() { Debug.Log(&quot;Task2&quot;); } }æ‰§è¡Œç»“æžœå¦‚ä¸‹å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170709182839383?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) è¯¥ä»»åŠ¡é˜Ÿåˆ—å†™çš„æ¯”è¾ƒç®€å•ï¼ŒåŽæœŸä¼šæ‹“å±•ï¼Œæ•¬è¯·æœŸå¾…ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>TaskQueue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹NetworkReachabilityæè¿°ç½‘ç»œå¯è¾¾æ€§é€‰é¡¹ã€‚]]></title>
    <url>%2F2017%2F07%2F06%2Funity-zhi-networkreachability-miao-shu-wang-luo-ke-da-xing-xuan-xiang%2F</url>
    <content type="text"><![CDATA[Unityè‡ªå¸¦ä¸€ä¸ªæžšä¸¾NetworkReachabilityï¼Œç”¨æ¥æè¿°ç½‘ç»œå¯è¾¾æ€§NotReachableï¼šç½‘ç»œæ— æ³•è®¿é—®ReachableViaCarrierDataNetworkï¼šé€šè¿‡è¿è¥å•†æ•°æ®ç½‘ç»œå¯ä»¥è®¿é—®ç½‘ç»œReachableViaLocalAreaNetworkï¼šç½‘ç»œé€šè¿‡WIFIæˆ–ç”µç¼†å¯è¾¾ é™„ä¸ŠUnityå®˜æ–¹æ–‡æ¡£åœ°å€ï¼š https://docs.unity3d.com/ScriptReference/NetworkReachability.html æˆªå›¾å¦‚ä¸‹ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170706125329699?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>NetworkReachability</tag>
        <tag>ç½‘ç»œå¯è¾¾æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ä½¿ç”¨IOS 3DTouchåŠŸèƒ½]]></title>
    <url>%2F2017%2F04%2F26%2Funity-zhi-shi-yong-ios-3dtouch-gong-neng%2F</url>
    <content type="text"><![CDATA[Unityå·¥ç¨‹åœ¨IOSå¹³å°ä½¿ç”¨3DTouchåŠŸèƒ½ï¼Œæä¾›äº†ä»¥ä¸‹æŽ¥å£ï¼šï¼ˆ1ï¼‰Input.touchPressureSupportedï¼šæ˜¯å¦æ”¯æŒ3Dtouchï¼Œboolç±»åž‹ï¼ˆ2ï¼‰Touch.pressureï¼šèŽ·å–å½“å‰æŒ‰åŽ‹å€¼ï¼Œfloatç±»åž‹ï¼ˆ3ï¼‰Touch.maximumPossiblePressureï¼šèŽ·å–æœ€å¤§æŒ‰åŽ‹å€¼ï¼Œfloatç±»åž‹ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>3D Touch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹DOTweenPathè½¨è¿¹ç§»åŠ¨]]></title>
    <url>%2F2017%2F04%2F26%2Funity-zhi-dotweenpath-gui-ji-yi-dong%2F</url>
    <content type="text"><![CDATA[å…ˆç®€å•ä»‹ç»ä¸€ä¸‹DOTweenPathã€‚ å…ˆæ¥çœ‹ä¸€ä¸‹DOTweenPathç»„ä»¶çš„æˆªå›¾ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170426150708706?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) 1ã€Scene View Commandsï¼ˆ1ï¼‰SHIFT+CTRLï¼šadd a waypointåŠ ä¸€ä¸ªè½¨è¿¹ç‚¹ï¼ˆ2ï¼‰SHIFT+ALTï¼šremove a waypointç§»é™¤ä¸€ä¸ªè½¨è¿¹ç‚¹ 2ã€INfoï¼ˆ1ï¼‰Path Lengthï¼šè½¨è¿¹é•¿åº¦ 3ã€Tween Optionsï¼ˆ1ï¼‰AutoPlayï¼šè‡ªåŠ¨æ’­æ”¾ï¼ˆ2ï¼‰AutoKillï¼šæ’­æ”¾å®Œè‡ªåŠ¨é”€æ¯åŠ¨ç”»ï¼ˆ3ï¼‰Durationï¼šåŠ¨ç”»æ—¶é•¿SpeedBasedï¼šIf selected ,the duration will count as units/degreexsecond;å¦‚æžœè¢«é€‰ä¸Šï¼Œè¯¥æ—¶é—´ä½œä¸ºå•ä½æ—¶é—´ã€‚ ï¼ˆ4ï¼‰Delayï¼šå»¶æ—¶ï¼ˆ5ï¼‰Easeï¼šè¿™æ˜¯ä¸€ä¸ªæžšä¸¾ï¼Œå¯ä»¥ç†è§£ä¸ºåŠ¨ç”»æ’­æ”¾é€ŸçŽ‡æ›²çº¿![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170426152601405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ç›¸å…³ç½‘å€ï¼š http://dotween.demigiant.com/documentation.php ä»¥åŠï¼š http://robertpenner.com/easing/easing_demo.html ï¼ˆ6ï¼‰Loopsï¼šå¾ªçŽ¯æ¬¡æ•°ï¼ŒåŠ¨ç”»å¾ªçŽ¯æ’­æ”¾çš„æ¬¡æ•°-1ï¼šè¡¨ç¤º ä¸€ç›´å¾ªçŽ¯0ï¼šè¡¨ç¤ºåªæ’­æ”¾ä¸€æ¬¡å½“è¯¥å€¼&gt;1æ—¶ï¼Œæ£€è§†é¢æ¿å‡ºçŽ°LoopTypeï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æŒ‡å¾ªçŽ¯ç±»åž‹ï¼šRestartï¼šé‡æ–°å¼€å§‹ï¼ŒåŽé¢çš„åŠ¨ç”»å¾ªçŽ¯æ’­æ”¾ä¼šä»Žèµ·ç‚¹é‡æ–°å¼€å§‹ï¼›Yoyoï¼šæ¥å›žæ’­æ”¾Incrementalï¼šå¢žåŠ çš„ï¼ŒåŽé¢çš„pathç§»åŠ¨åŠ¨ç”»ä¼šåœ¨ä¸Šä¸€æ¬¡å¾ªçŽ¯çš„ç»ˆç‚¹çš„åŸºç¡€ä¸Šè¿›è¡Œæ’­æ”¾ ï¼ˆ7ï¼‰IDï¼šåŠ¨ç”»IDï¼ˆ8ï¼‰UpdateTypeï¼šè¿™ä¸ªæžšä¸¾æœ‰ä¸‰ä¸ªå€¼ï¼ŒæŒ‡æ›´æ–°ç±»åž‹Normalï¼šæ­£å¸¸æ›´æ–°ï¼ŒUpdate()Lateï¼šæ™šäºŽæ›´æ–°ï¼ŒLateUpdate()Fixedï¼šå›ºå®šæ›´æ–°ï¼ŒFixedUpdate() 4ã€Path Tween Optionsï¼ˆ1ï¼‰Path Typeï¼šè½¨è¿¹çº¿ç±»åž‹Linearï¼šçº¿åž‹çš„Catmull Romï¼šæ›²çº¿ï¼ˆ2ï¼‰Close Pathï¼šå°é—­æ›²çº¿ï¼Œå°†èµ·ç‚¹å’Œç»ˆç‚¹ç›¸è¿žï¼ˆ3ï¼‰Lock Rotationï¼šé”æ—‹è½¬ï¼Œxyzw 5ã€Path Editor Optionsï¼šè½¨è¿¹ç¼–è¾‘å‚æ•°ï¼Œå°±ä¸ä»‹ç»äº† 6ã€ResetPathï¼šé‡ç½®è½¨è¿¹7ã€Eventsï¼šï¼ˆ1ï¼‰OnStartï¼šå¼€å§‹æ—¶ï¼ˆ2ï¼‰OnPlayï¼šæ’­æ”¾æ—¶ï¼ˆ3ï¼‰OnUpdateï¼šæ›´æ–°æ—¶ï¼ˆ4ï¼‰OnStepï¼šå•æ­¥å®Œæˆæ—¶ï¼ˆ5ï¼‰OnCompleteï¼šå®Œæˆæ—¶ï¼ˆ6ï¼‰OnCreatedï¼šåŠ¨ç”»åˆ›å»ºæ—¶äº‹ä»¶é¡ºåºä¸ºï¼šOnCreated-&gt;OnStart-&gt;OnPlay-&gt;OnUpdateï¼ˆä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆï¼‰ï¼ŒåŠ¨ç”»è¿‡ç¨‹ä¸­å•æ­¥å®Œæˆæ—¶æ‰§è¡ŒOnStepï¼Œæ•´ä¸ªåŠ¨ç”»å®ŒæˆåŽæ‰§è¡ŒOnComplete 8ã€WayPointsï¼šç§»åŠ¨è½¨è¿¹ç‚¹å…¶ä¸­å³è¾¹çš„Copy to clipboardï¼Œå°†åæ ‡å¤åˆ¶è‡³å‰ªè´´æ¿![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170426160635797?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)åŠ å‡æŒ‰é’®å³æŒ‡å¢žåŠ å‡å°‘åæ ‡ç‚¹ ä»¥ä¸Šä¾¿æ˜¯å¯¹äºŽDOTweenPathç»„ä»¶çš„ä¸€ä¸ªåŸºæœ¬ä»‹ç»ã€‚ æŽ¥ä¸‹æ¥ï¼ŒDOTweenå¯¹äºŽè½¨è¿¹ç§»åŠ¨æä¾›çš„æŽ¥å£ï¼šï¼ˆ1ï¼‰DOPathï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170426162319897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)ï¼ˆ2ï¼‰DOLocalPath![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170426162640305?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»¥ä¸Šä¸¤ä¸ªå‡½æ•°çš„å‚æ•°å†ä¸Šé¢å·²ç»ä»‹ç»è¿‡ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤è¯´æ˜Žäº†ã€‚ DOTweenæ’ä»¶ï¼Œå¤§å®¶è¯·è‡ªè¡Œä¸‹è½½ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>DOTween</category>
      </categories>
      <tags>
        <tag>DOTweenPath</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹MessageBox]]></title>
    <url>%2F2017%2F04%2F25%2Funity-zhi-messagebox%2F</url>
    <content type="text"><![CDATA[å…ˆä¸Šç¤ºæ„å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170425112628114?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯æ ‡å‡†çš„MessageBoxæ ·å¼ã€‚æˆ‘é‡‡ç”¨çš„æ˜¯UGUIï¼Œä¸­é—´æ˜¯æ–‡å­—å†…å®¹ï¼Œä¸‹é¢åŒ…æ‹¬ç¡®å®šå–æ¶ˆä¸¤ä¸ªæŒ‰é’®ï¼Œå³ä¸Šè§’ä¸€ä¸ªå…³é—­æŒ‰é’®ã€‚ é‚£ä¹ˆæ¨¡ä»¿MFCå‘¢ï¼Œæˆ‘å†™äº†ä¸€ä¸ªæžšä¸¾å¦‚ä¸‹ï¼š public enum MessageType { Confirm, //ç¡®å®š Cancel, //å–æ¶ˆ ConfirmCancel, //ç¡®å®šå–æ¶ˆ Yes, //æ˜¯ No, //å¦ YesNO, //æ˜¯å¦ }ä»Žä¸Šå¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯åœ¨å®šä¹‰æŒ‰é’®çš„æ ·å¼ï¼Œä¸¾ä¾‹ï¼šConfirmæŒ‡ä»…åŒ…æ‹¬ç¡®å®šæŒ‰é’®ã€‚ æŽ¥ä¸‹æ¥ï¼Œç›´æŽ¥ä¸ŠæŒ‚åœ¨è¯¥UIä¸Šçš„è„šæœ¬ä»£ç ï¼š using System; using UnityEngine; using UnityEngine.EventSystems; using UnityEngine.UI; public class MessageBoxDialog : MonoBehaviour { public GameObject CancelButton = null; //å–æ¶ˆæŒ‰é’® public GameObject ConfirmButton = null; //ç¡®å®šæŒ‰é’® public GameObject CloseButton = null; //å…³é—­æŒ‰é’® public Text MessageText = null; //æç¤ºæ–‡å­— public Text ConfirmText = null; //ç¡®å®šæ–‡å­— public Text CancelText = null; //å–æ¶ˆæ–‡å­— public Action OnCloseEvent = null; public Action OnConfirmEvent = null; // Use this for initialization void Start() { AddListener(); } // Update is called once per frame void Update() { } private void AddListener() { if (CancelButton != null) { EventTriggerListener.Get(CancelButton).onClick = OnCancelButtonClicked; } if (ConfirmButton != null) { EventTriggerListener.Get(ConfirmButton).onClick = OnConfirmButtonClicked; } } private void OnConfirmButtonClicked(GameObject go, BaseEventData eventData) { if (OnConfirmEvent != null) { OnConfirmEvent(); } else { OnCloseButtonClicked(null, null); } } private void OnCancelButtonClicked(GameObject go, BaseEventData eventData) { if (OnCloseEvent != null) { OnCloseEvent(); } else { OnCloseButtonClicked(null, null); } } private void OnCloseButtonClicked(GameObject go, BaseEventData eventData) { GameObject.DestroyImmediate(gameObject); } public void UpdateButton(MessageType type) { switch (type) { case MessageType.ConfirmCancel: break; case MessageType.Cancel: ConfirmButton.SetActive(false); break; case MessageType.Confirm: CancelButton.SetActive(false); break; case MessageType.No: ConfirmButton.SetActive(false); CancelText.text = &quot;å¦&quot;; break; case MessageType.Yes: CancelButton.SetActive(false); ConfirmText.text = &quot;æ˜¯&quot;; break; case MessageType.YesNO: ConfirmText.text = &quot;æ˜¯&quot;; CancelText.text = &quot;å¦&quot;; break; } } }æŽ¥ä¸‹æ¥æ˜¯è¯¥ç¯‡æ–‡ç« çš„é‡ç‚¹ä»£ç äº†ï¼Œ using System; using UnityEngine; public class MessageBox { private static GameObject _messageBoxPrefab = null; private static GameObject _messageBox = null; private static string _messageBoxPrefabPath = &quot;UI/MessageBox&quot;; public static void Show(string info, MessageType type = MessageType.ConfirmCancel, Action cancelCallback = null, Action confirmCallback = null) { if (_messageBoxPrefab == null) { _messageBoxPrefab = Resources.Load(_messageBoxPrefabPath) as GameObject; } _messageBox = GameObject.Instantiate(_messageBoxPrefab) as GameObject; MessageBoxDialog msgbox = _messageBox.GetComponent&lt;MessageBoxDialog&gt;(); msgbox.UpdateButton(type); msgbox.OnConfirmEvent += confirmCallback; msgbox.OnCloseEvent += cancelCallback; msgbox.MessageText.text = info; //ä»¥ä¸‹æ˜¯åœ¨è‡ªå·±çš„åœºæ™¯ç®¡ç†çš„åŸºç¡€ä¸Šå†™çš„ï¼Œæ—¢ç„¶è¿™é‡Œè¿˜æ²¡è®²åˆ°æˆ‘çš„åœºæ™¯ç®¡ç†ï¼Œå°±æš‚æ—¶ç”¨æ¯”è¾ƒlowçš„æ–¹æ³•äº† //GameObject uiRoot = ScenesManager.Instance.CurScene.UiRoot.gameObject; //_messageBox.transform.SetParent(uiRoot.transform, false); GameObject canvas = GameObject.Find(&quot;Canvas&quot;); if(canvas != null) { _messageBox.transform.SetParent(canvas.transform, false); } } }è¯¥æ®µä»£ç ä¸­ï¼Œå¤§å®¶åº”è¯¥æ³¨æ„åˆ°ä¸‰ç‚¹ï¼š1ã€MessageBoxçš„é¢„åˆ¶ä»¶è·¯å¾„ï¼Œä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼›2ã€åŠ è½½è¯¥é¢„åˆ¶ä»¶çš„æ–¹æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯Resources.Loadï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å°†æˆ‘çš„èµ„æºç®¡ç†ä»‹ç»å‡ºæ¥ï¼Œæ‰€ä»¥å°±ç”¨çš„è¿™ä¸ªï¼›3ã€å®žä¾‹åŒ–è¯¥UIï¼Œç»™è¯¥UIèµ‹çˆ¶ç‰©ä½“çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯æ¯”è¾ƒlowçš„æ–¹æ³•ï¼Œæ³¨é‡Šå·²ç»è§£é‡Šäº†ã€‚ æŽ¥ä¸‹æ¥ï¼Œå°±ç›´æŽ¥ä¸Šå·¥ç¨‹äº†ï¼Œå¤§å®¶ å¦‚æœ‰ç–‘é—®ï¼Œè¯·ç•™è¨€ã€‚é“¾æŽ¥ï¼š http://pan.baidu.com/s/1kVibxQJ å¯†ç ï¼š45ql ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>MessageBox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lua]]></title>
    <url>%2F2017%2F04%2F25%2Flua%2F</url>
    <content type="text"><![CDATA[ä¸¤ä¸ªè¿žå­—ç¬¦ï¼ˆâ€“ï¼‰åœ¨Luaä¸­è¡¨ç¤ºå¼€å§‹ä¸€æ¡æ³¨é‡Š Luaå®šä¹‰ä¸€ä¸ªè®¡ç®—é˜¶ä¹˜çš„å‡½æ•°ï¼šâ€“å®šä¹‰ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°function fact(n)if n == 0 thenreturn 1elsereturn n * fact(n-1)endend â€“æ‰“å°print(â€œHello Worldâ€) â€“è¯»å–ä¸€ä¸ªæ•°å­—a = io.read(â€œ*numberâ€) Luaæ‰§è¡Œçš„ æ¯æ®µä»£ç ï¼Œä¾‹å¦‚ä¸€ä¸ªæºä»£ç æ–‡ä»¶æˆ–åœ¨äº¤äº’æ¨¡å¼ä¸­è¾“å…¥çš„ä¸€è¡Œä»£ç ï¼Œéƒ½ç§°ä¸ºä¸€ä¸ªâ€œç¨‹åºå—â€ï¼Œä¸€ä¸ªç¨‹åºå—ä¹Ÿå°±æ˜¯ä¸€è¿žä¸²çš„è¯­å¥æˆ–å‘½ä»¤ã€‚ å‡ æ¡è¿žç»­çš„Luaè¯­å¥ä¹‹é—´å¹¶ä¸éœ€è¦åˆ†éš”ç¬¦ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†å·æ¥åˆ†å‰²è¯­å¥ã€‚ä»£ç ä¸­çš„æ¢è¡Œä¸èµ·ä»»ä½•ä½œç”¨a = 1 b=a*2 â€“æœ‰ç‚¹éš¾çœ‹ï¼Œä½†æ˜¯åˆæ³• ç¨‹åºå—å¯ä»¥æ˜¯ä»»æ„å¤§å° è¯­æ³•è§„èŒƒLuaçš„æ ‡è¯†ç¬¦å¯ä»¥æ˜¯ä»»æ„å­—æ¯ã€æ•°å­—å’Œä¸‹ç”»çº¿æž„æˆçš„å­—ç¬¦ä¸²ï¼Œä½†ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ Luaçš„ä¿ç•™å­—ï¼šand break do else elseifend false for function ifin local nil not orrepeat return then true unitlwhile Lua æ˜¯æœ‰å¤§å°å†™ä¹‹åˆ†çš„ Luaæ³¨é‡Šï¼šå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä»¥ä¸¤ä¸ªè¿žå­—ç¬¦ï¼ˆâ€“ï¼‰å¼€å§‹ä¸€ä¸ªâ€œè¡Œæ³¨é‡Šâ€ï¼Œè¯¥æ³¨é‡Šä¸€ç›´å»¶ä¼¸åˆ°ä¸€è¡Œçš„ç»“å°¾ã€‚Luaä¹Ÿæä¾›äº†â€œå—æ³¨é‡Šâ€ï¼Œä»¥â€œâ€“[[â€å¼€å§‹ï¼Œç›´è‡³â€œâ€“]]â€ï¼Œå¦‚æžœå—æ³¨é‡ŠåŒ…å«çš„â€œâ€“]]â€å¹¶éžæ˜¯æ³¨é‡Šç»“å°¾ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ --[[ function fact(n) if n == 0 then return 1 else return n * fact(n - 1) end end --]] print(&quot;enter a number:&quot;) --æ‰“å° a = io.read(&quot;*number&quot;) --è¯»å–ä¸€ä¸ªæ•°å­— print(fact(a)) --]]å¦‚æžœä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªâ€œâ€“]]â€å¹¶éžæ˜¯æƒ³è¦çš„å—æ³¨é‡Šç»“å°¾ï¼Œé‚£ä¹ˆå°±æ”¹ä¸ºä»¥ä¸‹ä¾ç„¶åˆæ³• --[=[ function fact(n) if n == 0 then return 1 else return n * fact(n - 1) end end --]] print(&quot;enter a number:&quot;) --æ‰“å° a = io.read(&quot;*number&quot;) --è¯»å–ä¸€ä¸ªæ•°å­— print(fact(a)) --]=]Luaå…¨å±€å˜é‡ï¼šå…¨å±€å˜é‡ä¸éœ€è¦å£°æ˜Žã€‚åªéœ€è¦å°†ä¸€ä¸ªå€¼èµ‹äºˆä¸€ä¸ªå…¨å±€å˜é‡å°±å¯ä»¥åˆ›å»ºäº†ã€‚åœ¨Luaä¸­ï¼Œè®¿é—®ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡ä¸ä¼šå¼•å‘é”™è¯¯ï¼Œè®¿é—®ç»“æžœæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼nilã€‚ print(a) --nil a=10 print(a) --10åˆ é™¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåªéœ€è¦å°†å…¶èµ‹å€¼ä¸ºnil Luaç±»åž‹ä¸Žå€¼ï¼šLuaæ˜¯ä¸€ç§åŠ¨æ€ç±»åž‹çš„è¯­è¨€ã€‚åœ¨è¯­è¨€ä¸­æ²¡æœ‰ç±»åž‹å®šä¹‰çš„è¯­æ³•ï¼Œæ¯ä¸ªå€¼éƒ½â€œæºå¸¦â€äº†å®ƒæœ¬èº«çš„ç±»åž‹ä¿¡æ¯ã€‚åœ¨Luaä¸­æœ‰8ç§åŸºç¡€ç±»åž‹ï¼šnilï¼ˆç©ºï¼‰ï¼Œbooleanï¼ˆå¸ƒå°”ï¼‰ï¼Œnumberï¼ˆæ•°å­—ï¼‰ï¼Œstringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œuserdataï¼ˆè‡ªå®šä¹‰ç±»åž‹ï¼‰ï¼Œfunctionï¼ˆå‡½æ•°ï¼‰ï¼Œthreadï¼ˆçº¿ç¨‹ï¼‰ï¼Œtableï¼ˆè¡¨ï¼‰ã€‚å‡½æ•°typeå¯æ ¹æ®ä¸€ä¸ªå€¼è¿”å›žå…¶ç±»åž‹åç§°ã€‚ print(type(&quot;Hello world&quot;)) --string print(type(10.4 * 3)) --number print(type(print)) --function print(type(type)) --function print(type(true)) --boolean print(type(nil)) --nil print(type(type(X))) --stringæœ€åŽä¸€è¡Œå°†æ°¸è¿œè¿”å›žâ€œstringâ€ï¼Œè€Œæ— å…³ä¹ŽXè¿™ä¸ªå€¼çš„å†…å®¹ï¼Œè¿™æ˜¯å› ä¸ºtypeå‡½æ•°æ€»æ˜¯è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ å˜é‡æ²¡æœ‰é¢„å®šä¹‰çš„ç±»åž‹ï¼Œä»»ä½•å˜é‡éƒ½å¯ä»¥åŒ…å«ä»»ä½•ç±»åž‹çš„å€¼ï¼š print(type(a)) --nil a = 10 print(type(a)) --number a = &quot;a string&quot; print(type(a)) --string a = print a(type(a)) --functionå°†ä¸€ä¸ªå˜é‡ç”¨äºŽä¸åŒç±»åž‹ï¼Œé€šå¸¸ä¼šå¯¼è‡´ä»£ç æ··ä¹±ï¼Œä½†æœ‰æ—¶æ˜Žæ™ºåœ°ä½¿ç”¨è¿™ç§ç‰¹æ€§ä¼šå¸¦æ¥ä¾¿åˆ©ã€‚ nilï¼ˆç©ºï¼‰nilæ˜¯ä¸€ç§ç±»åž‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼nilï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç”¨äºŽåŒºåˆ«å…¶ä»–ä»»ä½•å€¼ã€‚ä¸€ä¸ªå…¨å±€å˜é‡åœ¨ç¬¬ä¸€æ¬¡èµ‹å€¼å‰çš„é»˜è®¤å€¼å°±æ˜¯nilï¼Œå°†nilèµ‹äºˆä¸€ä¸ªå…¨å±€å˜é‡ç­‰åŒäºŽåˆ é™¤å®ƒã€‚Luaå°†nilç”¨äºŽè¡¨ç¤ºä¸€ç§æ— æ•ˆå€¼çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ä»»ä½•æœ‰æ•ˆå€¼çš„æƒ…å†µã€‚ booleanï¼ˆå¸ƒå°”ï¼‰booleanç±»åž‹æœ‰ä¸¤ä¸ªå¯é€‰å€¼ï¼šfalseå’Œtrueï¼Œåœ¨Luaä¸­ä»»ä½•å€¼éƒ½å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ¡ä»¶ã€‚Luaå°†falseå’Œnilè§†ä¸ºå‡ï¼Œå…¶ä»–å€¼å…¨ä¸ºçœŸï¼ŒLuaåœ¨æ¡ä»¶æµ‹è¯•ä¸­ï¼Œå°†æ•°å­—é›¶å’Œç©ºå­—ç¬¦ä¸²ä¹Ÿéƒ½è§†ä¸ºçœŸ numberï¼ˆæ•°å­—ï¼‰numberç±»åž‹ç”¨äºŽè¡¨ç¤ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œæ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼š0.3e12 stringï¼ˆå­—ç¬¦ä¸²ï¼‰Luaä¸­çš„å­—ç¬¦ä¸²é€šå¸¸è¡¨ç¤ºâ€œä¸€ä¸ªå­—ç¬¦åºåˆ—â€ã€‚å¯ä»¥å°†ä»»æ„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚Luaçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„å€¼ï¼Œä¸èƒ½ç›´æŽ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸ªå­—ç¬¦ï¼Œè€Œæ˜¯æ ¹æ®ä¿®æ”¹è¦æ±‚æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚ a=&quot;Hello world&quot; b=string.gsub(a,&quot;world&quot;,&quot;lua&quot;) --ä¿®æ”¹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ† c=string.gsub(a,&quot;o&quot;,&quot;c&quot;) print(a) --Hello world print(b) --Hello lua print(c) --Hellc wcrldstringçš„gsubå‡½æ•°ä¿®æ”¹æ‰€æœ‰åŒ¹é…åˆ°çš„å­ä¸²ã€‚Luaçš„å­—ç¬¦ä¸²å’Œå…¶ä»–Luaå¯¹è±¡ä¸€æ ·ï¼Œéƒ½æ˜¯è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶æ‰€ç®¡ç†çš„å¯¹è±¡ã€‚ä»¥ä¸€å¯¹åŒ¹é…çš„å•å¼•å·æˆ–è€…åŒå¼•å·æ¥ç•Œå®šå­—ç¬¦ä¸²ï¼Œæ ¹æ®ç¼–ç¨‹é£Žæ ¼ï¼Œåº”è¯¥åšæŒåœ¨ç¨‹åºä¸­ä½¿ç”¨ç›¸åŒç±»åž‹çš„å¼•å·ï¼Œå¦‚æžœå­—ç¬¦ä¸²æœ¬èº«åŒ…å«å¼•å·ï¼Œé‚£ä¹ˆä½¿ç”¨è½¬ä¹‰åºåˆ— ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170313192419753?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)Luaå­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰åºåˆ— è¿˜å¯ä»¥é€šè¿‡æ•°å€¼æ¥æŒ‡å®šå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œæ•°å€¼ä»¥è½¬ä¹‰åºåˆ—â€œ\â€ç»™å‡ºï¼Œå…¶ä¸­æ˜¯ä¸€ä¸ªè‡³å¤š3ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆçš„åºåˆ—ã€‚ä¾‹å¦‚ï¼šâ€œalo\n123\â€â€ä¸Žå­—ç¬¦ä¸²â€\97lo\10\04923â€æ˜¯ç›¸åŒçš„ï¼Œåœ¨ASCIIä¸­ï¼Œâ€™aâ€™çš„ASCIIç¼–ç æ˜¯97ï¼Œæ¢è¡Œæ˜¯10ï¼Œâ€™1â€™çš„ç¼–ç æ˜¯49.è¿™é‡Œå¿…é¡»å°†49å†™æˆä¸‰ä¸ªæ•°å­—049ï¼Œä¸ç„¶Luaä¼šè¯»å–åˆ°æ•°å€¼492. å¦å¤–ï¼Œå¯ä»¥ç”¨ä¸€å¯¹åŒ¹é…çš„åŒæ–¹æ‹¬å·æ¥ç•Œå®šä¸€ä¸ªå­—æ¯å­—ç¬¦ä¸²ï¼Œå°±åƒå†™â€œå—æ³¨é‡Šâ€é‚£æ ·ï¼Œä¸è¿‡Luaä¸ä¼šè§£é‡Šå…¶ä¸­çš„è½¬ä¹‰åºåˆ—ï¼Œå¹¶ä¸”ä¼šå¿½ç•¥ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¢è¡Œå­—ç¬¦çš„éƒ¨åˆ†ï¼Œè¿™ç§å†™æ³•å¯¹äºŽä¹¦å†™é‚£ç§å«æœ‰ç¨‹åºä»£ç çš„å­—ç¬¦ä¸²å°¤ä¸ºæœ‰ç”¨ã€‚ page=[[ &lt;html&gt; &lt;head&gt; &lt;title&gt;an html page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;a href=&quot;http://www.lua.org&quot;&gt;lua&lt;/a&gt; &lt;/body&gt; &lt;/html&gt;]] print(page) print(type(page)) --stringLuaæä¾›äº†è¿è¡Œæ—¶çš„æ•°å­—ä¸Žå­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢ã€‚åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸Šåº”ç”¨ç®—æœ¯æ“ä½œæ—¶ï¼ŒLuaä¼šå°è¯•å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•°å­—: print(&quot;10&quot; + 1) --11 print(&quot;10+1&quot;) --10+1 print(&quot;hello&quot; + 1) --æŠ¥é”™ï¼Œä¸èƒ½å°†stringå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•°å­—åœ¨LuaæœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²ä½†å´å¾—åˆ°ä¸€ä¸ªæ•°å­—æ—¶ï¼Œå®ƒä¹Ÿä¼šå°†æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²ï¼š a=10 .. 20 print(10 .. 20) --1020 print(a) --1020 print(type(a)) --stringåœ¨Luaä¸­ï¼Œâ€œ..â€æ˜¯å­—ç¬¦ä¸²è¿žæŽ¥æ“ä½œç¬¦ï¼Œè®°å¾—è¯¥æ“ä½œç¬¦ä¸Žæ•°å­—ä¹‹é—´å¿…é¡»è¦ç”¨ç©ºæ ¼æ¥åˆ†éš”ï¼Œä¸ç„¶Luaä¼šå°†ç¬¬ä¸€ä¸ªç‚¹ç†è§£ä¸ºä¸€ä¸ªå°æ•°ç‚¹ã€‚]]></content>
      <categories>
        <category>Lua</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹äº‹ä»¶æœºåˆ¶]]></title>
    <url>%2F2016%2F12%2F29%2Funity-zhi-shi-jian-ji-zhi%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶æœºåˆ¶ä¸»è¦ç”¨äºŽæ¨¡å—ä¹‹é—´è§£è€¦å’Œï¼Œäº‹ä»¶æœºåˆ¶å°†å„ä¸ªæ¨¡å—è”ç³»åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„è€¦åˆæ€§éžå¸¸ä½Žï¼Œç‰¹åˆ«é€‚ç”¨äºŽæ¸¸æˆäº§å“çš„æ¨¡å—åŒ–å¼€å‘ã€‚äº‹ä»¶çš„ç±»åž‹å¯ä»¥é€šè¿‡æžšä¸¾çš„å½¢å¼æ¥è¡¨ç¤ºã€‚äº‹ä»¶æœºåˆ¶çš„å®žçŽ°åŽŸç†æ˜¯å°†è¡¨ç¤ºä¸åŒäº‹ä»¶çš„æžšä¸¾ä¸Žå…¶å¯¹åº”çš„å›žè°ƒå‡½æ•°é€šè¿‡AddListenerå‡½æ•°åŠ åˆ°å®šä¹‰å¥½çš„è¡¨ä¸­ï¼Œè§¦å‘å›žè°ƒå‡½æ•°é€šè¿‡notifyå‡½æ•°å¯¹å·²å®šä¹‰çš„äº‹ä»¶æžšä¸¾è¿›è¡Œåˆ†ç±»åˆ†å‘ï¼Œä»Žå‘è§¦å‘å·²åŠ è½½åˆ°å†…å­˜çš„äº‹ä»¶å›žè°ƒå‡½æ•°ã€‚ç­‰å¼€å‘è€…ä¸éœ€è¦ç›‘å¬äº‹ä»¶å¯é€šè¿‡RemoveListenerå‡½æ•°ç§»é™¤ç›‘å¬å³å¯ã€‚ ä¸‹é¢ç»™å‡ºä¸€ä¸ªDemoçš„UnityPackageçš„é“¾æŽ¥ï¼šé“¾æŽ¥ï¼š http://pan.baidu.com/s/1c1LOD4O å¯†ç ï¼šy4fv é“¾æŽ¥å¦‚æœ‰å¤±æ•ˆï¼Œè”ç³»åšä¸»åŠæ—¶æ›´æ–°ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>äº‹ä»¶æœºåˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹ç§äººè®¢åˆ¶Debug]]></title>
    <url>%2F2016%2F12%2F14%2Funity-zhi-si-ren-ding-zhi-debug%2F</url>
    <content type="text"><![CDATA[å…¶å®žåŽŸç†å¾ˆç®€å•ï¼Œè¿™é‡Œç”¨åˆ°çš„æ˜¯å¯Œæ–‡æœ¬çš„çŸ¥è¯†ï¼Œä¹Ÿè®¸å¤§å®¶ä¼šè§‰å¾—è¿™ç§lowå®šåˆ¶åè€Œæ˜¾å¾—éº»çƒ¦äº†ï¼Œé‚£å°±ç›´æŽ¥è·³è¿‡ã€‚ã€‚ã€‚ ç›´æŽ¥ä¸Šä»£ç ï¼š using UnityEngine; using System.Collections; using System; using System.Text; namespace Scripts.CoreScripts.Core.Helper { public class Debugger { /// &lt;summary&gt; /// æ˜¯å¦å¼€å¯Debugger /// &lt;/summary&gt; static public bool Enable = true; /// &lt;summary&gt; /// é»˜è®¤é”™è¯¯é¢œè‰²ï¼šçº¢è‰² /// &lt;/summary&gt; static public string ErrorColor = &quot;red&quot;; /// &lt;summary&gt; /// é»˜è®¤è­¦å‘Šé¢œè‰²ï¼šé»„è‰² /// &lt;/summary&gt; static public string WarningColor = &quot;yellow&quot;; /// &lt;summary&gt; /// é»˜è®¤è¾“å‡ºé¢œè‰²ï¼šç™½è‰² /// &lt;/summary&gt; static public string LogColor = &quot;white&quot;; /// &lt;summary&gt; /// é»˜è®¤å­—å·ï¼š20 /// &lt;/summary&gt; static public int FontSize = 20; /// &lt;summary&gt; /// é»˜è®¤é¢œè‰²ï¼Œé»˜è®¤å­—å·è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; static public void Log(object message) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;); } } /// &lt;summary&gt; /// é»˜è®¤é¢œè‰²ï¼Œé»˜è®¤å­—å·è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;context&quot;&gt;è¿žæŽ¥ä¸Šä¸‹æ–‡&lt;/param&gt; static public void Log(object message, UnityEngine.Object context) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰é¢œè‰²è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt; static public void Log(object message, Color32 color) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰é¢œè‰²ã€é»˜è®¤å­—å·è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt; /// &lt;param name=&quot;context&quot;&gt;è¿žæŽ¥ä¸Šä¸‹æ–‡&lt;/param&gt; static public void Log(object message, Color32 color, UnityEngine.Object context) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰å­—å·è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·å¤§å°ï¼Œæ±‰å­—ä¸Šé™26ï¼Œå¤§å†™è‹±æ–‡ä¸Šé™30ï¼Œå°å†™è‹±æ–‡ä¸Šé™25ï¼Œä»…ä¾›å‚è€ƒ&lt;/param&gt; static public void Log(object message, int fontSize) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰å­—å·è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·&lt;/param&gt; /// &lt;param name=&quot;context&quot;&gt;è¿žæŽ¥ä¸Šä¸‹æ–‡&lt;/param&gt; static public void Log(object message, int fontSize, UnityEngine.Object context) { if (Enable) { Debug.Log(&quot;&lt;size=&quot; + fontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot;, context); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰å­—å·ã€é¢œè‰²è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt; /// &lt;param name=&quot;fontsize&quot;&gt;å­—å·&lt;/param&gt; static public void Log(object message, Color32 color, int fontsize) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + fontsize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;); } } /// &lt;summary&gt; /// è‡ªå®šä¹‰å­—å·ã€é¢œè‰²è¾“å‡º /// &lt;/summary&gt; /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt; /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt; /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·&lt;/param&gt; /// &lt;param name=&quot;context&quot;&gt;è¿žæŽ¥ä¸Šä¸‹æ–‡&lt;/param&gt; static public void Log(object message, Color32 color, int fontSize, UnityEngine.Object context) { if (Enable) { Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + fontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context); } } static public void LogWarning(object message) { if (Enable) { Debug.LogWarning(&quot;&lt;color=&quot; + WarningColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;); } } static public void LogWarning(object message, UnityEngine.Object context) { if (Enable) { Debug.LogWarning(&quot;&lt;color=&quot; + WarningColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;, context); } } static public void LogError(object message) { if (Enable) { Debug.LogError(&quot;&lt;color=&quot; + ErrorColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;); } } static public void LogError(object message, UnityEngine.Object context) { if (Enable) { Debug.LogError(&quot;&lt;color=&quot; + ErrorColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;, context); } } /// &lt;summary&gt; /// å°†Color32è½¬æ¢ä¸º#FFFFFFFFæ ¼å¼ /// &lt;/summary&gt; /// &lt;param name=&quot;color&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; static private string FormatColor32(Color32 color) { StringBuilder sb = new StringBuilder(); sb.Append(&quot;#&quot;); sb.Append(color.r.ToString(&quot;x2&quot;)); sb.Append(color.g.ToString(&quot;x2&quot;)); sb.Append(color.b.ToString(&quot;x2&quot;)); sb.Append(color.a.ToString(&quot;x2&quot;)); return sb.ToString(); } } }ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>è®¢åˆ¶Debug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹Vector3Dï¼šé‡çŽ°Vector3]]></title>
    <url>%2F2016%2F12%2F13%2Funity-zhi-vector3d-chong-xian-vector3%2F</url>
    <content type="text"><![CDATA[ç›´æŽ¥ä¸Šä»£ç  using System; using System.Text; using UnityEngine; public class Vector3D { public static Vector3D back { get { return new Vector3D(0, 0, -1); } } public static Vector3D down { get { return new Vector3D(0, -1, 0); } } public static Vector3D forward { get { return new Vector3D(0, 0, 1); } } public static Vector3D left { get { return new Vector3D(-1, 0, 0); } } public static Vector3D right { get { return new Vector3D(1, 0, 0); } } public static Vector3D up { get { return new Vector3D(0, 1, 0); } } public static Vector3D one { get { return new Vector3D(1, 1, 1); } } public static Vector3D zero { get { return new Vector3D(0, 0, 0); } } /// &lt;summary&gt; /// å‘é‡çš„é•¿åº¦ /// &lt;/summary&gt; public float magnitude { get { return (float)Math.Sqrt(sqrMagnitudfe); } } /// &lt;summary&gt; /// å‘é‡çš„çš„é•¿åº¦çš„å¹³æ–¹ /// &lt;/summary&gt; public float sqrMagnitudfe { get { return x * x + y * y + z * z; } } /// &lt;summary&gt; /// è§„èŒƒåŒ– /// &lt;/summary&gt; public Vector3D normalized { get { if (IsZero) { return Vector3D.zero; } else { Vector3D v = new Vector3D(); float length = magnitude; v.x = this.x / length; v.y = this.y / length; v.z = this.z / length; return v; } } } /// &lt;summary&gt; /// æ˜¯å¦æ˜¯é›¶å‘é‡ /// &lt;/summary&gt; public bool IsZero { get { return this.x == 0 &amp;&amp; this.y == 0 &amp;&amp; this.z == 0; } } #region æ“ä½œç¬¦é‡è½½ /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡ç›¸åŠ  /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt; /// &lt;returns&gt;ä¸¤ä¸ªå‘é‡çš„å’Œ&lt;/returns&gt; public static Vector3D operator +(Vector3D a,Vector3D b) { return new Vector3D(a.x + b.x, a.y + b.y, a.z + b.z); } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡ç›¸å‡ /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt; /// &lt;returns&gt;ä¸¤ä¸ªå‘é‡çš„å·®&lt;/returns&gt; public static Vector3D operator -(Vector3D a,Vector3D b) { return new Vector3D(a.x - b.x, a.y - b.y, a.z - b.z); } /// &lt;summary&gt; /// å‘é‡å–å /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt; /// &lt;returns&gt;å‘é‡açš„åå‘é‡&lt;/returns&gt; public static Vector3D operator -(Vector3D a) { return new Vector3D(-a.x, -a.y, -a.z); } /// &lt;summary&gt; /// ä¸€ä¸ªæ•°ä¹˜ä»¥ä¸€ä¸ªå‘é‡ /// &lt;/summary&gt; /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt; /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt; /// &lt;returns&gt;è¿”å›žæ•°ä¸Žå‘é‡çš„ä¹˜ç§¯&lt;/returns&gt; public static Vector3D operator *(float d, Vector3D a) { return new Vector3D(a.x * d, a.y * d, a.z * d); } /// &lt;summary&gt; /// ä¸€ä¸ªå‘é‡ä¹˜ä»¥ä¸€ä¸ªæ•° /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt; /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt; /// &lt;returns&gt;è¿”å›žå‘é‡ä¸Žæ•°çš„ä¹˜ç§¯&lt;/returns&gt; public static Vector3D operator *(Vector3D a, float d) { return new Vector3D(a.x * d, a.y * d, a.z * d); } /// &lt;summary&gt; /// ä¸€ä¸ªæ•°é™¤ä¸€ä¸ªå‘é‡ï¼Œå‘é‡a/æ•°b /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt; /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt; /// &lt;returns&gt;è¿”å›žå‘é‡a/d&lt;/returns&gt; public static Vector3D operator /(Vector3D a,float d) { return new Vector3D(a.x / d, a.y / d, a.z / d); } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡æ˜¯å¦ç›¸ç­‰ /// &lt;/summary&gt; /// &lt;param name=&quot;lhs&quot;&gt;å‘é‡lhs&lt;/param&gt; /// &lt;param name=&quot;rhs&quot;&gt;å‘é‡rhs&lt;/param&gt; /// &lt;returns&gt;å¦‚æžœç›¸ç­‰ï¼Œåˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse&lt;/returns&gt; public static bool operator ==(Vector3D lhs, Vector3D rhs) { bool x = Math.Abs(lhs.x - rhs.x) &lt; 0.00001f; bool y = Math.Abs(lhs.y - rhs.y) &lt; 0.00001f; bool z = Math.Abs(lhs.z - rhs.z) &lt; 0.00001f; return x &amp;&amp; y &amp;&amp; z; } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡æ˜¯å¦ä¸ç­‰ /// &lt;/summary&gt; /// &lt;param name=&quot;lhs&quot;&gt;å‘é‡lhs&lt;/param&gt; /// &lt;param name=&quot;rhs&quot;&gt;å‘é‡rhs&lt;/param&gt; /// &lt;returns&gt;å¦‚æžœä¸ç­‰ï¼Œåˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse&lt;/returns&gt; public static bool operator !=(Vector3D lhs, Vector3D rhs) { return !(lhs == rhs); } #endregion public float x; public float y; public float z; private float[] data = new float[3]; #region æž„é€ å™¨ public Vector3D() { this.x = 0.0f; this.y = 0.0f; this.z = 0.0f; data[0] = 0.0f; data[1] = 0.0f; data[2] = 0.0f; } public Vector3D(float x, float y) { this.x = x; this.y = y; this.z = 1.0f; data[0] = 0.0f; data[1] = 0.0f; data[2] = 1.0f; } public Vector3D(float x, float y, float z) { this.x = x; this.y = y; this.z = z; data[0] = x; data[1] = y; data[2] = z; } #endregion public float this[int index] { get { switch (index) { case 0: return this.x; case 1: return this.y; case 2: return this.z; default: throw new Exception(&quot;index is out of array&quot;); } } set { data[index] = value; switch (index) { case 0: this.x = value; break; case 1: this.y = value; break; case 2: this.z = value; break; default: break; } } } public override string ToString() { StringBuilder sb = new StringBuilder(); sb.Append(&quot;(&quot;); sb.Append(this.x); sb.Append(&quot;,&quot;); sb.Append(this.y); sb.Append(&quot;,&quot;); sb.Append(this.z); sb.Append(&quot;)&quot;); return sb.ToString(); } public void Set(float new_x, float new_y, float new_z) { this.x = new_x; this.y = new_y; this.z = new_z; data[0] = new_x; data[1] = new_y; data[2] = new_z; } /// &lt;summary&gt; /// è§„èŒƒåŒ–ï¼Œä½¿å‘é‡é•¿åº¦ä¸º1 /// &lt;/summary&gt; public void Normalize() { if (!IsZero) { this.x /= magnitude; this.y /= magnitude; this.z /= magnitude; } } #region é™æ€å‡½æ•° /// &lt;summary&gt; /// è·ç¦» /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;è¿”å›žaå’Œbä¹‹é—´çš„è·ç¦»&lt;/returns&gt; public static float Distance(Vector3D a, Vector3D b) { return (float)Math.Sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y) + (a.z - b.z) * (a.z - b.z)); } /// &lt;summary&gt; /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç‚¹ä¹˜ç§¯ /// &lt;/summary&gt; /// &lt;param name=&quot;lhs&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;rhs&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static float Dot(Vector3D lhs, Vector3D rhs) { return lhs.x * rhs.x + lhs.y * rhs.y + lhs.z * rhs.z; } /// &lt;summary&gt; /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å‰ä¹˜ /// &lt;/summary&gt; /// &lt;param name=&quot;v1&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;v2&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Cross(Vector3D v1, Vector3D v2) { float x = v1.y * v2.z - v2.y * v1.z; float y = v1.z * v2.x - v2.z * v1.x; float z = v1.x * v2.y - v2.x * v1.y; return new Vector3D(x, y, z); } /// &lt;summary&gt; /// é™åˆ¶é•¿åº¦ /// &lt;/summary&gt; /// &lt;param name=&quot;v&quot;&gt;å‘é‡v&lt;/param&gt; /// &lt;param name=&quot;maxLength&quot;&gt;æœ€é•¿é•¿åº¦&lt;/param&gt; /// &lt;returns&gt;è¿”å›žé™åˆ¶é•¿åº¦åŽçš„å‘é‡&lt;/returns&gt; public static Vector3D ClampMagnitude(Vector3D v,float maxLength) { if (maxLength &gt;= v.magnitude) { return v; } return (maxLength / v.magnitude) * v; } /// &lt;summary&gt; /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ /// &lt;/summary&gt; /// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static float Angle(Vector3D from,Vector3D to) { float dot = Dot(from, to); return (float)(180 * Math.Acos(dot / (from.magnitude * to.magnitude)) / Math.PI); } /// &lt;summary&gt; /// æŠ•å°„ä¸€ä¸ªå‘é‡åˆ°å¦ä¸€ä¸ªå‘é‡ /// &lt;/summary&gt; /// &lt;param name=&quot;vector&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;onNormal&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;è¿”å›žè¢«æŠ•å°„åˆ°onNormalçš„vector&lt;/returns&gt; public static Vector3D Project(Vector3D vector, Vector3D onNormal) { if (vector.IsZero || onNormal == Vector3D.zero) { return Vector3D.zero; } return Dot(vector, onNormal) / (onNormal.magnitude * onNormal.magnitude) * onNormal; } /// &lt;summary&gt; /// åå°„ /// &lt;/summary&gt; /// &lt;param name=&quot;inDirection&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;inNormal&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Reflect(Vector3D inDirection,Vector3D inNormal) { return Vector3D.zero; } /// &lt;summary&gt; /// ç¼©æ”¾ /// &lt;/summary&gt; /// &lt;param name=&quot;scale&quot;&gt;&lt;/param&gt; public void Scale(Vector3D scale) { this.x *= scale.x; this.y *= scale.y; this.z *= scale.z; } /// &lt;summary&gt; /// ç¼©æ”¾ /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Scale(Vector3D a,Vector3D b) { return new Vector3D(a.x * b.x, a.y * b.y, a.z * b.z); } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡æ˜¯å¦å¹³è¡Œ /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static bool Parallel(Vector3D a, Vector3D b) { return Cross(a,b).IsZero; } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„çº¿æ€§æ’å€¼ /// &lt;/summary&gt; /// &lt;param name=&quot;from&quot;&gt;å‘é‡from&lt;/param&gt; /// &lt;param name=&quot;to&quot;&gt;å‘é‡to&lt;/param&gt; /// &lt;param name=&quot;t&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Lerp(Vector3D from, Vector3D to, float t) { if (t &lt;= 0) { return from; } else if (t &gt;= 1) { return to; } return t * to + (1 - t) * from; } /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡çš„çƒå½¢æ’å€¼ /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt; /// &lt;param name=&quot;t&quot;&gt;tçš„å€¼åœ¨[0..1]&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Slerp(Vector3D a, Vector3D b, float t) { if (t &lt;= 0) { return a; } else if (t &gt;= 1) { return b; } Vector3D v = RotateTo(a, b, Vector3D.Angle(a, b) * t); //å‘é‡çš„é•¿åº¦ï¼Œè·Ÿçº¿æ€§æ’å€¼ä¸€æ ·è®¡ç®— float length = b.magnitude * t + a.magnitude * (1 - t); return v.normalized * length; } /// &lt;summary&gt; /// å°†å‘é‡fromå‘å‘é‡toæ—‹è½¬è§’åº¦angle /// &lt;/summary&gt; /// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;angle&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D RotateTo(Vector3D from, Vector3D to, float angle) { //å¦‚æžœä¸¤å‘é‡è§’åº¦ä¸º0 if (Vector3D.Angle(from, to) == 0) { return from; } //æ—‹è½¬è½´ Vector3D n = Vector3D.Cross(from, to); n.Normalize(); //æ—‹è½¬çŸ©é˜µ Matrix4x4 rotateMatrix = new Matrix4x4(); //æ—‹è½¬çš„å¼§åº¦ double radian = angle * Math.PI / 180; float cosAngle = (float)Math.Cos(radian); float sinAngle = (float)Math.Sin(radian); rotateMatrix.SetRow(0, new Vector4(n.x * n.x * (1 - cosAngle) + cosAngle, n.x * n.y * (1 - cosAngle) + n.z * sinAngle, n.x * n.z * (1 - cosAngle) - n.y * sinAngle, 0)); rotateMatrix.SetRow(1, new Vector4(n.x * n.y * (1 - cosAngle) - n.z * sinAngle, n.y * n.y * (1 - cosAngle) + cosAngle, n.y * n.z * (1 - cosAngle) + n.x * sinAngle, 0)); rotateMatrix.SetRow(2, new Vector4(n.x * n.z * (1 - cosAngle) + n.y * sinAngle, n.y * n.z * (1 - cosAngle) - n.x * sinAngle, n.z * n.z * (1 - cosAngle) + cosAngle, 0)); rotateMatrix.SetRow(3, new Vector4(0, 0, 0, 1)); Vector4 v = Vector3D.ToVector4(from); Vector3D vector = new Vector3D(); for (int i = 0; i &lt; 3; ++i) { for (int j = 0; j &lt; 3; j++) { vector[i] += v[j] * rotateMatrix[j, i]; } } return vector; } /// &lt;summary&gt; /// å°†ä¸€ä¸ªVector3Dè½¬æ¢ä¸ºVector4 /// &lt;/summary&gt; /// &lt;param name=&quot;v&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector4 ToVector4(Vector3D v) { return new Vector4(v.x, v.y, v.z, 0); } public Vector3 ToVector3() { return new Vector3(x, y, z); } #endregion }ä»¥ä¸Šä»£ç åªæ˜¯è‡ªå·±åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€ç‚¹æˆæžœï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼Œå½“ç„¶è·ŸVector3æ¯”èµ·æ¥è‚¯å®šå·®å¾ˆå¤šã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Vector3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹Vector3.Lerpçº¿æ€§æ’å€¼åŽŸç†ä»‹ç»]]></title>
    <url>%2F2016%2F12%2F13%2Funity-zhi-vector3.lerp-xian-xing-cha-zhi-yuan-li-jie-shao%2F</url>
    <content type="text"><![CDATA[å…ˆçœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161213114512329?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ç”»çš„æ¯”è¾ƒæ½¦è‰ï¼Œå¤§å®¶å°†å°±çœ‹ã€‚ã€‚ã€‚ å‘é‡from å’Œ å‘é‡toåœ¨xyå¹³é¢ä¸Šï¼Œå…¶å®žè¿™å¹¶ä¸å½±å“è®²è§£æ’å€¼åŽŸç†ã€‚ å›¾ä¸­å¯ä»¥çœ‹å‡ºå½“t=0.5fæ—¶ï¼Œæ’å€¼å‘é‡å°±æ˜¯ä¸­é—´é‚£ä¸ªå‘é‡ï¼Œå…¶xè½´åˆ†é‡çš„è®¡ç®—å›¾ä¸­å·²ç»ç»™å‡ºäº†ï¼Œyè½´ä¹ŸåŒç†ï¼Œzè½´ä¹Ÿä¸€æ ·ã€‚ã€‚ ä¸‹é¢çœ‹ä¸‹å‡½æ•°ï¼špublic static Vector3 Lerp(Vector3 a, Vector3 b, float t); å…¶ä¸­aå°±æ˜¯å›¾ä¸­çš„fromå‘é‡ï¼Œbå°±æ˜¯toå‘é‡ã€‚tæ˜¯å¤¹åœ¨ [0â€¦1]ä¹‹é—´ï¼Œå½“t = 0æ—¶ï¼Œè¿”å›žfromï¼Œå½“t = 1æ—¶ï¼Œè¿”å›žtoã€‚å½“t = 0.5 è¿”å›žfromå’Œtoçš„å¹³å‡æ•° æ‰€ä»¥å…·ä½“å®žçŽ°ä»£ç å¦‚ä¸‹ï¼š /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„çº¿æ€§æ’å€¼ /// &lt;/summary&gt; /// &lt;param name=&quot;from&quot;&gt;å‘é‡from&lt;/param&gt; /// &lt;param name=&quot;to&quot;&gt;å‘é‡to&lt;/param&gt; /// &lt;param name=&quot;t&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Lerp(Vector3D from, Vector3D to, float t) { if (t &lt;= 0) { return from; } else if (t &gt;= 1) { return to; } return t * to + (1 - t) * from; }çº¿æ€§æ’å€¼æ¯”Slerpçƒå½¢æ’å€¼ç®€å•çš„å¤šã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Unityä¹‹Vector3.Slerpçƒå½¢æ’å€¼åŽŸç†ä»‹ç»]]></title>
    <url>%2F2016%2F12%2F09%2Funity-zhi-vector3.slerp-qiu-xing-cha-zhi-yuan-li-jie-shao%2F</url>
    <content type="text"><![CDATA[å…ˆçœ‹APIï¼špublic static Vector3 Slerp(Vector3 a, Vector3 b, float t);ä»‹ç»ï¼šé€šè¿‡tæ•°å€¼åœ¨fromå’Œtoä¹‹é—´æ’å€¼ã€‚è¿”å›žçš„å‘é‡çš„é•¿åº¦å°†è¢«æ’å€¼åˆ°fromåˆ°toçš„é•¿åº¦ä¹‹é—´ã€‚å…ˆä¸Šä¸€ä¸ªç¤ºæ„å›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209112110583?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)ä¸Šå›¾çš„ä»£ç å¦‚ä¸‹ï¼š private Vector3 mStart = new Vector3(-1, 1, 0); private Vector3 mEnd = new Vector3(1, 1, 0); // Update is called once per frame private void Update() { //ç»˜åˆ¶åæ ‡è½´ Debug.DrawLine(new Vector3(-100, 0, 0), new Vector3(100, 0, 0), Color.green); Debug.DrawLine(new Vector3(0, -100, 0), new Vector3(0, 100, 0), Color.green); Debug.DrawLine(new Vector3(0, 0, -100), new Vector3(0, 0, 100), Color.green); Debug.DrawLine(Vector3.zero, mStart, Color.red); Debug.DrawLine(Vector3.zero, mEnd, Color.red); Debug.DrawLine(mStart, mEnd, Color.red); for (int i = 1; i &lt; 10; ++i) { Vector3 drawVec = Vector3.Slerp(mStart, mEnd, 0.1f * i); Debug.DrawLine(Vector3.zero, drawVec, Color.yellow); } }ä¸‹é¢å…ˆåšå‡ æ¬¡å®žéªŒæ¥éªŒè¯ä¸‹é¢ä¸¤ä¸ªçŒœæƒ³ï¼š1ã€çŒœæƒ³ä¸€ï¼šæ’å€¼çš„å‘é‡çš„é•¿åº¦æ˜¯å‡åŒ€çº¿æ€§å˜åŒ–çš„2ã€çŒœæƒ³äºŒï¼šæ’å€¼çš„å‘é‡ä¹‹é—´çš„è§’åº¦æ˜¯ä¸€æ ·å¤§çš„ ä¸Šå›¾éªŒè¯ï¼šå®žéªŒä¸€ï¼šæˆ‘ä»¬åœ¨ä¸Šé¢ä»£ç çš„åŸºç¡€ä¸ŠåŠ ä¸Šè¾“å‡ºï¼š //åŠ åœ¨forå¾ªçŽ¯é‡Œ Debug.Log(&quot;æ’å€¼å‘é‡é•¿åº¦ï¼š&quot;+ drawVec.magnitude); Debug.Log(&quot;è§’åº¦ï¼š&quot; + Vector3.Angle(drawVec, mStart) / i);![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209112850532?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æˆ‘ä»¬å‘çŽ°è™½ç„¶æœ‰è¯¯å·®ï¼Œä½†æ˜¯çŒœæƒ³åŸºæœ¬æˆç«‹ï¼Œæˆ‘ä»¬ä¿®æ”¹mStartå’ŒmEndä¸¤å‘é‡ç»§ç»­å®žéªŒã€‚ å®žéªŒäºŒï¼šmStart = (-1,0,0) mEnd = (0,3,4)![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209113159037?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»Žä¸Šé¢å¯ä»¥çœ‹å‡ºä¸¤ä¸ªçŒœæƒ³æˆç«‹ è¿™é‡Œé¢å¤–è¦éªŒè¯ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“ä¸¤ä¸ªå‘é‡ä¸ºå¹³è¡Œå‘é‡æ—¶ï¼Œç»“æžœå¦‚ä¸‹ï¼Œä¸‹é¢ç›´æŽ¥çœ‹å›¾ï¼šï¼ˆ1ï¼‰mStart = (-1, 0, 0) mEnd = (1, 0, 0)![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209114817399?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ï¼ˆ2ï¼‰mStart = (-1, 1, 0) mEnd = (1, -1, 0)![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209115239713?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ï¼ˆ3ï¼‰mStart = (-1, 1, 1) mEnd = (1, -1, -1)![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161209134923381?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) é‚£ä¹ˆçŽ°åœ¨å°±å¯ä»¥åˆ©ç”¨è¿™å‡ ä¸ªç»“è®ºæ¥è‡ªå®žçŽ°Slerpæ’å€¼äº†ã€‚ ä¸‹é¢ç›´æŽ¥ä¸Šä»£ç ï¼šä»£ç å…³é”®å†…å®¹å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰æ—‹è½¬å‘é‡å‡½æ•°ï¼ˆ2ï¼‰æ—‹è½¬çŸ©é˜µ /// &lt;summary&gt; /// ä¸¤ä¸ªå‘é‡çš„çƒå½¢æ’å€¼ /// &lt;/summary&gt; /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt; /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt; /// &lt;param name=&quot;t&quot;&gt;tçš„å€¼åœ¨[0..1]&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D Slerp(Vector3D a, Vector3D b, float t) { if (t &lt;= 0) { return a; } else if (t &gt;= 1) { return b; } Vector3D v = RotateTo(a, b, Vector3D.Angle(a, b) * t); //å‘é‡çš„é•¿åº¦ï¼Œè·Ÿçº¿æ€§æ’å€¼ä¸€æ ·è®¡ç®— float length = b.magnitude * t + a.magnitude * (1 - t); return v.normalized * length; } /// &lt;summary&gt; /// å°†å‘é‡fromå‘å‘é‡toæ—‹è½¬è§’åº¦angle /// &lt;/summary&gt; /// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;angle&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector3D RotateTo(Vector3D from, Vector3D to, float angle) { //å¦‚æžœä¸¤å‘é‡è§’åº¦ä¸º0 if (Vector3D.Angle(from, to) == 0) { return from; } //æ—‹è½¬è½´ Vector3D n = Vector3D.Cross(from, to); //æ—‹è½¬è½´è§„èŒƒåŒ– n.Normalize(); //æ—‹è½¬çŸ©é˜µ Matrix4x4 rotateMatrix = new Matrix4x4(); //æ—‹è½¬çš„å¼§åº¦ double radian = angle * Math.PI / 180; float cosAngle = (float)Math.Cos(radian); float sinAngle = (float)Math.Sin(radian); //çŸ©é˜µçš„æ•°æ® //è¿™é‡Œçœ‹ä¸æ‡‚çš„è‡ªè¡Œç§‘æ™®çŸ©é˜µçŸ¥è¯† rotateMatrix.SetRow(0, new Vector4(n.x * n.x * (1 - cosAngle) + cosAngle, n.x * n.y * (1 - cosAngle) + n.z * sinAngle, n.x * n.z * (1 - cosAngle) - n.y * sinAngle, 0)); rotateMatrix.SetRow(1, new Vector4(n.x * n.y * (1 - cosAngle) - n.z * sinAngle, n.y * n.y * (1 - cosAngle) + cosAngle, n.y * n.z * (1 - cosAngle) + n.x * sinAngle, 0)); rotateMatrix.SetRow(2, new Vector4(n.x * n.z * (1 - cosAngle) + n.y * sinAngle, n.y * n.z * (1 - cosAngle) - n.x * sinAngle, n.z * n.z * (1 - cosAngle) + cosAngle, 0)); rotateMatrix.SetRow(3, new Vector4(0, 0, 0, 1)); Vector4 v = Vector3D.ToVector4(from); Vector3D vector = new Vector3D(); for (int i = 0; i &lt; 3; ++i) { for (int j = 0; j &lt; 3; j++) { vector[i] += v[j] * rotateMatrix[j, i]; } } return vector; } /// &lt;summary&gt; /// å°†ä¸€ä¸ªVector3Dè½¬æ¢ä¸ºVector4 /// &lt;/summary&gt; /// &lt;param name=&quot;v&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static Vector4 ToVector4(Vector3D v) { return new Vector4(v.x, v.y, v.z, 0); } public Vector3 ToVector3() { return new Vector3(x, y, z); }è¿™é‡Œæš‚æ—¶æ²¡æœ‰å¯¹ä¸¤ä¸ªå‘é‡å…±çº¿åå‘çš„æƒ…å†µè¿›è¡Œè¯´æ˜Žï¼Œä¸è¿‡ä¸»è¦å®žçŽ°å·²ç»ç»™å‡ºæ¥äº†ã€‚ä½†æ˜¯ï¼Œæˆ‘å‘çŽ°ä¸€ç‚¹é—®é¢˜ï¼Œçœ‹å›¾ï¼šï¼ˆ1ï¼‰v1 = new Vector3(0, 2, 0);v2 = new Vector3(5, 0, 0);![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161211204127975?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) okï¼Œæ­£å¸¸ ï¼ˆ2ï¼‰v1 = new Vector3(3, 0, 0);v2 = new Vector3(0, 0, 5);![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161211204257397?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) okï¼Œæ­£å¸¸ ï¼ˆ3ï¼‰åœ¨RotateToå‡½æ•°ä¸­ï¼Œæ•°æ®ä¸ç²¾ç¡®å¯¼è‡´å­˜åœ¨è¯¯å·®ï¼Œä¹Ÿå°±æ˜¯æˆ‘æ‰“å°v1å’Œv2çš„å‰ä¹˜ ï¼ˆå›¾ä¸­é»„è‰²ï¼‰ ä¸Ž ï¼ˆå›¾ä¸­çº¢è‰²å‘é‡ï¼‰çš„å‰ä¹˜å­˜åœ¨è¯¯å·®ï¼Œè¿™æ ·å…¶å®žå°±æ˜¯è¯¥å‡½æ•°çš„æ—‹è½¬è½´ä¸å‡†ç¡®ã€‚ ä»¥ä¸ŠçŒœæƒ³ä»¥åŠä»£ç å®žçŽ° æ²¡æœ‰æ‰¾åˆ°æƒå¨è®¤è¯ï¼Œå¦‚æœ‰å¼‚è®®ï¼Œæ¬¢è¿ŽæŽ¢è®¨ã€‚ã€‚ã€‚ è¡¥å……ï¼šè‡ªå·±æ— èŠåˆ©ç”¨Slerpæ’å€¼ç”»äº†ä¸‹é¢è¿™ä¸ªå›¾ï¼Œçº¯å±žå¨±ä¹ã€‚ã€‚ã€‚![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20161212121854699?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Vector3.Slerp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Aspect Ratio Fitterç»„ä»¶ä»‹ç»]]></title>
    <url>%2F2016%2F12%2F08%2Fugui-zhi-aspect-ratio-fitter-zu-jian-jie-shao%2F</url>
    <content type="text"><![CDATA[ç»„ä»¶æˆªå›¾å¦‚ä¸‹ï¼š 1ã€Aspect Modeï¼šAspectModeæžšä¸¾ç±»åž‹ public enum AspectMode { //ä¸ä½¿ç”¨é€‚åˆçš„çºµæ¨ªæ¯” None, //è®©Heightéšç€Widthè‡ªåŠ¨è°ƒèŠ‚ WidthControlsHeight, //è®©Widthéšç€Heightè‡ªåŠ¨è°ƒèŠ‚ HeightControlsWidth, //å®½åº¦ã€é«˜åº¦ã€ä½ç½®å’Œé”šç‚¹éƒ½ä¼šè¢«è‡ªåŠ¨è°ƒæ•´ï¼Œä»¥ä½¿å¾—è¯¥çŸ©å½¢æ‹Ÿåˆçˆ¶ç‰©ä½“çš„çŸ©å½¢å†…ï¼ŒåŒæ—¶ä¿æŒå®½é«˜æ¯”ä¾‹ FitInParent, //å®½åº¦ã€é«˜åº¦ã€ä½ç½®å’Œé”šç‚¹éƒ½ä¼šè¢«è‡ªåŠ¨è°ƒæ•´ï¼Œä»¥ä½¿å¾—è¯¥çŸ©å½¢è¦†ç›–çˆ¶ç‰©ä½“çš„æ•´ä¸ªåŒºåŸŸï¼ŒåŒæ—¶ä¿æŒå®½é«˜æ¯” EnvelopeParent }2ã€Aspect Ratioï¼šå®½é«˜æ¯”ä¾‹ï¼Œwidth/height ä¸‹é¢æ ¹æ®å®žé™…æƒ…å†µæ¥ä»‹ç»ä¸€ä¸‹è¯¥ç»„ä»¶ã€‚åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œé‡åˆ°ä¸€ç§æƒ…å†µï¼ŒçŽ©å®¶èŽ·å¾—ä¸€äº›å¥–åŠ±ï¼Œåšæˆä¸€ä¸ªé€šç”¨çš„UIç•Œé¢ï¼Œè¯¥ç•Œé¢é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ä¸œè¥¿ï¼šæ ‡é¢˜ã€èŽ·å¾—æŒ‰é’®ã€ä¸­é—´æ˜¯ä¸€æŽ’ç‰©å“itemï¼Œæ˜¾ç„¶ä¸­é—´çš„ä¸€æŽ’ç‰©å“itemä¼šç”¨åˆ°æ°´å¹³å¸ƒå±€ï¼Œå¹¶ä¸”å±…ä¸­æ˜¾ç¤ºï¼Œæ¯ä¸€ä¸ªitemåˆåŒ…æ‹¬ä¸€ä¸ªiconå’Œä¸€ä¸ªtextï¼ˆæ˜¾ç¤ºcountï¼‰ï¼Œå¦‚æžœæ­¤æ—¶å­˜åœ¨æŸä¸€ä¸ªiconæ¯”å…¶ä»–çš„å¤§äº›ï¼Œå°±ä¼šæ˜¾å¾—å¾ˆçªå…€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±ç”¨åˆ°äº†è¯¥ç»„ä»¶ ç»™itemé¢„åˆ¶ä»¶ ä¸­çš„icon æ·»åŠ ä¸€ä¸ªçˆ¶ç‰©ä½“ï¼Œç„¶åŽç»™iconåŠ ä¸€ä¸ªAspect RatioFitterï¼ŒAspectModeé€‰ç”¨FitInParentï¼ŒAspect Ratioçš„å€¼éœ€è¦åœ¨ä»£ç ä¸­è®¡ç®—ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨åšè¿™ä¸ªUIçš„æ—¶å€™ï¼Œè‚¯å®šæ˜¯æ ¹æ®æ•°æ®æ¥åŠ¨æ€å®žä¾‹åŒ–è¿™äº›itemçš„ï¼Œæ¯ä¸€ä¸ªiconçš„å®½é«˜æ¯”ä¸ä¸€æ ·ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä»£ç ä¸­è®¡ç®—ï¼Œä»£ç å¦‚ä¸‹ï¼š Rect rect = GetComponent&lt;Image&gt;().sprite.rect; AspectRatioFitter fitter = GetComponent&lt;AspectRatioFitter&gt;(); fitter.aspectRatio = rect.width / rect.height;è¿™ç§åšæ³•å°±ä¼šä¿æŒiconçš„å¤§å°åŸºæœ¬ä¸€è‡´ï¼Œå½“ç„¶å¦‚æžœç¾Žæœ¯å›¢é˜Ÿå‡ºçš„ç‰©å“å›¾ç‰‡èµ„æºéƒ½ä¸€è‡´å¤§å°ï¼Œå’±ä»¬ä¹Ÿå°±çœåŽ»äº†è¿™ä¸€æ­¥ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹å¸ƒå±€å®žæˆ˜â€”â€”èŠå¤©ç³»ç»Ÿ]]></title>
    <url>%2F2016%2F11%2F30%2Fugui-zhi-bu-ju-shi-zhan-liao-tian-xi-tong%2F</url>
    <content type="text"><![CDATA[èŠå¤©ç³»ç»Ÿä¸­çš„UGUIå¸ƒå±€å¸¸ç”¨çš„èŠå¤©ç³»ç»Ÿå†…å®¹åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š1ã€å‘è¨€å†…å®¹ï¼›2ã€å‘è¨€äººå¤´åƒ3ã€å‘è¨€äººåç§°4ã€è¯­è¨€èŠå¤©ï¼ˆæœ¬æ–‡ä¸è€ƒè™‘è¯¥åŠŸèƒ½ï¼Œä¸Žå¸ƒå±€æ— å…³ï¼‰5ã€è¡¨æƒ…ï¼ˆæœ¬æ–‡æš‚ä¸è€ƒè™‘è¯¥åŠŸèƒ½ï¼ŒåŽç»­è¡¥å……ï¼‰ï¼ˆ4.1ï¼‰è¡¨æƒ…ä¸Žæ–‡å­—æ··æŽ’ï¼Œæ¯”å¦‚ï¼šPCç«¯çš„QQèŠå¤©ï¼ˆ4.2ï¼‰è¡¨æƒ…ä¸Žæ–‡å­—åˆ†å¼€ï¼Œæ¯”å¦‚ï¼šç§»åŠ¨ç«¯çš„QQ6ã€èŠå¤©æ¨¡å¼ï¼šæ–‡æœ¬æ¨¡å¼ã€æ°”æ³¡æ¨¡å¼ï¼ˆ5.1ï¼‰æ–‡æœ¬æ¨¡å¼ï¼šå‚ä¸ŽèŠå¤©çš„æ‰€æœ‰äººå‡åœ¨å·¦è¾¹ï¼ˆ5.2ï¼‰æ°”æ³¡æ¨¡å¼ï¼šè‡ªå·±çš„æ°”æ³¡åœ¨å·¦è¾¹ï¼Œå…¶ä½™çŽ©å®¶çš„æ°”æ³¡åœ¨å³è¾¹ï¼Œå¦‚ä¸‹å›¾ï¼š è¿™é‡Œä»¥æ°”æ³¡æ¨¡å¼ä¸ºä¾‹è¿›è¡Œè®²è§£ï¼šå…ˆä¸Šç±»ä¼¼æ•ˆæžœå›¾ï¼š å…ˆç®€å•åˆ†æžä¸€ä¸‹ï¼šè¿™é‡Œåˆ†ä¸ºä¸‰ä¸ªé¢„åˆ¶ä»¶ï¼šï¼ˆ1ï¼‰æ•´ä¸ªå¯¹è¯æ¡†ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶aï¼ˆ2ï¼‰çŽ©å®¶è‡ªå·±çš„æ°”æ³¡ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶bï¼ˆ3ï¼‰å…¶ä½™çŽ©å®¶çš„æ°”æ³¡ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶cç„¶åŽé¢„åˆ¶ä»¶aå¯¹æ°”æ³¡ç”¨äº†åž‚ç›´å¸ƒå±€ï¼›é¢„åˆ¶ä»¶bå’Œcåšæ³•ç±»ä¼¼ï¼Œå¤§å°ä¸€è‡´ï¼›é¢„åˆ¶ä»¶bå’Œcä¸­çš„æ°”æ³¡èƒŒæ™¯å›¾ç‰‡è¦éšç€æ–‡å­—å†…å®¹å˜åŒ–è€Œè‡ªåŠ¨ç¼©æ”¾ï¼Œå› æ­¤èƒŒæ™¯å›¾ç‰‡èº«ä¸ŠæŒ‚ä¸Šä¸€ä¸ªVerticalLayout Groupç»„ä»¶å’ŒContent Size Fitterç»„ä»¶ï¼Œç›¸å…³è®¾ç½®å¦‚ä¸‹ï¼šç„¶åŽå°†æ–‡å­—å†…å®¹ç‰©ä½“ä½œä¸ºèƒŒæ™¯å›¾ç‰‡çš„å­ç‰©ä½“ï¼Œå¹¶æ·»åŠ ç»„ä»¶Content Size Fitterç›¸å…³è®¾ç½®å¦‚ä¸‹ï¼š é¢„åˆ¶ä»¶bå’Œcè¿˜æœ‰ä¸€ç‚¹åŒºåˆ«å°±æ˜¯bï¼ˆçŽ©å®¶è‡ªå·±ï¼‰çš„Pivotä¸ºï¼ˆ1,1ï¼‰ï¼Œé¢„åˆ¶ä»¶cï¼ˆå…¶ä»–çŽ©å®¶ï¼‰çš„Pivotä¸ºï¼ˆ0,1ï¼‰ è¿™æ ·æè¿°å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œæœ€åŽä¼šç›´æŽ¥ç»™å¤§å®¶æä¾›ä¸€ä¸ªå·¥ç¨‹ä¸‹è½½åœ°å€ã€‚ ç„¶åŽèŠå¤©æ¡†è¿˜æ”¯æŒæ»šåŠ¨ç¿»é˜…æµè§ˆå‰é¢çš„èŠå¤©è®°å½•ï¼Œå› æ­¤è¿˜éœ€è¦Scroll Rectã€Maskç­‰ç»„ä»¶ ç”±äºŽèŠå¤©çª—å£ä¸‹æ–¹å‡ ä¸ªæŒ‰é’®å’Œè¾“å…¥æ¡†ä¸æ˜¯å¸ƒå±€çš„é‡ç‚¹ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»ï¼Œå¦‚æœ‰éœ€è¦ï¼ŒåŽç»­ç»™å¤§å®¶æä¾›ä¸€ä¸ªå·¥ç¨‹ä¸‹è½½åœ°å€ã€‚ é‚£ä¹ˆï¼Œå¸ƒå±€å®žæˆ˜â€”â€”èŠå¤©ç³»ç»Ÿå°±ä»‹ç»åˆ°è¿™é‡Œã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ æ›´æ–°ï¼šDemoç¤ºæ„å›¾å¦‚ä¸‹ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170114224142012?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) æ­¤æ—¶å›¾ä¸­æ˜¯ç©ºçš„èŠå¤©çª—å£ï¼Œæ¯å‘é€æˆ–è€…æ”¶åˆ°ä¸€æ¡èŠå¤©è®°å½•ï¼Œåªéœ€è¦ç”Ÿæˆä¸€ä¸ªç›¸åº” çš„é¢„åˆ¶ä»¶å¹¶ä½œä¸ºContentçš„å­ç‰©ä½“ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170114224522158?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) å…³äºŽèŠå¤©ç³»ç»Ÿçš„å¸ƒå±€å‘¢ï¼Œæ ¹æ®è®¾è®¡ä¸åŒå¸ƒå±€ä¹Ÿå°±ä¸åŒï¼Œè¿™é‡Œæ˜¯å°†æˆ‘å·¥ä½œä¸­çš„ä¸€ä¸ªèŠå¤©ç³»ç»Ÿè®²è§£ç»™å¤§å®¶ï¼Œå…·ä½“è¯¦æƒ…å¦‚æœ‰å…´è¶£æ¬¢è¿Žç‚¹å‡»é“¾æŽ¥ï¼š http://pan.baidu.com/s/1hrMxwf6 å¯†ç ï¼š6bssä¸‹è½½å·¥ç¨‹ æˆ‘ç”¨çš„unityç‰ˆæœ¬æ˜¯5.3.7ï¼Œå·¥ç¨‹æ‰€ç”¨ç¾Žæœ¯èµ„æºéžæœ¬äººåŽŸåˆ›ï¼Œè¯·ä¸è¦å•†ç”¨ï¼Œä»…é™å­¦ä¹ ä½¿ç”¨ï¼Œå¦‚å› æ­¤å‡ºçŽ°ç‰ˆæƒé—®é¢˜ï¼Œä¸Žæœ¬äººæ— å…³ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Grid Layout Groupç»„ä»¶ä»‹ç»]]></title>
    <url>%2F2016%2F11%2F30%2Fugui-zhi-grid-layout-group-zu-jian-jie-shao%2F</url>
    <content type="text"><![CDATA[Grid Layout Groupæ˜¯LayoutGroupçš„å­ç±» è„šæœ¬å±žæ€§æˆªå›¾å¦‚ä¸‹ï¼š 1ã€Paddingï¼šRectOffsetç±»åž‹ï¼ŒçŸ©å½¢åç§»ï¼Œè¯¦è§£è¯·æˆ³ UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç» 2ã€Cell Sizeï¼šVector2ç±»åž‹ï¼Œé»˜è®¤å€¼ä¸º(100,100)ï¼Œç½‘æ ¼ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼çš„å¤§å° [SerializeField] protected Vector2 m_CellSize = new Vector2(100, 100); public Vector2 cellSize { get { return m_CellSize; } set { SetProperty(ref m_CellSize, value); } }3ã€Spacingï¼šè¿™é‡Œçš„Spacingä¸åŒäºŽæ°´å¹³å¸ƒå±€ã€åž‚ç›´å¸ƒå±€ï¼Œæ˜¯Vector2ç±»åž‹ï¼Œæ—¢ç„¶æ˜¯ç½‘æ ¼å¸ƒå±€ï¼Œå½“ç„¶å­˜åœ¨æ°´å¹³æ–¹å‘çš„é—´éš”å’Œåž‚ç›´æ–¹å‘çš„é—´éš”ï¼Œè¿™é‡Œä¹Ÿä¸åšè¿‡å¤šçš„ä»‹ç»ã€‚ 3ã€Start Cornerï¼šCorneræžšä¸¾ç±»åž‹ public enum Corner { UpperLeft = 0, //å·¦ä¸Šè§’ UpperRight = 1, //å³ä¸Šè§’ LowerLeft = 2, //å·¦ä¸‹è§’ LowerRight = 3 //å³ä¸‹è§’ }ç¬¬ä¸€ä¸ªå•å…ƒæ ¼æ”¾åœ¨å“ªä¸ªè§’è½ï¼Œé»˜è®¤ä¸ºUpperLeftå·¦ä¸Šè§’ 4ã€Start Axisï¼šAxisæžšä¸¾ç±»åž‹ public enum Axis { Horizontal = 0, //æ°´å¹³ Vertical = 1 //åž‚ç›´ }ï¼ˆ1ï¼‰Horizontalï¼šæ°´å¹³ä¼˜å…ˆæ°´å¹³æŽ’åˆ—å•å…ƒæ ¼ï¼ˆ2ï¼‰Verticalï¼šåž‚ç›´ä¼˜å…ˆåž‚ç›´æŽ’åˆ—å•å…ƒæ ¼ 5ã€Child Alignmentï¼šTextAnchoræžšä¸¾ç±»åž‹ï¼Œæ–‡æœ¬é”šç‚¹ï¼Œè¯¦è§£è¯·æˆ³ UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç» 6ã€Constraintï¼šConstraintæžšä¸¾ç±»åž‹ public enum Constraint { Flexible = 0, //ä¸é™åˆ¶è¡Œæ•°å’Œåˆ—æ•° FixedColumnCount = 1, //çº¦æŸæŒ‡å®šæ•°é‡çš„åˆ—æ•° FixedRowCount = 2 //çº¦æŸæŒ‡å®šæ•°é‡çš„è¡Œæ•° }ä¸‹é¢ä»¥å‡ ä¸ªæˆªå›¾æ¥çœ‹çœ‹ä¸Šé¢å‡ ä¸ªè®¾ç½®å…·ä½“æ˜¯æ€Žæ ·çš„ä½œç”¨ï¼šä»¥ä¸‹å•å…ƒæ ¼ç‰©ä½“åŠ äº†ä¸€ä¸ªTextæ¥è¡¨ç¤ºå…¶ç¼–å·ï¼Œå¹¶ä¸”Hierarchyé¢æ¿ä¸­çš„å±‚çº§å…³ç³»å¹¶æœªè°ƒæ•´ å›¾ä¸€ï¼šé»˜è®¤æƒ…å†µ å›¾äºŒï¼šè®¾ç½®Start Cornerä¸ºUpper Right å›¾ä¸‰ï¼šè®¾ç½®Start Axisä¸ºVertical å›¾å››ï¼šè®¾ç½®Start Cornerä¸ºLower Leftã€Start Axisä¸ºVertical ä»Žä»¥ä¸Šå›¾ä¸­ä¸éš¾çœ‹å‡ºè¿™ä¸¤ä¸ªè®¾ç½®çš„ä½¿ç”¨ç”¨é€”ã€‚ å®žé™…å¼€å‘ä¸­ï¼Œæˆ‘å¸¸ä¸ŽContent Size Fitterç»„ä»¶ä¸€èµ·ä½¿ç”¨ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>GridLayoutGroup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Vertical Layout Groupç»„ä»¶ä»‹ç»]]></title>
    <url>%2F2016%2F11%2F30%2Fugui-zhi-vertical-layout-group-zu-jian-jie-shao%2F</url>
    <content type="text"><![CDATA[VerticalLayoutGroupä¹Ÿæ˜¯HorizontalOrVerticalLayoutGroupçš„å­ç±»ï¼ŒHorizontalOrVerticalLayoutGroupæ˜¯LayoutGroupçš„å­ç±»ï¼Œä¸‹é¢ä»Žæºç ä¸­è¿›è¡Œå¯¹æ¯” namespace UnityEngine.UI { [AddComponentMenu(&quot;Layout/Horizontal Layout Group&quot;, 150)] public class HorizontalLayoutGroup : HorizontalOrVerticalLayoutGroup { protected HorizontalLayoutGroup() {} public override void CalculateLayoutInputHorizontal() { base.CalculateLayoutInputHorizontal(); CalcAlongAxis(0, false); } public override void CalculateLayoutInputVertical() { CalcAlongAxis(1, false); } public override void SetLayoutHorizontal() { SetChildrenAlongAxis(0, false); } public override void SetLayoutVertical() { SetChildrenAlongAxis(1, false); } } } namespace UnityEngine.UI { [AddComponentMenu(&quot;Layout/Vertical Layout Group&quot;, 151)] public class VerticalLayoutGroup : HorizontalOrVerticalLayoutGroup { protected VerticalLayoutGroup() {} public override void CalculateLayoutInputHorizontal() { base.CalculateLayoutInputHorizontal(); CalcAlongAxis(0, true); } public override void CalculateLayoutInputVertical() { CalcAlongAxis(1, true); } public override void SetLayoutHorizontal() { SetChildrenAlongAxis(0, true); } public override void SetLayoutVertical() { SetChildrenAlongAxis(1, true); } } }å¯ä»¥çœ‹å‡ºï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å››ä¸ªé‡å†™çš„åŸºæ–¹æ³•é‡Œçš„è°ƒç”¨çš„CalcAlongAxisã€SetChildrenAlongAxisä¸€ä¸ªæ˜¯falseï¼Œä¸€ä¸ªæ˜¯trueï¼Œé‚£ä¹ˆæ˜¾ç„¶trueè¡¨ç¤ºæ˜¯verticalï¼Œfalseè¡¨ç¤ºhorizontal æ‰€ä»¥åœ¨è¿™å°±ä¸è¿‡å¤šçš„å¯¹Vertical Layout Groupç»„ä»¶åšè¿‡å¤šçš„ä»‹ç»ï¼Œç”¨æ³•è·Ÿ Horizontal LayoutGroupç»„ä»¶ä¸€æ ·çš„ç”¨ï¼Œå¦‚æžœå¯¹Horizontal Layout Groupç»„ä»¶æœ‰ä¸äº†è§£çš„ï¼Œè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œ Horizontal LayoutGroupç»„ä»¶ä»‹ç» ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>VerticalLayoutGroup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç»]]></title>
    <url>%2F2016%2F11%2F30%2Fugui-zhi-horizontal-layout-group-zu-jian-jie-shao%2F</url>
    <content type="text"><![CDATA[Horizontal LayoutGroupæ˜¯HorizontalOrVerticalLayoutGroupçš„å­ç±»ï¼ŒHorizontalOrVerticalLayoutGroupåˆæ˜¯LayoutGroupçš„å­ç±» è„šæœ¬æˆªå›¾å¦‚ä¸‹ï¼š å›¾ä¸­åŒ…æ‹¬ä»¥ä¸‹å±žæ€§ï¼š1ã€Paddingï¼šRectOffsetç±»åž‹ï¼ŒçŸ©å½¢åç§»æºç å¦‚ä¸‹ï¼š public sealed class RectOffset { public RectOffset(); public RectOffset(int left, int right, int top, int bottom); ~RectOffset(); public int bottom { get; set; } //åº•è¾¹ç¼˜ public int horizontal { get; } //æ°´å¹³ public int left { get; set; } //å·¦è¾¹ç¼˜ public int right { get; set; } //å³è¾¹ç¼˜ public int top { get; set; } //é¡¶è¾¹ç¼˜ public int vertical { get; } //åž‚ç›´ public Rect Add(Rect rect); //å‘ä¸€ä¸ªRectæ·»åŠ è¾¹æ¡†åç§» public Rect Remove(Rect rect); //ä»Žä¸€ä¸ªRectç§»é™¤è¾¹æ¡†åç§» public override string ToString(); }å¦‚ä¸‹é¢å‡ ä¸ªå›¾ä¸­ï¼šå›¾ä¸€ï¼šé»˜è®¤æƒ…å†µ å›¾äºŒï¼šåªæ”¹å˜Padding å½“Paddingä¸­çš„è¾¹ç¼˜å¤§å°è¿‡å¤§æ—¶ï¼Œä¼šè‡ªåŠ¨ç¼©æ”¾å¸ƒå±€å…ƒç´ ä»¥ä¿æŒå¸ƒå±€å…ƒç´ å‡åœ¨è¾¹æ¡†å†…ï¼Œä»Žä¸‹å›¾å¯ä»¥çœ‹å‡ºå›¾ä¸‰ 2ã€Spacingï¼šfloatç±»åž‹å¸ƒå±€å…ƒç´ ä¹‹é—´çš„é—´éš” å›¾å››ï¼šåªæ”¹å˜Spacing å½“Spacingè¿‡å¤§ï¼Œä¼šè‡ªåŠ¨ç¼©æ”¾å¸ƒå±€å…ƒç´ ä»¥ä¿æŒå¸ƒå±€å…ƒç´ å‡åœ¨è¾¹æ¡†å†…ï¼Œä»Žä¸‹å›¾å¯ä»¥çœ‹å‡ºå¸ƒå±€å…ƒç´ å®½åº¦ç¼©å°äº†å›¾äº”ï¼š 3ã€Child Alignmentï¼šTextAnchoræžšä¸¾ç±»åž‹ï¼Œæ–‡æœ¬é”šç‚¹æºç å¦‚ä¸‹ï¼š public enum TextAnchor { UpperLeft = 0, //ä¸Šå·¦ UpperCenter = 1, //ä¸Šä¸­ UpperRight = 2, //ä¸Šå³ MiddleLeft = 3, //ä¸­å·¦ MiddleCenter = 4, //ä¸­ä¸­ MiddleRight = 5, //ä¸­å³ LowerLeft = 6, //ä¸‹å·¦ LowerCenter = 7, //ä¸‹ä¸­ LowerRight = 8 //ä¸‹å³ }4ã€Child Force Expandï¼šæœ‰ä¸¤ä¸ªå¯é€‰ï¼ˆ1ï¼‰Widthï¼šæ˜¯å¦å¼ºè¡Œæ‰©å¤§å¸ƒå±€å…ƒç´ å®½åº¦ä»¥å¡«è¡¥é¢å¤–å¯ç”¨çš„ç©ºé—´ï¼ˆ2ï¼‰Heightï¼šæ˜¯å¦å¼ºè¡Œæ‰©å¤§å¸ƒå±€å…ƒç´ é«˜åº¦ä»¥å¡«è¡¥é¢å¤–å¯ç”¨çš„ç©ºé—´ä¸‹é¢ç»“åˆæˆªå›¾æ¥è¯´æ˜Žï¼šå›¾å…­ï¼šå‹¾é€‰Widthï¼Œå¡«è¡¥å®½åº¦ å›¾ä¸ƒï¼šå‹¾é€‰Heightï¼Œå¡«è¡¥é«˜åº¦ å›¾å…«ï¼šå‹¾é€‰Widthå’ŒHeightï¼Œå¡«è¡¥å®½åº¦å’Œé«˜åº¦ ä»Žä»¥ä¸Šä¸‰å›¾ç»“åˆå›¾ä¸€é»˜è®¤å›¾å¯ä»¥çœ‹å‡ºå…¶å…·ä½“æ•ˆæžœ å®žé™…å¼€å‘ä¸­ï¼Œæˆ‘ç»å¸¸ç»“åˆContent Size Fitterç»„ä»¶ä¸€èµ·ä½¿ç”¨ å…³äºŽUIå¸ƒå±€ï¼Œå¤§å®¶å¼€å‘çš„å¤šäº†ï¼Œå°±ç†Ÿç»ƒäº†ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>HorizontalLayoutGroup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Content Size Fitterç»„ä»¶]]></title>
    <url>%2F2016%2F11%2F29%2Fugui-zhi-content-size-fitter-zu-jian%2F</url>
    <content type="text"><![CDATA[å…·ä½“å±žæ€§æˆªå›¾ï¼š Horizontal Fitå’ŒVerticalFitå‡ä¸ºUI.ContentSizeFitter.FitModeæžšä¸¾ç±»åž‹ï¼Œæœ‰ä¸‰ä¸ªå€¼å¯é€‰ï¼šUnconstrainedï¼ŒMinSizeï¼ŒPreferredSize Unconstrainedï¼šä¸æ‰§è¡Œä»»ä½•è°ƒæ•´MinSizeï¼šè°ƒæ•´å†…å®¹çš„æœ€å°å¤§å°PreferredSizeï¼šè°ƒæ•´å†…å®¹çš„é¦–é€‰å¤§å°ï¼Œä¹Ÿå°±æ˜¯ä¼šè‡ªåŠ¨æ ¹æ®å†…å®¹æ¥è°ƒæ•´å¤§å° ä½¿ç”¨Content Size Fitterç»„ä»¶ï¼ŒRectTransformç»„ä»¶ä¼šå‘ç”Ÿå“åº”çš„å˜åŒ–é»˜è®¤æƒ…å†µä¸‹RectTransformç»„ä»¶çš„Width å’Œ Height å¯ä»¥åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹å°±è¡Œä¿®æ”¹ï¼Œå½“HorizontalFitä¸ä¸ºUnconstrainedæ—¶ï¼ŒWidthä¸å¯ä¿®æ”¹ï¼ŒåŒç†ï¼ŒVertical Fitä¸ä¸ºUnconstrainedæ—¶ï¼ŒHeightä¸å¯ä¿®æ”¹ã€‚ ä»£ç ä¸­ï¼Œå¦‚æžœéœ€è¦èŽ·å–è¿™ä¸ªgameobjectçš„Width å’ŒHeightï¼Œä¸‹å›¾ä¸­æä¾›äº†Preferred Heightå’ŒPreferredWidthçš„èŽ·å–æ–¹å¼ å³ä¸‹è§’å¯ä»¥çœ‹å‡ºæ•°æ®çš„Sourceæ˜¯Textç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡GetComponent().PreferredWidthå’ŒPreferredHeightæ¥èŽ·å¾—ã€‚ å½“ç„¶ä¸æ˜¯æ‰€æœ‰æƒ…å†µï¼Œè¿™ä¸¤ä¸ªæ•°æ®çš„sourceéƒ½æ˜¯Textï¼ï¼ï¼ å…³äºŽContent Size Fitterä»‹ç»æš‚æ—¶å°±åˆ°è¿™é‡Œï¼ŒåŽç»­å®Œå–„ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>ContentSizeFitter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Outlineè½®å»“ç»„ä»¶]]></title>
    <url>%2F2016%2F11%2F29%2Fugui-zhi-outline-lun-kuo-zu-jian%2F</url>
    <content type="text"><![CDATA[å±žæ€§å›¾å¦‚ä¸‹ï¼š ä»Žæºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå…¶å®žOutlineæ˜¯Shadowçš„å­ç±»ï¼Œåªä¸è¿‡Outlineè„šæœ¬åœ¨å››ä¸ªæ–¹å‘ä¸Šè°ƒç”¨äº†Shadowçš„ApplyShadowZeroAllocå‡½æ•°è€Œå·²ï¼Œå…·ä½“æºç å¦‚ä¸‹ï¼š using System.Collections.Generic; namespace UnityEngine.UI { [AddComponentMenu(&quot;UI/Effects/Outline&quot;, 15)] public class Outline : Shadow { protected Outline() {} public override void ModifyMesh(VertexHelper vh) { if (!IsActive()) return; var verts = ListPool&lt;UIVertex&gt;.Get(); vh.GetUIVertexStream(verts); var neededCpacity = verts.Count * 5; if (verts.Capacity &lt; neededCpacity) verts.Capacity = neededCpacity; var start = 0; var end = verts.Count; ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, effectDistance.x, effectDistance.y); start = end; end = verts.Count; ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, effectDistance.x, -effectDistance.y); start = end; end = verts.Count; ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, -effectDistance.x, effectDistance.y); start = end; end = verts.Count; ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, -effectDistance.x, -effectDistance.y); vh.Clear(); vh.AddUIVertexTriangleStream(verts); ListPool&lt;UIVertex&gt;.Release(verts); } } }è¿™é‡Œä¸å†èµ˜è¿°Outlineç»„ä»¶çš„å±žæ€§äº†ï¼Œè·ŸShadowç»„ä»¶ä¸€æ ·ç”¨ï¼Œå…³äºŽShadowç»„ä»¶çš„ä»‹ç»è¯·æˆ³è¿™é‡Œ UGUIä¹‹Shadowé˜´å½±ç»„ä»¶ ç›¸åº”çš„ï¼Œä½¿ç”¨Outlineç»„ä»¶ï¼Œé¡¶ç‚¹æ•°åŠ äº†å››å€ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Outline</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Shadowé˜´å½±ç»„ä»¶]]></title>
    <url>%2F2016%2F11%2F29%2Fugui-zhi-shadow-yin-ying-zu-jian%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬å±žæ€§å›¾å¦‚ä¸‹ï¼š 1ã€Effect Colorï¼šé˜´å½±çš„é¢œè‰²2ã€Effect Distanceï¼šé˜´å½±çš„åç§»è·ç¦»ï¼ˆ1ï¼‰xè½´æ°´å¹³æ–¹å‘ï¼šå½“x=0æ—¶ï¼Œé˜´å½±åœ¨æ°´å¹³æ–¹å‘ä¸Šä¸­é—´ï¼›å½“x&gt;0æ—¶ï¼Œé˜´å½±åœ¨å³æ–¹ï¼›å½“x&lt;0æ—¶ï¼Œé˜´å½±åœ¨å·¦æ–¹ï¼ˆ2ï¼‰yè½´åž‚ç›´æ–¹å‘ï¼šå½“y=0æ—¶ï¼Œé˜´å½±åœ¨åž‚ç›´æ–¹å‘ä¸Šä¸­é—´ï¼›å½“y&gt;0æ—¶ï¼Œé˜´å½±åœ¨ä¸Šæ–¹ï¼›å½“y&lt;0æ—¶ï¼Œé˜´å½±åœ¨ä¸‹æ–¹ä»Žä¸Šå›¾ä¸­å¯è§å…¶æ•ˆæžœï¼Œå¦å¤–ä»Žæºç ä¸­å¯ä»¥çœ‹å‡ºxã€yçš„èŒƒå›´å‡ä¸º[-600,600]ï¼Œå½“ç„¶å®žé™…åº”ç”¨ä¸­è¿™ä¸ªèŒƒå›´æ˜¯ç»å¯¹è¶³å¤Ÿç”¨çš„æºç å¦‚ä¸‹ï¼š public Vector2 effectDistance { get { return m_EffectDistance; } set { if (value.x &gt; 600) value.x = 600; if (value.x &lt; -600) value.x = -600; if (value.y &gt; 600) value.y = 600; if (value.y &lt; -600) value.y = -600; if (m_EffectDistance == value) return; m_EffectDistance = value; if (graphic != null) graphic.SetVerticesDirty(); } }3ã€Use Graphic Alphaï¼šæ˜¯å¦ä½¿ç”¨Graphicä¸­çš„Alphaé€æ˜Žåº¦ï¼ˆ1ï¼‰å‹¾é€‰ï¼šé˜´å½±çš„é€æ˜Žåº¦ä¼šæ ¹æ®Graphicçš„é€æ˜Žåº¦å˜åŒ–è€Œå˜åŒ–æ³¨æ„çœ‹ä¸‹é¢ä¸¤ä¸ªå›¾ä¸­çš„é¢œè‰²Alphaå€¼ä»¥åŠå·¦è¾¹çš„Texté€æ˜Žåº¦å˜åŒ–å›¾ä¸€ å›¾äºŒ ä»Žä»¥ä¸Šå¯ä»¥çœ‹å‡ºå‹¾é€‰Use Graphic Alphaçš„æ•ˆæžœï¼ˆ2ï¼‰ä¸å‹¾é€‰ï¼šé˜´å½±çš„é€æ˜Žåº¦ä¸ä¼šæ ¹æ®Graphicçš„é€æ˜Žåº¦å˜åŒ–è€Œå˜åŒ–åœ¨å›¾äºŒçš„åŸºç¡€ä¸Šï¼ŒåŽ»æŽ‰Use Graphic Alphaçš„å‹¾é€‰ï¼Œç»“æžœå¦‚ä¸‹ï¼šé˜´å½±éƒ¨åˆ†é€æ˜Žåº¦å¹¶æ²¡æœ‰å—åˆ°Graphicçš„å½±å“æºç éƒ¨åˆ†ï¼šå¦‚æžœUse GraphicAlphaè¢«å‹¾é€‰ï¼Œm_UseGraphicAlphaä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseï¼Œä»Žæºç ä¸­å¯ä»¥å¦‚æžœm_UseGraphicAlphaä¸ºtrueï¼Œé˜´å½±çš„alphaç»è¿‡äº†ä»¥ä¸‹è¿ç®—ï¼šnewColor.a= (byte)((newColor.a * verts[i].color.a) / 255)ï¼› protected void ApplyShadowZeroAlloc(List&lt;UIVertex&gt; verts, Color32 color, int start, int end, float x, float y) { UIVertex vt; var neededCpacity = verts.Count * 2; if (verts.Capacity &lt; neededCpacity) verts.Capacity = neededCpacity; for (int i = start; i &lt; end; ++i) { vt = verts[i]; verts.Add(vt); Vector3 v = vt.position; v.x += x; v.y += y; vt.position = v; var newColor = color; if (m_UseGraphicAlpha) newColor.a = (byte)((newColor.a * verts[i].color.a) / 255); vt.color = newColor; verts[i] = vt; } }ä»¥ä¸Šä¸ºShadowç»“åˆTextç»„ä»¶çš„ä½¿ç”¨ä»‹ç»ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹Shadowç»“åˆImageç»„ä»¶çš„ä½¿ç”¨ï¼š è¿™é‡Œä¸å†è¿‡å¤šä»‹ç»ï¼Œå¤§å®¶æœ‰å…´è¶£ï¼Œå¯ä»¥æ·±å…¥ç ”ç©¶æºç ã€‚ å¦å¤–ï¼Œä½¿ç”¨Shadowä¼šå¯¼è‡´é¡¶ç‚¹æ•°ç¿»å€ï¼š ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Shadow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Textç»„ä»¶è¯¦è§£]]></title>
    <url>%2F2016%2F11%2F29%2Fugui-zhi-text-zu-jian-xiang-jie%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬å±žæ€§å¦‚ä¸‹å›¾ï¼š Characterï¼š1ã€Fontï¼šå­—ä½“2ã€Font Styleï¼šï¼ˆ1ï¼‰Normalï¼šæ­£å¸¸ï¼ˆ2ï¼‰Boldï¼šç²—ä½“ï¼ˆ3ï¼‰Italicï¼šæ–œä½“ï¼ˆ4ï¼‰Bold And Italicï¼šç²—ä½“+æ–œä½“3ã€Font Sizeï¼šå­—ä½“å¤§å°4ã€Line Spacingï¼šè¡Œé—´è·ï¼ˆæ³¨ï¼šTextç»„ä»¶æ²¡æœ‰æä¾›ä¿®æ”¹å­—é—´è·çš„å±žæ€§ï¼Œåœ¨å‰é¢å†™è¿‡ä¿®æ”¹å­—é—´è·çš„è„šæœ¬ï¼‰5ã€Rich Textï¼šå¯Œæ–‡æœ¬æ”¯æŒå¤šç»„åˆçš„è¯­æ³•ä¾‹å¦‚ä¸‹é¢ä¾‹å­ï¼š Paragraphï¼š1ã€Alignmentï¼š å‰é¢ä¸‰ä¸ªæŒ‰é’®æ˜¯æ°´å¹³æ–¹å‘ï¼ˆåˆ†åˆ«ä¸ºå·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½ï¼‰ï¼ŒåŽé¢ä¸‰ä¸ªæŒ‰é’®æ˜¯åž‚ç›´æ–¹å‘ï¼ˆåˆ†åˆ«ä¸ºé¡¶å¯¹é½ï¼Œå±…ä¸­ï¼Œåº•å¯¹é½ï¼‰ 2ã€Align By Geometryï¼šå®˜æ–¹è§£é‡Šï¼šUse the extents of glyph geometry to perform horizontal alignment rather thanglyph metrics.This can result in better fitting left and right alignment, but may result inincorrect positioning when attempting to overlay multiple fonts (such as aspecialized outline font) on top of each other.ä½¿ç”¨åŒºæ®µçš„å­—å½¢å‡ ä½•æ‰§è¡Œæ°´å¹³å¯¹é½,è€Œä¸æ˜¯å­—å½¢æŒ‡æ ‡ã€‚è¿™å¯ä»¥å¯¼è‡´æ›´å¥½çš„æ‹Ÿåˆå·¦å’Œå³å¯¹é½,ä½†å¯èƒ½ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„å®šä½å½“è¯•å›¾è¦†ç›–å¤šä¸ªå­—ä½“(å¦‚ä¸“ä¸šè½®å»“å­—ä½“)ä¸Šã€‚ 3ã€Horizontal Overflowï¼šæ°´å¹³æº¢å‡ºï¼ˆ1ï¼‰Wrapï¼šæ–‡æœ¬å°†è‡ªåŠ¨æ¢è¡Œï¼Œå½“è¾¾åˆ°æ°´å¹³è¾¹ç•Œï¼ˆ2ï¼‰Overflowï¼šæ–‡æœ¬å¯ä»¥è¶…å‡ºæ°´å¹³è¾¹ç•Œï¼Œç»§ç»­æ˜¾ç¤º4ã€Vertical Overflowï¼šåž‚ç›´æº¢å‡ºï¼ˆ1ï¼‰Truncateï¼šæ–‡æœ¬ä¸æ˜¾ç¤ºè¶…å‡ºåž‚ç›´è¾¹ç•Œçš„éƒ¨åˆ†ï¼ˆ2ï¼‰Overflowï¼šæ–‡æœ¬å¯ä»¥è¶…å‡ºåž‚ç›´è¾¹ç•Œï¼Œç»§ç»­æ˜¾ç¤º5ã€Best Fitï¼šå‹¾é€‰ä¹‹åŽï¼Œç¼–è¾‘å™¨å‘ç”Ÿå˜åŒ–ï¼Œæ˜¾ç¤ºMin Sizeå’ŒMax Sizeï¼ˆ1ï¼‰Min Sizeï¼šæœ€å°å¤§å°ï¼ˆ2ï¼‰Max Sizeï¼šæœ€å¤§å¤§å°å½“è¾¹æ¡†å¾ˆå¤§æ—¶ï¼Œæ–‡å­—æœ€å¤§æ˜¾ç¤ºMax Sizeå­—ä½“å¤§å°ï¼›å½“è¾¹æ¡†å¾ˆå°æ—¶ï¼Œæ–‡å­—æœ€å°æ˜¾ç¤ºMin Sizeå­—ä½“å¤§å°ï¼Œè¾¹æ¡†æ˜¾ç¤ºä¸äº†MinSizeå­—ä½“å¤§å°å°±ä¸å†æ˜¾ç¤ºæ–‡å­—äº†ã€‚ Colorï¼šé¢œè‰² Materialï¼šæè´¨ Raycast Targetï¼šæ¥è‡ªç±»Graphicï¼Œå½“è¯¥é¡¹ä¸ºfalseæ—¶ï¼Œæ¶ˆæ¯ä¼šé€ä¼ ]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Text</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Textå¯¹é½è‡³æ ¼å­]]></title>
    <url>%2F2016%2F08%2F06%2Fugui-zhi-text-dui-qi-zhi-ge-zi%2F</url>
    <content type="text"><![CDATA[UGUIä¹‹Textå¯¹é½è‡³æ ¼å­èƒŒæ™¯ï¼šå‰å‡ å¤©æœ‰ä¸ªéœ€æ±‚ï¼šçŽ©å®¶è¾“å…¥çš„6ä½æˆ¿é—´IDå·ï¼Œè¦å¯¹é½è‡³èƒŒæ™¯æ ¼å­å›¾ä¸­ï¼Œæ•…å°†å‰é¢å†™çš„è°ƒæ•´Textå­—é—´è·å‹‰å¼ºç»™bossç”¨äº† å¤§è‡´æ•ˆæžœå¦‚å›¾ï¼š å…·ä½“è„šæœ¬ä»£ç å¦‚ä¸‹: using UnityEngine; using System.Collections; using UnityEngine.UI; using System; using System.Collections.Generic; [AddComponentMenu(&quot;UI/Effects/TextAlignToGrid&quot;)] public class TextAlignToGrid : BaseMeshEffect { public RectTransform _gridBg; //æ ¼å­èƒŒæ™¯ public int _gridNum; //æˆ‘çš„æ ¼å­æ•°ä¸º6 private Vector2 _gridSize; //æ ¼å­å¤§å° private Vector3[] _targetFocusPos; //ç›®æ ‡ä¸­å¿ƒç‚¹ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„æ ¼å­ä¸­å¿ƒç‚¹ public override void ModifyMesh(VertexHelper vh) { if (!IsActive() || vh.currentVertCount == 0) { return; } if (_gridBg == null) { Debug.Log(&quot;Missing Grid Background&quot;); return; } Text text = GetComponent&lt;Text&gt;(); if (text == null) { Debug.Log(&quot;Missing Text component&quot;); return; } _gridSize = _gridBg.sizeDelta; int textLen = text.text.Length; Vector3[] textFocusPos = new Vector3[textLen]; List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;(); _targetFocusPos = new Vector3[textLen]; vh.GetUIVertexStream(vertexs); //è®¡ç®—textå„æ–‡å­—ä¸­å¿ƒç‚¹åæ ‡ for (int i = 0; i &lt; textLen; i++) { float x = (vertexs[i * 6].position.x + vertexs[i * 6 + 1].position.x) / 2; float y = (vertexs[i * 6 + 1].position.y + vertexs[i * 6 + 2].position.y) / 2; textFocusPos[i] = new Vector3(x, y, 0); } //æ ¹æ®æ ¼å­å¤§å°_gridSizeè®¡ç®—ç›®æ ‡ä¸­å¿ƒç‚¹ float xOffset = _gridSize.x / _gridNum; for (int i = 0; i &lt; textLen; i++) { float x = (float)(-_gridSize.x / 2 + xOffset * (i + 0.5)); _targetFocusPos[i] = new Vector3(x, 0, 0); } //è®¡ç®—textå„é¡¶ç‚¹æ–°åæ ‡ UIVertex v = new UIVertex(); for (int i = 0; i &lt; vh.currentVertCount; i++) { vh.PopulateUIVertex(ref v, i); float x = v.position.x + _targetFocusPos[i / 4].x - textFocusPos[i / 4].x; float y = v.position.y + _targetFocusPos[i / 4].y - textFocusPos[i / 4].y; v.position = new Vector3(x, y, 0); vh.SetUIVertex(v, i); } } }]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Textå¯¹é½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹ä¿®æ”¹Textå­—é—´è·]]></title>
    <url>%2F2016%2F07%2F13%2Fugui-zhi-xiu-gai-text-zi-jian-ju%2F</url>
    <content type="text"><![CDATA[UGUIä¹‹ä¿®æ”¹Textå­—é—´è·ç¬¬ä¸€ç‰ˆå…ˆçœ‹æ•ˆæžœå›¾ï¼š æ€è·¯æ˜¯ä¿®æ”¹é¡¶ç‚¹åæ ‡ è„šæœ¬TextSpacingä»£ç å¦‚ä¸‹ï¼š using UnityEngine; using System.Collections; using UnityEngine.UI; using System; using System.Collections.Generic; [AddComponentMenu(&quot;UI/Effects/TextSpacing&quot;)] public class TextSpacing : BaseMeshEffect { public float _textSpacing = 1f; public override void ModifyMesh(VertexHelper vh) { if (!IsActive() || vh.currentVertCount == 0) { return; } List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;(); vh.GetUIVertexStream(vertexs); int indexCount = vh.currentIndexCount; UIVertex vt; for (int i = 6; i &lt; indexCount; i++) { //ç¬¬ä¸€ä¸ªå­—ä¸ç”¨æ”¹å˜ä½ç½® vt = vertexs[i]; vt.position += new Vector3(_textSpacing * (i / 6), 0, 0); vertexs[i] = vt; //ä»¥ä¸‹æ³¨æ„ç‚¹ä¸Žç´¢å¼•çš„å¯¹åº”å…³ç³» if (i % 6 &lt;= 2) { vh.SetUIVertex(vt, (i / 6) * 4 + i % 6); } if (i % 6 == 4) { vh.SetUIVertex(vt, (i / 6) * 4 + i % 6 - 1); } } } }ç¬¬äºŒç‰ˆåœ¨ç¬¬ä¸€ç‰ˆçš„åŸºç¡€ä¸Šï¼Œè§£å†³äº†æ¢è¡Œä¹‹åŽå­˜åœ¨çš„é—®é¢˜å…ˆçœ‹ç¬¬äºŒç‰ˆçš„æ•ˆæžœå›¾ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20170508115729311?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) ç›´æŽ¥ä¸Šæºç ï¼š using UnityEngine; using System.Collections; using UnityEngine.UI; using System; using System.Collections.Generic; public class Line { private int _startVertexIndex = 0; /// &lt;summary&gt; /// èµ·ç‚¹ç´¢å¼• /// &lt;/summary&gt; public int StartVertexIndex { get { return _startVertexIndex; } } private int _endVertexIndex = 0; /// &lt;summary&gt; /// ç»ˆç‚¹ç´¢å¼• /// &lt;/summary&gt; public int EndVertexIndex { get { return _endVertexIndex; } } private int _vertexCount = 0; /// &lt;summary&gt; /// è¯¥è¡Œå çš„ç‚¹æ•°ç›® /// &lt;/summary&gt; public int VertexCount { get { return _vertexCount; } } public Line(int startVertexIndex,int length) { _startVertexIndex = startVertexIndex; _endVertexIndex = length * 6 - 1 + startVertexIndex; _vertexCount = length * 6; } } [AddComponentMenu(&quot;UI/Effects/TextSpacing&quot;)] public class TextSpacing : BaseMeshEffect { public float _textSpacing = 1f; public override void ModifyMesh(VertexHelper vh) { if (!IsActive() || vh.currentVertCount == 0) { return; } Text text = GetComponent&lt;Text&gt;(); if (text == null) { Debug.LogError(&quot;Missing Text component&quot;); return; } List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;(); vh.GetUIVertexStream(vertexs); int indexCount = vh.currentIndexCount; string[] lineTexts = text.text.Split(&apos;\n&apos;); Line[] lines = new Line[lineTexts.Length]; //æ ¹æ®linesæ•°ç»„ä¸­å„ä¸ªå…ƒç´ çš„é•¿åº¦è®¡ç®—æ¯ä¸€è¡Œä¸­ç¬¬ä¸€ä¸ªç‚¹çš„ç´¢å¼•ï¼Œæ¯ä¸ªå­—ã€å­—æ¯ã€ç©ºæ¯å‡å 6ä¸ªç‚¹ for (int i = 0; i &lt; lines.Length; i++) { //é™¤æœ€åŽä¸€è¡Œå¤–ï¼Œvertexså¯¹äºŽå‰é¢å‡ è¡Œéƒ½æœ‰å›žè½¦ç¬¦å äº†6ä¸ªç‚¹ if (i == 0) { lines[i] = new Line(0, lineTexts[i].Length + 1); } else if(i &gt; 0 &amp;&amp; i &lt; lines.Length - 1) { lines[i] = new Line(lines[i - 1].EndVertexIndex + 1, lineTexts[i].Length + 1); } else { lines[i] = new Line(lines[i - 1].EndVertexIndex + 1, lineTexts[i].Length); } } UIVertex vt; for (int i = 0; i &lt; lines.Length; i++) { for (int j = lines[i].StartVertexIndex + 6; j &lt;= lines[i].EndVertexIndex; j++) { if (j &lt; 0 || j &gt;= vertexs.Count) { continue; } vt = vertexs[j]; vt.position += new Vector3(_textSpacing * ((j - lines[i].StartVertexIndex) / 6), 0, 0); vertexs[j] = vt; //ä»¥ä¸‹æ³¨æ„ç‚¹ä¸Žç´¢å¼•çš„å¯¹åº”å…³ç³» if (j % 6 &lt;= 2) { vh.SetUIVertex(vt, (j / 6) * 4 + j % 6); } if (j % 6 == 4) { vh.SetUIVertex(vt, (j / 6) * 4 + j % 6 - 1); } } } } }æ€è·¯æ˜¯åœ¨ç¬¬ä¸€ç‰ˆçš„åŸºç¡€ä¸Šï¼Œå¯¹æ¯ä¸€è¡Œéƒ½é¡¶ç‚¹åæ ‡åšå¤„ç†ã€‚ ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Texté•œåƒæ•ˆæžœ]]></title>
    <url>%2F2016%2F07%2F11%2Fugui-zhi-text-jing-xiang-xiao-guo%2F</url>
    <content type="text"><![CDATA[UGUIä¹‹Texté•œåƒæ•ˆæžœå…ˆä¸Šæ•ˆæžœå›¾ï¼š è„šæœ¬Mirrorç›´æŽ¥æŒ‚åœ¨Textä¸‹ï¼Œdistanceæ˜¯é•œåƒè·ç¦» Mirrorè„šæœ¬å¦‚ä¸‹ï¼š using UnityEngine; using System.Collections; using UnityEngine.UI; using System; using System.Collections.Generic; [AddComponentMenu(&quot;UI/Effects/Mirror&quot;)] public class Mirror : BaseMeshEffect { //è·ç¦»ï¼Œé™åˆ¶èŒƒå›´0-30 [Range(0,30)] public float distance; public override void ModifyMesh(VertexHelper vh) { if (!IsActive() || vh.currentVertCount == 0) { return; } List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;(); vh.GetUIVertexStream(vertexs); UIVertex vt; int count = vertexs.Count; float miny = vertexs[0].position.y; float maxy = vertexs[0].position.y; for (int i = 1; i &lt; count; i++) { if (vertexs[i].position.y &lt; miny) { miny = vertexs[i].position.y; } else if (vertexs[i].position.y &gt; maxy) { maxy = vertexs[i].position.y; } } float uiElementHeight = maxy - miny; float mirrorMinY = -maxy + 2 * miny - distance; Color32 top = GetComponent&lt;Text&gt;().color; Color32 bottom = new Color(top.r, top.g, top.b, 0); for (int i = 0; i &lt; count; i++) { vt = vertexs[i]; vertexs.Add(vt); Vector3 v = vt.position; v.y = -v.y + 2 * miny - distance; vt.position = v; //é€æ˜Žåº¦æ•ˆæžœ vt.color = Color32.Lerp(bottom, top, (vt.position.y - mirrorMinY) / uiElementHeight); vertexs[i + count] = vt; } vh.Clear(); vh.AddUIVertexTriangleStream(vertexs); } }]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Texté•œåƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UGUIä¹‹Textå½©è™¹å­—]]></title>
    <url>%2F2016%2F07%2F08%2Fugui-zhi-text-cai-hong-zi%2F</url>
    <content type="text"><![CDATA[UGUIä¹‹Textå½©è™¹å­—è„šæœ¬Rainbowç›´æŽ¥æŒ‚åœ¨Textä¸‹ ä½¿å¾—æ¯ä¸ªå­—æ¯æˆ–è€…æ±‰å­—å‡ä¸ºä¸€ç§éšæœºé¢œè‰² Rainbowè„šæœ¬å¦‚ä¸‹ï¼š using UnityEngine; using System.Collections; using UnityEngine.UI; using System.Collections.Generic; [AddComponentMenu(&quot;UI/Effects/Gradient&quot;)] public class Rainbow : BaseMeshEffect { private Color32[] colors; public override void ModifyMesh(VertexHelper vh) { if (!IsActive() || vh.currentVertCount == 0) { return; } List&lt;UIVertex&gt; vertices = new List&lt;UIVertex&gt;(); vh.GetUIVertexStream(vertices); int count = vertices.Count; colors = new Color32[count / 6]; for (int i = 0; i &lt; colors.Length; i++) { //éšæœºé¢œè‰² float r = Random.value; float g = Random.value; float b = Random.value; colors[i] = new Color(r, g, b); } UIVertex v = new UIVertex(); for (int i = 0; i &lt; vh.currentVertCount; i++) { vh.PopulateUIVertex(ref v, i); v.color = colors[i / 4]; vh.SetUIVertex(v, i); } } }]]></content>
      <categories>
        <category>Unity</category>
        <category>UGUI</category>
      </categories>
      <tags>
        <tag>Textå½©è™¹å­—</tag>
      </tags>
  </entry>
</search>
