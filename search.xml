<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>[UIElementå…¥é—¨]:4.è‡ªå®šä¹‰å…ƒç´ </title>
      <link href="/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/"/>
      <url>/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜‰</p>          </div><a id="more"></a><div class="note primary no-icon">            <p><a href="https://docs.unity3d.com/Manual/UIElements.html" target="_blank" rel="noopener">UIElementå®˜æ–¹æ–‡æ¡£</a></p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1</p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼š<br><a href="https://www.jingfengji.tech/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/">UIElement : EditorWindowç®€å•ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/">UIElement : UXMLå…ƒç´ ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/12/uielement-ru-men-2-uquery-jie-shao/">UIElement : UQueryä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/13/uielement-ru-men-3-layout-engine/">UIElement : Layout Engine</a><br><a href="https://www.jingfengji.tech/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/">UIElement : è‡ªå®šä¹‰å…ƒç´ </a><br>åç»­å¾…æ›´æ–°å†…å®¹ï¼š<br><a>UIElement : Editor Demo Quick Tool</a><br><a>UIElement : Layout Engine YogaLayout</a><br><a>UIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»</a><br><a>UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickTool</a><br><a>UIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æ¶çš„AssetBundlBuilder</a><br><a>UIElement : Runtime Demo Tank</a></p>          </div><h1 id="è‡ªå®šä¹‰å…ƒç´ "><a href="#è‡ªå®šä¹‰å…ƒç´ " class="headerlink" title="è‡ªå®šä¹‰å…ƒç´ "></a>è‡ªå®šä¹‰å…ƒç´ </h1><h2 id="å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ç±»"><a href="#å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ç±»" class="headerlink" title="å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ç±»"></a>å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ç±»</h2><p>åœ¨ä½¿ç”¨UXMLæ–‡ä»¶å®šä¹‰æ–°å…ƒç´ ä¹‹å‰ï¼Œå¿…é¡»ä»VisualElementæˆ–å®ƒçš„ä¸€ä¸ªå­ç±»æ´¾ç”Ÿä¸€ä¸ªæ–°ç±»ï¼Œç„¶ååœ¨è¿™ä¸ªæ–°ç±»ä¸­å®ç°é€‚å½“çš„åŠŸèƒ½ã€‚ä½ çš„æ–°ç±»å¿…é¡»å®ç°ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">StatusBar</span> : <span class="title">VisualElement</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StatusBar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        m_Status = String.Empty;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">string</span> m_Status;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> status &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…ƒç´ å·¥å‚"><a href="#å…ƒç´ å·¥å‚" class="headerlink" title="å…ƒç´ å·¥å‚"></a>å…ƒç´ å·¥å‚</h2><p>ä¸ºäº†è®©UIElementåœ¨è¯»å–UXMLæ–‡ä»¶æ—¶èƒ½å¤Ÿè¯†åˆ«åˆ°è¯¥è‡ªå®šä¹‰å…ƒç´ ç±»ï¼Œå¿…é¡»ä¸ºè¯¥å…ƒç´ ç±»å®šä¹‰ä¸€ä¸ªå·¥å‚ã€‚å¦‚æœå·¥å‚ä¸éœ€è¦åšä¸€äº›ç‰¹æ®Šçš„äº‹æƒ…ï¼Œå¯ä»¥ç›´æ¥ä»UxmlFactoy<T>æ´¾ç”Ÿå·¥å‚ã€‚å»ºè®®å°†å·¥å‚ç±»æ”¾åœ¨ç»„ä»¶ç±»ä¸­ã€‚</T></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">StatusBar</span> : <span class="title">VisualElement</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StatusBar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        m_Status = String.Empty;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">string</span> m_Status;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> status &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    public new class UxmlFactory : UxmlFactory&lt;StatusBar&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰äº†è¿™ä¸ªå·¥å‚ä¹‹åï¼Œå¯ä»¥åœ¨UXMLæ–‡ä»¶ä¸­ä½¿ç”¨&lt;StatusBar&gt;å…ƒç´ ã€‚</p><h2 id="æ·»åŠ å…ƒç´ "><a href="#æ·»åŠ å…ƒç´ " class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h2><p>å¯ä»¥ä¸ºä¸€ä¸ªæ–°ç±»å®šä¹‰UXMLç‰¹å¾ï¼Œå¹¶è®¾ç½®å®ƒçš„å·¥å‚æ¥ä½¿ç”¨è¿™äº›ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å®šä¹‰ä¸€ä¸ªUXML traitsç±»ï¼Œå°†statuså±æ€§åˆå§‹åŒ–ä¸ºStatusBarç±»çš„å±æ€§ã€‚statuså±æ€§æ˜¯ä»XMLæ•°æ®åˆå§‹åŒ–çš„ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">StatusBar</span> : <span class="title">VisualElement</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StatusBar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        m_Status = String.Empty;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">string</span> m_Status;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> status &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    public new class UxmlFactory : UxmlFactory&lt;StatusBar, UxmlTraits&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†UxmlTraitsç±»æ”¾åœ¨StatusBarç±»ä¸­ï¼ŒInit()æ–¹æ³•å¯ä»¥è®¿é—®StatusBarçš„ç§æœ‰æˆå‘˜ã€‚</span></span><br><span class="line">    public new class UxmlTraits : VisualElement.UxmlTraits</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªå˜é‡åm_Statusåˆå§‹å€¼ä¸ºstatusçš„UXMLå±æ€§</span></span><br><span class="line">        UxmlStringAttributeDescription m_Status = <span class="keyword">new</span> UxmlStringAttributeDescription &#123; name = <span class="string">"status"</span> &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">override</span> IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿”å›ä¸€ä¸ªç©ºçš„IEnumerableï¼Œè¡¨ç¤ºStatusBarä¸å…è®¸åŒ…å«å­å…ƒç´ </span></span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">yield</span> <span class="keyword">break</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params">VisualElement ve, IUxmlAttributes bag, CreationContext cc</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//è°ƒç”¨base.Init()æ¥åˆå§‹åŒ–åŸºç±»å±æ€§ã€‚</span></span><br><span class="line">            <span class="keyword">base</span>.Init(ve, bag, cc);</span><br><span class="line">            <span class="comment">//ä»UXMLè§£æå™¨ä¸­è¯»å–å±æ€§åŒ…ä¸­statuså±æ€§çš„å€¼å¹¶è®¾ç½®statuså±æ€§è®¾ç½®ä¸ºè¯¥å€¼ã€‚</span></span><br><span class="line">            <span class="comment">//å°†å…ƒç´ çš„statusåˆå§‹åŒ–ä¸ºm_Statusçš„å€¼ï¼Œä¹Ÿå°±æ˜¯"status"</span></span><br><span class="line">            ((StatusBar)ve).status = m_Status.GetValueFromBag(bag, cc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UxmlTraitsæœ‰ä¸¤ä¸ªç”¨é€”:å·¥å‚ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚æ¨¡å¼ç”Ÿæˆè¿‡ç¨‹å¯¹å…¶è¿›è¡Œåˆ†æï¼Œä»¥è·å¾—å…³äºå…ƒç´ çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯è¢«è½¬æ¢æˆXMLæ¨¡å¼æŒ‡ä»¤ã€‚</p><p>ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä½¿ç”¨UxmlStringAttributeDescriptionç±»å£°æ˜äº†ä¸€ä¸ªstringå±æ€§ã€‚<br>UIElementsæ”¯æŒä»¥ä¸‹ç±»å‹çš„å±æ€§ï¼Œæ¯ä¸ªéƒ½å°†c#ç±»å‹é“¾æ¥åˆ°UXMLç±»å‹</p><table><thead><tr><th>Attribute</th><th>Attribute Value Type</th></tr></thead><tbody><tr><td>UxmlStringAttributeDescription</td><td>String</td></tr><tr><td>UxmlFloatAttributeDescription</td><td>Float</td></tr><tr><td>UxmlDoubleAttributeDescription</td><td>Double</td></tr><tr><td>UxmlIntAttributeDescription</td><td>Int</td></tr><tr><td>UxmlLongAttributeDescription</td><td>Long</td></tr><tr><td>UxmlBoolAttributeDescription</td><td>Bool</td></tr><tr><td>UxmlColorAttributeDescription</td><td>Color</td></tr><tr><td>UxmlEnumAttributeDescription&lt;T&gt;</td><td>Enum</td></tr></tbody></table><p>è¦ä½¿å…ƒç´ æ¥å—ä»»ä½•ç±»å‹çš„å­å…ƒç´ ï¼Œå¿…é¡»é‡å†™uxmlChildElementsDescriptionå±æ€§ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿StatusBarå…ƒç´ æ¥å—ä»»ä½•ç±»å‹çš„å­å…ƒç´ ï¼Œå¿…é¡»æŒ‡å®šuxmlChildElementsDescriptionå±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">override</span> IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">yield</span> return new <span class="title">UxmlChildElementDescription</span>(<span class="params"><span class="keyword">typeof</span>(VisualElement</span>))</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®šä¹‰å‘½åç©ºé—´"><a href="#å®šä¹‰å‘½åç©ºé—´" class="headerlink" title="å®šä¹‰å‘½åç©ºé—´"></a>å®šä¹‰å‘½åç©ºé—´</h2><p>åœ¨c#ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå°±å¯ä»¥å¼€å§‹åœ¨UXMLæ–‡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªå…ƒç´ äº†ã€‚å¦‚æœæ–°å…ƒç´ æ˜¯åœ¨ä¸€ä¸ªæ–°çš„åç§°ç©ºé—´ä¸­å®šä¹‰çš„ï¼Œé‚£ä¹ˆåº”è¯¥ä¸ºè¯¥åç§°ç©ºé—´å®šä¹‰ä¸€ä¸ªå‰ç¼€ã€‚å‘½åç©ºé—´å‰ç¼€è¢«å£°æ˜ä¸ºæ ¹&lt;UXML&gt;å…ƒç´ çš„å±æ€§ï¼Œå¹¶åœ¨é™å®šå…ƒç´ ä½œç”¨åŸŸæ—¶æ›¿æ¢å®Œæ•´çš„å‘½åç©ºé—´åç§°ã€‚</p><p>ä¾‹å¦‚å°†StatusBaræ”¾åˆ°MyVisualElementå‘½åç©ºé—´ä¸‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor.UIElements;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UIElements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyVisualElement</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">StatusBar</span> : <span class="title">VisualElement</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//...çœç•¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆUXMLä¸­ä½¿ç”¨Statuså…ƒç´ æ˜¯ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ­¤å¤„è¦å†™å®Œæ•´çš„å‘½åç©ºé—´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MyVisualElement.StatusBar</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h1><h2 id="è‡ªå®šä¹‰UXML-name"><a href="#è‡ªå®šä¹‰UXML-name" class="headerlink" title="è‡ªå®šä¹‰UXML name"></a>è‡ªå®šä¹‰UXML name</h2><p>å¯ä»¥è‡ªå®šä¹‰UXMLåç§°é€šè¿‡é‡å†™IUxmlFactory.uxmlNameå’ŒIUXmlFactory.uxmlQualifiedNameå±æ€§ã€‚ç¡®ä¿uxmlNameåœ¨å‘½åç©ºé—´ä¸­æ˜¯å”¯ä¸€çš„ï¼ŒuxmlQualifiedNameåœ¨é¡¹ç›®ä¸­æ˜¯å”¯ä¸€çš„ã€‚å¦‚æœä¸¤ä¸ªåç§°éƒ½ä¸å”¯ä¸€ï¼Œåˆ™åœ¨å°è¯•åŠ è½½ç¨‹åºé›†æ—¶ä¼šå¼•å‘å¼‚å¸¸ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class FactoryWithCustomName : UxmlFactory&lt;..., ...&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> uxmlName</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="string">"UniqueName"</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> uxmlQualifiedName</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> uxmlNamespace + <span class="string">"."</span> + uxmlName; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ºå…ƒç´ é€‰æ‹©å·¥å‚"><a href="#ä¸ºå…ƒç´ é€‰æ‹©å·¥å‚" class="headerlink" title="ä¸ºå…ƒç´ é€‰æ‹©å·¥å‚"></a>ä¸ºå…ƒç´ é€‰æ‹©å·¥å‚</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒIUxmlFactoryå®ä¾‹åŒ–ä¸€ä¸ªå…ƒç´ å¹¶ä½¿ç”¨å…ƒç´ çš„åç§°é€‰æ‹©è¯¥å…ƒç´ ã€‚</p><p>å¯ä»¥é€šè¿‡é‡å†™IUXmlFactory.AcceptsAttributeBagä½¿é€‰æ‹©è¿‡ç¨‹è€ƒè™‘å…ƒç´ ä¸Šçš„å±æ€§å€¼ã€‚ç„¶åï¼Œå·¥å‚å°†æ£€æŸ¥å…ƒç´ å±æ€§ï¼Œä»¥å†³å®šæ˜¯å¦å¯ä»¥ä¸ºUXMLå…ƒç´ å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</p><p>å¦‚æœVisualElementç±»æ˜¯æ³›å‹çš„ï¼Œè¿™å°±å¾ˆæœ‰ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨äºä¸“é—¨åŒ–ç±»çš„ç±»å·¥å‚å¯ä»¥æ£€æŸ¥XMLç±»å‹å±æ€§çš„å€¼ã€‚æ ¹æ®å€¼çš„ä¸åŒï¼Œå¯ä»¥æ¥å—æˆ–æ‹’ç»å®ä¾‹åŒ–ã€‚</p><p>åœ¨æœ‰å¤šä¸ªå·¥å‚å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªæ³¨å†Œçš„å·¥å‚ã€‚</p><h2 id="é‡å†™åŸºç±»å…ƒç´ å±æ€§çš„é»˜è®¤å€¼"><a href="#é‡å†™åŸºç±»å…ƒç´ å±æ€§çš„é»˜è®¤å€¼" class="headerlink" title="é‡å†™åŸºç±»å…ƒç´ å±æ€§çš„é»˜è®¤å€¼"></a>é‡å†™åŸºç±»å…ƒç´ å±æ€§çš„é»˜è®¤å€¼</h2><p>é€šè¿‡åœ¨æ´¾ç”Ÿçš„UxmlTraitsç±»ä¸­è®¾ç½®å…¶defaultValueæ¥æ›´æ”¹åŸºç±»ä¸­å£°æ˜çš„å±æ€§çš„é»˜è®¤å€¼ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class MyElementTraits : VisualElement.UxmlTraits</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyElementTraits</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//æ›´æ”¹m TabIndexçš„é»˜è®¤å€¼ä¸º0</span></span><br><span class="line">        m_TabIndex.defaultValue = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¥å—ä»»ä½•å±æ€§"><a href="#æ¥å—ä»»ä½•å±æ€§" class="headerlink" title="æ¥å—ä»»ä½•å±æ€§"></a>æ¥å—ä»»ä½•å±æ€§</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„XMLæ¨¡å¼å£°æ˜å…ƒç´ å¯ä»¥å…·æœ‰ä»»ä½•å±æ€§ã€‚</p><p>é™¤äº†åœ¨UxmlTraitsç±»ä¸­å£°æ˜çš„å±æ€§å€¼ä¹‹å¤–ï¼Œå…¶ä»–å±æ€§çš„å€¼ä¸å—é™åˆ¶ã€‚è¿™ä¸XMLéªŒè¯å™¨ç›¸åï¼ŒXMLéªŒè¯å™¨æ£€æŸ¥å£°æ˜çš„å±æ€§å€¼æ˜¯å¦ä¸å…¶å£°æ˜ç›¸åŒ¹é…ã€‚</p><p>é¢å¤–çš„å±æ€§åŒ…å«åœ¨IUxmlAttributesåŒ…ä¸­ï¼Œè¯¥åŒ…ä¼ é€’ç»™IUxmlFactory.AcceptsAttributBag()å’ŒIUxmlFactory.Init()å‡½æ•°ã€‚å·¥å‚å®ç°å†³å®šæ˜¯å¦ä½¿ç”¨è¿™äº›é™„åŠ å±æ€§ã€‚é»˜è®¤è¡Œä¸ºæ˜¯æ”¾å¼ƒé™„åŠ å±æ€§ã€‚</p><p>å¦‚æœæ”¾å¼ƒé™„åŠ å±æ€§ï¼Œå°±æ„å‘³ç€è¿™äº›é™„åŠ å±æ€§æ²¡æœ‰é™„åŠ åˆ°å®ä¾‹åŒ–çš„VisualElementï¼Œå¹¶ä¸”è¿™äº›atttibuteä¸èƒ½ç”¨UQueryæŸ¥è¯¢ã€‚</p><p>åœ¨å®šä¹‰æ–°å…ƒç´ æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®UxmlTraitså°†æ¥å—çš„å±æ€§é™åˆ¶ä¸ºé‚£äº›æ˜¾å¼å£°æ˜çš„å±æ€§ï¼Œ<br>åœ¨UxmlTraitsæ„é€ å‡½æ•°ä¸­å°†anyattributeå±æ€§è®¾ä¸ºfalseå³å¯ã€‚</p><h1 id="è‡ªå®šä¹‰å…ƒç´ æ¡ˆä¾‹"><a href="#è‡ªå®šä¹‰å…ƒç´ æ¡ˆä¾‹" class="headerlink" title="è‡ªå®šä¹‰å…ƒç´ æ¡ˆä¾‹"></a>è‡ªå®šä¹‰å…ƒç´ æ¡ˆä¾‹</h1><p>ä»¥ä¸‹ä»£ç å®ç°åŒ…å«8ç§æ•°æ®ç±»å‹çš„VisualElementã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEditor.UIElements;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UIElements;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘½åç©ºé—´</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyVisualElement</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰å…ƒç´ ç±»</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">CustomVisualElement</span> : <span class="title">VisualElement</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æšä¸¾</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">enum</span> Existance</span><br><span class="line">        &#123;</span><br><span class="line">            None,</span><br><span class="line">            Good,</span><br><span class="line">            Bad</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//8ç§æ•°æ®ç±»å‹çš„å±æ€§</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> stringAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">float</span> floatAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">double</span> doubleAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> intAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">long</span> longAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">bool</span> boolAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Color colorAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Existance enumAttr &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å·¥å‚</span></span><br><span class="line">        public new class UxmlFactory : UxmlFactory&lt;CustomVisualElement, UxmlTraits&gt;</span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä½¿ç”¨UxmlTraitsåˆå§‹åŒ–æ–°åˆ›å»ºçš„å…ƒç´ å¯¹è±¡</span></span><br><span class="line">        public new class UxmlTraits : VisualElement.UxmlTraits</span><br><span class="line">        &#123;</span><br><span class="line">            UxmlStringAttributeDescription m_String = <span class="keyword">new</span> UxmlStringAttributeDescription &#123;name = <span class="string">"string-attr"</span>, defaultValue = <span class="string">"default_value"</span>&#125;;</span><br><span class="line">            UxmlFloatAttributeDescription m_Float = <span class="keyword">new</span> UxmlFloatAttributeDescription &#123;name = <span class="string">"float-attr"</span>, defaultValue = <span class="number">0.1f</span>&#125;;</span><br><span class="line">            UxmlDoubleAttributeDescription m_Double = <span class="keyword">new</span> UxmlDoubleAttributeDescription &#123;name = <span class="string">"double-attr"</span>, defaultValue = <span class="number">0.1</span>&#125;;</span><br><span class="line">            UxmlIntAttributeDescription m_Int = <span class="keyword">new</span> UxmlIntAttributeDescription &#123;name = <span class="string">"int-attr"</span>, defaultValue = <span class="number">2</span>&#125;;</span><br><span class="line">            UxmlLongAttributeDescription m_Long = <span class="keyword">new</span> UxmlLongAttributeDescription &#123;name = <span class="string">"long-attr"</span>, defaultValue = <span class="number">3</span>&#125;;</span><br><span class="line">            UxmlBoolAttributeDescription m_Bool = <span class="keyword">new</span> UxmlBoolAttributeDescription &#123;name = <span class="string">"bool-attr"</span>, defaultValue = <span class="literal">false</span>&#125;;</span><br><span class="line">            UxmlColorAttributeDescription m_Color = <span class="keyword">new</span> UxmlColorAttributeDescription &#123;name = <span class="string">"color-attr"</span>, defaultValue = Color.red&#125;;</span><br><span class="line">            UxmlEnumAttributeDescription&lt;Existance&gt; m_Enum = <span class="keyword">new</span> UxmlEnumAttributeDescription&lt;Existance&gt; &#123;name = <span class="string">"enum-attr"</span>, defaultValue = Existance.Bad&#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è¯¥è‡ªå®šä¹‰çš„å…ƒç´  æ— å­å…ƒç´ </span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">override</span> IEnumerable&lt;UxmlChildElementDescription&gt; uxmlChildElementsDescription</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">get</span> &#123; <span class="keyword">yield</span> <span class="keyword">break</span>; &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params">VisualElement ve, IUxmlAttributes bag, CreationContext cc</span>)</span></span><br><span class="line"><span class="function"></span>            &#123;</span><br><span class="line">                <span class="keyword">base</span>.Init(ve, bag, cc);</span><br><span class="line">                <span class="keyword">var</span> ate = ve <span class="keyword">as</span> CustomVisualElement;</span><br><span class="line"></span><br><span class="line">                ate.Clear();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//æ·»åŠ 8ä¸ªå±æ€§å¯¹åº”çš„Fieldï¼Œä»¥åŠåˆå§‹åŒ–é»˜è®¤å€¼</span></span><br><span class="line">                ate.stringAttr = m_String.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> TextField(<span class="string">"String"</span>) &#123;<span class="keyword">value</span> = ate.stringAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.floatAttr = m_Float.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> FloatField(<span class="string">"Float"</span>) &#123;<span class="keyword">value</span> = ate.floatAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.doubleAttr = m_Double.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> DoubleField(<span class="string">"Double"</span>) &#123;<span class="keyword">value</span> = ate.doubleAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.intAttr = m_Int.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> IntegerField(<span class="string">"Integer"</span>) &#123;<span class="keyword">value</span> = ate.intAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.longAttr = m_Long.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> LongField(<span class="string">"Long"</span>) &#123;<span class="keyword">value</span> = ate.longAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.boolAttr = m_Bool.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> Toggle(<span class="string">"Toggle"</span>) &#123;<span class="keyword">value</span> = ate.boolAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.colorAttr = m_Color.GetValueFromBag(bag, cc);</span><br><span class="line">                ate.Add(<span class="keyword">new</span> ColorField(<span class="string">"Color"</span>) &#123;<span class="keyword">value</span> = ate.colorAttr&#125;);</span><br><span class="line"></span><br><span class="line">                ate.enumAttr = m_Enum.GetValueFromBag(bag, cc);</span><br><span class="line">                <span class="keyword">var</span> en = <span class="keyword">new</span> EnumField(<span class="string">"Enum"</span>);</span><br><span class="line">                en.Init(m_Enum.defaultValue);</span><br><span class="line">                en.<span class="keyword">value</span> = ate.enumAttr;</span><br><span class="line">                ate.Add(en);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UXMLï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--C#å…ƒç´ ç±»å®šä¹‰äº†å‘½åç©ºé—´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MyVisualElement.CustomVisualElement</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><p>UXMLä¸­ä¹Ÿå¯ä»¥ç›´æ¥å®šä¹‰å±æ€§å€¼ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--C#å…ƒç´ ç±»å®šä¹‰äº†å‘½åç©ºé—´--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸¾ä¾‹è¯´æ˜ï¼šstring-attr å¾—è·ŸUxmlTraitsä¸­å®šä¹‰çš„UxmlAttributeDescriptionçš„nameä¿æŒä¸€è‡´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MyVisualElement.CustomVisualElement</span></span></span><br><span class="line"><span class="tag">        <span class="attr">string-attr</span>=<span class="string">"my-string"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">float-attr</span>=<span class="string">"4.2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">double-attr</span>=<span class="string">"4.3"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">int-attr</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">long-attr</span>=<span class="string">"423"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">bool-attr</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">color-attr</span>=<span class="string">"#CA7C03FF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">enum-attr</span>=<span class="string">"Good"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><p>C# Load Code:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> customElement = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;(<span class="string">"Assets/Editor/CustomElement.uxml"</span>);</span><br><span class="line">root.Add(customElement.CloneTree());</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gevhalynx7j30ne0dmt8p.jpg" alt="è‡ªå®šä¹‰å…ƒç´ ç¤ºæ„å›¾"></p><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><div class="note info">            <p><a href="https://docs.unity3d.com/Manual/UIE-UXML.html" target="_blank" rel="noopener">è‡ªå®šä¹‰å…ƒç´ å®˜æ–¹æ–‡æ¡£</a><br><a href="https://forum.unity.com/threads/ui-builder-and-custom-elements.785129/" target="_blank" rel="noopener">å®˜æ–¹è®ºå›è®¨è®ºï¼šå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ï¼Ÿ</a></p>          </div><div class="note info">            <p>æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« <del>~</del></p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UIElement </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIElement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[UIElementå…¥é—¨]:3.Layout Engine</title>
      <link href="/2020/05/13/uielement-ru-men-3-layout-engine/"/>
      <url>/2020/05/13/uielement-ru-men-3-layout-engine/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜‰</p>          </div><a id="more"></a><div class="note primary no-icon">            <p><a href="https://docs.unity3d.com/Manual/UIElements.html" target="_blank" rel="noopener">UIElementå®˜æ–¹æ–‡æ¡£</a></p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1</p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼š<br><a href="https://www.jingfengji.tech/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/">UIElement : EditorWindowç®€å•ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/">UIElement : UXMLå…ƒç´ ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/12/uielement-ru-men-2-uquery-jie-shao/">UIElement : UQueryä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/13/uielement-ru-men-3-layout-engine/">UIElement : Layout Engine</a><br><a href="https://www.jingfengji.tech/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/">UIElement : è‡ªå®šä¹‰å…ƒç´ </a><br>åç»­å¾…æ›´æ–°å†…å®¹ï¼š<br><a>UIElement : Editor Demo Quick Tool</a><br><a>UIElement : Layout Engine YogaLayout</a><br><a>UIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»</a><br><a>UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickTool</a><br><a>UIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æ¶çš„AssetBundlBuilder</a><br><a>UIElement : Runtime Demo Tank</a></p>          </div><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>UIElementsä½¿ç”¨Yogaå¸ƒå±€å¼•æ“æ ¹æ®å¸ƒå±€å’Œæ ·å¼å±æ€§æ¥å®šä¹‰UIã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¸ƒå±€çš„ä¸€éƒ¨åˆ†ï¼Œå¸ƒå±€å…·æœ‰ä»¥ä¸‹é»˜è®¤è¡Œä¸ºï¼š</p><ul><li>å®¹å™¨å‚ç›´åˆ†å¸ƒå…¶å­å…ƒç´ </li><li>å®¹å™¨çŸ©å½¢çš„ä½ç½®åŒ…æ‹¬å…¶å­çŸ©å½¢ï¼Œæ­¤è¡Œä¸ºå¯èƒ½å—åˆ°å…¶ä»–å¸ƒå±€å±æ€§çš„é™åˆ¶ã€‚</li><li>å…·æœ‰æ–‡æœ¬çš„å…ƒç´ åœ¨å…¶å¤§å°è®¡ç®—ä¸­ä½¿ç”¨æ–‡æœ¬å¤§å°ï¼Œæ­¤è¡Œä¸ºå¯èƒ½å—åˆ°å…¶ä»–å¸ƒå±€å±æ€§çš„é™åˆ¶ã€‚</li></ul><h1 id="Layout-Engine"><a href="#Layout-Engine" class="headerlink" title="Layout Engine"></a>Layout Engine</h1><div class="note info">            <p><a href="https://yogalayout.com/docs" target="_blank" rel="noopener">Yoga Layout å®˜æ–¹æ–‡æ¡£</a></p>          </div><h2 id="Position"><a href="#Position" class="headerlink" title="Position"></a>Position</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geryt2bpcdj30pq07adg1.jpg" alt="UIBuilderä¸­çš„Positionå±æ€§ç¤ºæ„å›¾"></p><p>Positionåˆ†ä¸ºRelative/Absolute:</p><ul><li>Relativeï¼šç›¸å¯¹å®šä½ã€‚å…ƒç´ æ ¹æ®å¸ƒå±€çš„æ­£å¸¸æµç¨‹è¿›è¡Œå®šä½ï¼Œç„¶åæ ¹æ®é¡¶éƒ¨ã€å³ä¾§ã€åº•éƒ¨å’Œå·¦ä¾§çš„å€¼ç›¸å¯¹äºè¯¥ä½ç½®è¿›è¡Œåç§»ã€‚åç§»é‡ä¸å½±å“ä»»ä½•åŒçº§æˆ–çˆ¶å…ƒç´ çš„ä½ç½®ã€‚</li><li>Absoluteï¼šç»å¯¹å®šä½ã€‚å½“å…ƒç´ è¢«ç»å¯¹å®šä½æ—¶ï¼Œå®ƒä¸å‚ä¸å¸¸è§„å¸ƒå±€æµã€‚ç›¸åï¼Œå®ƒæ˜¯ç‹¬ç«‹äºå®ƒçš„å…„å¼Ÿå§å¦¹è€Œè®¾è®¡çš„ã€‚ä½ç½®æ˜¯æ ¹æ®é¡¶éƒ¨ã€å³ä¾§ã€åº•éƒ¨å’Œå·¦ä¾§å€¼ç¡®å®šçš„ã€‚</li></ul><p>Leftã€Topã€Rightã€Bottomè¿™ä¸ªå€¼æ˜¯ç”¨æ¥ä½¿ç”¨Absoluteæˆ–è€…Relative Layoutåå¯¹å…ƒç´ ä½ç½®è¿›è¡Œåç§»çš„ã€‚</p><h2 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h2><h3 id="Flex-Direction"><a href="#Flex-Direction" class="headerlink" title="Flex Direction"></a>Flex Direction</h3><p>Flexæ–¹å‘æ§åˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¸ƒå±€çš„æ–¹å‘ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºä¸»è½´ã€‚ä¸»è½´æ˜¯å­å…ƒç´ æ‘†æ”¾çš„æ–¹å‘ã€‚æ¨ªè½´:å‚ç›´äºä¸»è½´çš„è½´ã€‚<br>FlexDirectionæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œåœ¨UnityEngine.UIElementså‘½åç©ºé—´ä¸‹ã€‚</p><ul><li>Columnï¼šä»ä¸Šåˆ°ä¸‹æ’åˆ—å­å…ƒç´ ã€‚å¦‚æœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†ä»å®¹å™¨é¡¶éƒ¨å·¦ä¾§çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚</li><li>ColumnReverseï¼šè®©å­©å­ä»¬ä»ä¸‹åˆ°ä¸Šå¯¹é½ã€‚å¦‚æœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†ä»å®¹å™¨åº•éƒ¨å·¦è¾¹çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚</li><li>Rowï¼šè®©å­å…ƒç´ ä»å·¦åˆ°å³å¯¹é½ã€‚å¦‚æœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†åœ¨å®¹å™¨å·¦è¾¹çš„ç¬¬ä¸€é¡¹å¼€å§‹ã€‚</li><li>RowReverseï¼šè®©å­©å­ä»¬ä»å³å‘å·¦å¯¹é½ã€‚å¦‚æœå¯ç”¨äº†æ¢è¡Œï¼Œé‚£ä¹ˆä¸‹ä¸€è¡Œå°†åœ¨å®¹å™¨å³ä¾§çš„ç¬¬ä¸€é¡¹ä¸‹å¼€å§‹ã€‚</li></ul><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ges4i2813jj30d401o0si.jpg" alt="UIBuilderä¸­çš„Flex Directionå±æ€§ç¤ºæ„å›¾"></p><p>ä¾æ¬¡æ˜¯ä»ä¸Šåˆ°ä¸‹ã€ä»ä¸‹åˆ°ä¸Šã€ä»å·¦åˆ°å³ã€ä»å³åˆ°å·¦</p><h3 id="Flex-Wrap"><a href="#Flex-Wrap" class="headerlink" title="Flex Wrap"></a>Flex Wrap</h3><p>åœ¨å®¹å™¨ä¸Šè®¾ç½®flex wrapå±æ€§ï¼Œå¹¶æ§åˆ¶å½“å­å…ƒç´ æ²¿ä¸»è½´æº¢å‡ºå®¹å™¨çš„å¤§å°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå­å…ƒç´ è¢«å¼ºåˆ¶æ”¾åˆ°ä¸€è¡Œä¸­(è¿™ä¸€è¡Œå¯ä»¥æ”¶ç¼©å…ƒç´ )ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gesabtn687j30bg01swe9.jpg" alt></p><ul><li>No Wrapï¼šå°†å­å…ƒç´ æ”¾åœ¨ä¸€è¡Œ</li><li>Wrapï¼šæ²¿ä¸»è½´å°†å­å…ƒç´ æ”¾åœ¨å¤šè¡Œï¼Œä¹Ÿå°±æ˜¯å…è®¸æ¢è¡Œã€‚</li><li>Wrap Reverseï¼šå…è®¸æ¢è¡Œï¼Œæ¢è¡Œçš„é¡ºåºè·ŸWrapæ˜¯ç›¸åçš„ã€‚</li></ul><h2 id="Align"><a href="#Align" class="headerlink" title="Align"></a>Align</h2><p>Alignæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œåœ¨UnityEngine.UIElementså‘½åç©ºé—´ä¸‹ã€‚</p><ul><li>Autoï¼šè®©Flexå±æ€§å†³å®šå¸ƒå±€</li><li>FlexStartï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„èµ·ç‚¹</li><li>Centerï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„ä¸­å¿ƒã€‚</li><li>FlexEndï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨æ¨ªè½´çš„æœ«ç«¯ã€‚</li><li>Stretchï¼šæ‹‰ä¼¸å®¹å™¨çš„å­å…ƒç´ ä»¥åŒ¹é…å®¹å™¨çš„æ¨ªè½´çš„é«˜åº¦ã€‚</li></ul><h3 id="Align-Items"><a href="#Align-Items" class="headerlink" title="Align Items"></a>Align Items</h3><p>å¦‚ä½•åœ¨å®¹å™¨çš„æ¨ªè½´ä¸Šå¯¹é½å­å…ƒç´ </p><h3 id="Justify-Content"><a href="#Justify-Content" class="headerlink" title="Justify Content"></a>Justify Content</h3><p>å­å…ƒç´ åœ¨å®¹å™¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼</p><ul><li>FlexStartï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„å¼€å§‹ä½ç½®ã€‚</li><li>Centerï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„ä¸­å¿ƒã€‚</li><li>FlexEndï¼šå°†å®¹å™¨çš„å­å…ƒç´ å¯¹é½åˆ°å®¹å™¨ä¸»è½´çš„æœ«ç«¯ã€‚</li><li>SpaceBetweenï¼šåœ¨å®¹å™¨çš„ä¸»è½´ä¸Šå‡åŒ€åœ°åˆ’åˆ†å­©å­çš„ç©ºé—´ï¼Œåœ¨å­©å­ä¹‹é—´åˆ†é…å‰©ä½™çš„ç©ºé—´ã€‚</li><li>SpaceAroundï¼šåœ¨å®¹å™¨çš„ä¸»è½´çº¿ä¸Šå‡åŒ€åœ°åˆ†å¸ƒå­å…ƒç´ ç©ºé—´ï¼Œå°†å‰©ä½™çš„ç©ºé—´åˆ†å¸ƒåœ¨å­å…ƒç´ å‘¨å›´ã€‚ä¸ç©ºé—´ç›¸æ¯”ï¼Œä½¿ç”¨å‘¨å›´çš„ç©ºé—´ä¼šå¯¼è‡´ç©ºé—´è¢«åˆ†é…åˆ°ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„å¼€å§‹å’Œæœ€åä¸€ä¸ªå­å…ƒç´ çš„ç»“æŸã€‚</li></ul><h2 id="Size"><a href="#Size" class="headerlink" title="Size"></a>Size</h2><p>widthå’Œheightæ˜¯è®¾ç½®å…ƒç´ çš„å›ºå®šå®½é«˜ï¼›<br>maxWidthå’ŒmaxHeightæ˜¯è®¾ç½®å…ƒç´ çš„æœ€å¤§å®½é«˜ï¼›<br>minWidthå’ŒminHeightæ˜¯è®¾ç½®å…ƒç´ çš„æœ€å°å®½é«˜ã€‚</p><h2 id="Margin-amp-Padding-amp-Border"><a href="#Margin-amp-Padding-amp-Border" class="headerlink" title="Margin &amp; Padding &amp; Border"></a>Margin &amp; Padding &amp; Border</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gescof5raaj30cg07ya9y.jpg" alt></p><h3 id="Margin-å¤–è¾¹è·"><a href="#Margin-å¤–è¾¹è·" class="headerlink" title="Margin(å¤–è¾¹è·)"></a>Margin(å¤–è¾¹è·)</h3><p>å½±å“èŠ‚ç‚¹å¤–éƒ¨çš„é—´è·ã€‚å¸¦æœ‰marginçš„èŠ‚ç‚¹å°†ä»å…¶çˆ¶èŠ‚ç‚¹çš„ç•Œé™ä¸­åç§»è‡ªèº«ï¼Œä½†ä¹Ÿä¼šåç§»ä»»ä½•å…„å¼ŸèŠ‚ç‚¹çš„ä½ç½®ã€‚å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯è‡ªåŠ¨è°ƒæ•´å¤§å°çš„ï¼Œåˆ™èŠ‚ç‚¹çš„è¾¹è·ä¼šå½±å“å…¶çˆ¶èŠ‚ç‚¹çš„æ€»å¤§å°ã€‚</p><h3 id="Padding-å†…è¾¹è·"><a href="#Padding-å†…è¾¹è·" class="headerlink" title="Padding(å†…è¾¹è·))"></a>Padding(å†…è¾¹è·))</h3><p>å¦‚æœå…ƒç´ æœ‰æ˜¾å¼çš„å¤§å°è®¾ç½®ï¼Œå¡«å……å°†ä¸ä¼šæ·»åŠ åˆ°å…ƒç´ çš„æ€»å¤§å°ä¸­ã€‚å¯¹äºè‡ªåŠ¨è°ƒæ•´å¤§å°çš„èŠ‚ç‚¹ï¼Œå¡«å……å°†å¢åŠ èŠ‚ç‚¹çš„å¤§å°ï¼Œå¹¶åç§»ä»»ä½•å­èŠ‚ç‚¹çš„ä½ç½®ã€‚</p><h3 id="Border-è¾¹æ¡†"><a href="#Border-è¾¹æ¡†" class="headerlink" title="Border(è¾¹æ¡†)"></a>Border(è¾¹æ¡†)</h3><p>è¾¹æ¡†ä¹Ÿå°±æ˜¯å…ƒç´ çš„å››æ¡è¾¹ï¼Œå¯ä»¥è®¾ç½®è¾¹æ¡†çš„åšåº¦ã€é¢œè‰²ã€ä»¥åŠå››ä¸ªè§’çš„åœ†è§’åŠå¾„ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gescrump8fj30gg0jiq2z.jpg" alt></p><div class="note info">            <p>æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« <del>~</del></p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UIElement </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIElement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[UIElementå…¥é—¨]:2.UQueryä»‹ç»</title>
      <link href="/2020/05/12/uielement-ru-men-2-uquery-jie-shao/"/>
      <url>/2020/05/12/uielement-ru-men-2-uquery-jie-shao/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜‰</p>          </div><a id="more"></a><div class="note primary no-icon">            <p><a href="https://docs.unity3d.com/Manual/UIElements.html" target="_blank" rel="noopener">UIElementå®˜æ–¹æ–‡æ¡£</a></p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1</p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼š<br><a href="https://www.jingfengji.tech/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/">UIElement : EditorWindowç®€å•ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/">UIElement : UXMLå…ƒç´ ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/12/uielement-ru-men-2-uquery-jie-shao/">UIElement : UQueryä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/13/uielement-ru-men-3-layout-engine/">UIElement : Layout Engine</a><br><a href="https://www.jingfengji.tech/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/">UIElement : è‡ªå®šä¹‰å…ƒç´ </a><br>åç»­å¾…æ›´æ–°å†…å®¹ï¼š<br><a>UIElement : Editor Demo Quick Tool</a><br><a>UIElement : Layout Engine YogaLayout</a><br><a>UIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»</a><br><a>UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickTool</a><br><a>UIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æ¶çš„AssetBundlBuilder</a><br><a>UIElement : Runtime Demo Tank</a></p>          </div><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>é¦–å…ˆæˆ‘ä»¬æ¥ç†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆå®˜æ–¹æä¾›UQueryè¿™ä¸€å¥—ä¸œè¥¿ã€‚<br>UQueryæ˜¯ä¸€ç»„æ‰©å±•æ–¹æ³•ï¼Œå…è®¸æ‚¨åœ¨å¤æ‚çš„å±‚æ¬¡ç»“æ„ä¸­é€‰æ‹©å•ç‹¬çš„æˆ–é›†åˆçš„visualelementã€‚ä¸ºäº†ä»ä»»ä½•UIElementså…ƒç´ å¯è§†æ ‘ä¸­æ£€ç´¢ä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸šåŠ¡é€»è¾‘ä¸­æƒ³è¦çš„å…ƒç´ ï¼Œæä¾›çš„UQueryè¿™ä¸€ç»„æ‹“å±•æ–¹æ³•ã€‚å®˜æ–¹è§£é‡Šè¯´UQueryåŸºäºJQueryï¼Œé‚£ä¹ˆä»JQueryå…¥æ‰‹æ¥ç†è§£ä¸€ä¸‹åŸç†ã€‚å­¦è¿‡å‰ç«¯çš„åŒå­¦åº”è¯¥éƒ½æ¸…æ¥šJQueryçš„ç”¨æ³•ï¼ˆæˆ‘æ²¡å­¦è¿‡ï¼Œè¿™é‡Œç°å­¦ç°ç”¨ä¸€ä¸‹ğŸ¤£ğŸ¤£ğŸ¤£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·è§è°…ï¼‰ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯JQueryï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯JQueryï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯JQueryï¼Ÿ"></a>ä»€ä¹ˆæ˜¯JQueryï¼Ÿ</h2><p>JQueryæ˜¯ä¸€ä¸ªè½»é‡çº§çš„JavaScriptå‡½æ•°åº“ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>HTMLå…ƒç´ é€‰å–</li><li>HTMLå…ƒç´ æ“ä½œ</li><li>CSSæ“ä½œ</li><li>HTMLäº‹ä»¶å‡½æ•°</li><li>JavaScriptç‰¹æ•ˆå’ŒåŠ¨ç”»</li><li>HTML DOMéå†å’Œä¿®æ”¹</li><li>AJAX</li><li>Utilities</li></ul><p>ç²—ç•¥çœ‹æ¥ï¼ŒJQueryå¯ä»¥æ£€ç´¢åˆ°HTMLä¸­çš„å…ƒç´ å¹¶è¿›è¡Œæ“ä½œï¼Œè¿™è·ŸUQueryæä¾›çš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè‡³äºJQueryæä¾›çš„åˆ«çš„åŠŸèƒ½ï¼ŒUQueryä»¥åçš„å‘å±•ç›®å‰ä¸å¾—è€ŒçŸ¥ã€‚</p><h2 id="ä¸ºä»€ä¹ˆéœ€è¦æä¾›UQueryï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æä¾›UQueryï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æä¾›UQueryï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æä¾›UQueryï¼Ÿ</h2><p>UIElementçš„ç»“æ„æ˜¯é€šè¿‡UXML+USSçš„å½¢å¼å®Œæˆä¸€ä¸ªå…ƒç´ å¯è§†æ ‘ï¼ˆä¹Ÿå°±æ˜¯UIï¼‰çš„ç»˜åˆ¶ï¼Œè¿™è·Ÿä¼ ç»Ÿçš„Prefabå·¥ä½œæ¨¡å¼æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚UIElementåˆ¶ä½œå‡ºæ¥çš„UIä»¥UXML+USSä¸¤ç±»æ–‡ä»¶å­˜åœ¨äºå·¥ç¨‹ä¸­ï¼Œå¹¶ä¸å­˜åœ¨Prefabï¼Œä¹Ÿä¸èƒ½åœ¨Hierarchyä¸‹çœ‹åˆ°UIçš„å±‚çº§ï¼Œå¯ä»¥é€šè¿‡UIElements Debuggerï¼ˆWindow-&gt;Analysns-&gt;UIElements Debuggerï¼‰æˆ–è€…åé¢ä¼šè®²åˆ°çš„UI Builderè¿›è¡ŒæŸ¥çœ‹ã€‚æ—¢ç„¶ä¸å­˜åœ¨Prefabï¼Œä¼ ç»Ÿçš„Prefab+MonoBehavioråšæ³•ä¹Ÿå°±ä¸å†é€‚ç”¨äº†ï¼ŒPrefab+Mono Find Childå°±æ²¡å•¥è¯´çš„äº†ï¼Œä¸€æ ·ã€‚é‚£ä»¥å‰çš„Prefab+éMono Find Childçš„æ¨¡å¼å‘¢ï¼Ÿ å…¶å®æˆ‘çš„ç†è§£å‘¢ï¼ŒFind Childçš„æ¨¡å¼ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªUIé‡Œæ£€ç´¢ä¸šåŠ¡é€»è¾‘éœ€è¦çš„å…ƒç´ ï¼Œè¿›è€Œè¿›è¡Œä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼Œè¿™å°±è·ŸUQueryä¸€æ ·äº†ï¼Œéƒ½æ˜¯è¦åœ¨UIä¸­æ£€ç´¢å…ƒç´ ï¼Œåªæ˜¯ä¸¤è€…çš„æ£€ç´¢æ–¹å¼ä¸ä¸€æ ·ç½¢äº†ã€‚</p><h2 id="ä½¿ç”¨UQueryçš„å¥½å¤„ï¼Ÿ"><a href="#ä½¿ç”¨UQueryçš„å¥½å¤„ï¼Ÿ" class="headerlink" title="ä½¿ç”¨UQueryçš„å¥½å¤„ï¼Ÿ"></a>ä½¿ç”¨UQueryçš„å¥½å¤„ï¼Ÿ</h2><p>ä»¥å‰é€šè¿‡Find Childæ£€ç´¢å…ƒç´ çš„æ–¹å¼ï¼Œå¼Šç«¯åœ¨äºä»£ç ä¸­æ£€ç´¢å…ƒç´ æ—¶ä½¿ç”¨çš„Pathè¢«å±‚çº§ä½ç½®æ‰€é™åˆ¶ï¼Œè¿™æ ·æ— æ³•åšåˆ°UI Prefabåˆ¶ä½œå·¥ä½œä¸ä¸šåŠ¡é€»è¾‘è„šæœ¬å¼€å‘å·¥ä½œçš„å®Œå…¨åˆ†ç¦»ã€‚è€Œä½¿ç”¨Prefab+Monoè„šæœ¬ï¼ˆéFindï¼Œç›´æ¥åºåˆ—åŒ–ç»‘å®šï¼‰çš„æ–¹å¼ï¼Œä¹Ÿæœ‰å¼Šç«¯ï¼Œæ‰‹åŠ¨æ‹–è´¹æ—¶è´¹åŠ›ï¼ˆå› æ­¤ç½‘ä¸Šç›®å‰ä¹Ÿæœ‰å¼€æºçš„è‡ªåŠ¨ç»‘å®šUIå…ƒç´ çš„å¼€æºåº“ï¼‰ã€‚ä½¿ç”¨UIElementåï¼Œé€šè¿‡UQueryè¿™ä¸€å¥—æ¥å£ï¼Œåªéœ€è¦UIåˆ¶ä½œäººå‘˜ä¸ç¨‹åºåˆ¶å®šå¥½äº¤äº’UIå…ƒç´ çš„å‘½åã€UIç•Œé¢ä¸Šå„åŒºåŸŸçš„åˆ’åˆ†ï¼Œæ›´å¥½çš„åšåˆ°å·¥ä½œå†…å®¹åˆ†ç¦»ã€‚è‡³äºRuntimeä¸‹å¦‚ä½•æ‰“å¼€ä¸€ä¸ªUIï¼Œä»¥åŠæ‰“å¼€åçš„äº‹ä»¶ç»‘å®šç­‰åç»­ä¸šåŠ¡é€»è¾‘å¼€å‘å·¥ä½œï¼Œåç»­æ›´æ–°Runtime Demoè¿›è¡Œä»‹ç»ã€‚</p><h1 id="UQueryExtensions"><a href="#UQueryExtensions" class="headerlink" title="UQueryExtensions"></a>UQueryExtensions</h1><div class="note info">            <p><a href="https://docs.unity3d.com/ScriptReference/UIElements.UQueryExtensions.html" target="_blank" rel="noopener">UQueryExtensionså®˜æ–¹æ¥å£æ–‡æ¡£</a></p>          </div><h2 id="UQueryExtensions-Q"><a href="#UQueryExtensions-Q" class="headerlink" title="UQueryExtensions.Q"></a>UQueryExtensions.Q</h2><p>æ ¹æ®æ£€ç´¢æ¡ä»¶ï¼ŒæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒQuery&lt;T&gt;.Build().First()æ–¹æ³•çš„ç®€å†™ã€‚</p><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Q</span>(<span class="params"><span class="keyword">this</span> UIElements.VisualElement e, <span class="keyword">string</span> name, <span class="keyword">string</span> className</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Q</span>(<span class="params"><span class="keyword">this</span> UIElements.VisualElement e, <span class="keyword">string</span> name, <span class="keyword">params</span> <span class="keyword">string</span>[] classes</span>)</span>;</span><br></pre></td></tr></table></figure><h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><ul><li>UIElements.VisualElement eï¼šåœ¨è¯¥å…ƒç´ ä¸Šä½¿ç”¨æ¡ä»¶æ£€ç´¢ï¼Œç†è§£ä¸ºä½¿ç”¨è¯¥æ£€ç´¢æ¡ä»¶çš„rootï¼Œä¸ä¸€å®šæ˜¯æ•´ä¸ªUIçš„Root</li><li>string nameï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„name</li><li>string classNameï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„classï¼Œå¹¶ä¸æ˜¯é¢å‘å¯¹è±¡çš„class</li><li>string[] classesï¼šé™åˆ¶æ£€ç´¢å…ƒç´ çš„classï¼ˆå¤šä¸ªï¼‰ï¼Œå¹¶ä¸æ˜¯é¢å‘å¯¹è±¡çš„class</li></ul><h3 id="Return"><a href="#Return" class="headerlink" title="Return"></a>Return</h3><p>è¿”å›ç¬¦åˆæ£€ç´¢æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¸ºnullã€‚</p><h2 id="UQueryExtensions-Q-lt-T-gt"><a href="#UQueryExtensions-Q-lt-T-gt" class="headerlink" title="UQueryExtensions.Q&lt;T&gt;"></a>UQueryExtensions.Q&lt;T&gt;</h2><p>UQueryExtensions.Qçš„æ³›å‹æ¥å£</p><h2 id="UQueryExtensions-Query"><a href="#UQueryExtensions-Query" class="headerlink" title="UQueryExtensions.Query"></a>UQueryExtensions.Query</h2><p>è¿”å›ä¸€ä¸ªUQueryBuilder&lt;VisualElement&gt;ï¼ŒUQueryBuilderç±»é‡ŒåŒ…æ‹¬ä¸€äº›Styleé€‰æ‹©å™¨ã€RuleMatcheråŒ¹é…è§„åˆ™ï¼Œç„¶åé€šè¿‡Firstã€Lastã€ToListã€AtIndexç­‰æ¥å£æ ¹æ®æ£€ç´¢è§„åˆ™æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å…ƒç´ å¹¶è¿”å›ï¼ŒForEachæ¥å£ä¸»è¦æ˜¯å¯¹ç¬¦åˆåŒ¹é…è§„åˆ™çš„æ£€ç´¢å‡ºæ¥çš„å…ƒç´ éƒ½æ‰§è¡Œä¸€éä¼ å…¥çš„Functionã€‚</p><h2 id="UQueryExtensions-Query-lt-T-gt"><a href="#UQueryExtensions-Query-lt-T-gt" class="headerlink" title="UQueryExtensions.Query&lt;T&gt;"></a>UQueryExtensions.Query&lt;T&gt;</h2><p>UQueryExtensions.Queryçš„æ³›å‹æ¥å£</p><h1 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h1><p>æ–°å»ºä¸€ä¸ªUQueryDemo.uxmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:Button</span> <span class="attr">text</span>=<span class="string">"Button1"</span> <span class="attr">name</span>=<span class="string">"Button1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:Button</span> <span class="attr">text</span>=<span class="string">"Button2"</span> <span class="attr">name</span>=<span class="string">"Button2"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:Box</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">text</span>=<span class="string">"This is Label in Box"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">engine:Button</span> <span class="attr">text</span>=<span class="string">"Button3"</span> <span class="attr">name</span>=<span class="string">"Button3"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">engine:Box</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><p>C# ä»£ç </p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> queryDemo = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;(<span class="string">"Assets/Editor/UQueryDemo.uxml"</span>);</span><br><span class="line">root.Add(queryDemo.CloneTree());</span><br><span class="line"><span class="comment">//æ£€ç´¢åˆ°å‘½åä¸ºButton1çš„æŒ‰é’®ï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">root.Q&lt;Button&gt;(<span class="string">"Button1"</span>).clickable.clicked += <span class="keyword">delegate</span></span><br><span class="line">&#123;</span><br><span class="line">    Debug.LogError(<span class="string">"Click1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//æ£€ç´¢åˆ°ç±»å‹ä¸ºButtonçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">root.Query&lt;Button&gt;().First().clickable.clicked += <span class="keyword">delegate</span></span><br><span class="line">&#123;</span><br><span class="line">    Debug.LogError(<span class="string">"Click1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//æ£€ç´¢æ‰€æœ‰Buttonç±»å‹ï¼Œä½¿ç”¨ForEachéå†æ£€ç´¢å‡ºçš„Buttonï¼Œç»™è¿™äº›Buttonå‡æ·»åŠ ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line"><span class="comment">//å°½ç®¡Button3æ”¾åœ¨äº†ä¸€ä¸ªBoxå…ƒç´ é‡Œï¼Œä¾ç„¶è¢«ä¸‹é¢çš„çš„ä»£ç æ£€ç´¢åˆ°äº†ã€‚</span></span><br><span class="line">root.Query&lt;Button&gt;().ForEach(<span class="keyword">delegate</span>(Button button)</span><br><span class="line">&#123;</span><br><span class="line">    button.clickable.clicked += <span class="keyword">delegate</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(button.text);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geqysbkekwj30co05bq2q.jpg" alt></p><div class="note info">            <p>æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« <del>~</del></p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UIElement </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIElement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[UIElementå…¥é—¨]:1.UXMLå…ƒç´ ä»‹ç»</title>
      <link href="/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/"/>
      <url>/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜‰</p>          </div><a id="more"></a><div class="note primary no-icon">            <p><a href="https://docs.unity3d.com/Manual/UIElements.html" target="_blank" rel="noopener">UIElementå®˜æ–¹æ–‡æ¡£</a></p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1</p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼š<br><a href="https://www.jingfengji.tech/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/">UIElement : EditorWindowç®€å•ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/">UIElement : UXMLå…ƒç´ ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/12/uielement-ru-men-2-uquery-jie-shao/">UIElement : UQueryä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/13/uielement-ru-men-3-layout-engine/">UIElement : Layout Engine</a><br><a href="https://www.jingfengji.tech/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/">UIElement : è‡ªå®šä¹‰å…ƒç´ </a><br>åç»­å¾…æ›´æ–°å†…å®¹ï¼š<br><a>UIElement : Editor Demo Quick Tool</a><br><a>UIElement : Layout Engine YogaLayout</a><br><a>UIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»</a><br><a>UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickTool</a><br><a>UIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æ¶çš„AssetBundlBuilder</a><br><a>UIElement : Runtime Demo Tank</a></p>          </div><div class="note info">            <p>ä»¥ä¸‹å†…å®¹ä¸­ï¼Œå¯èƒ½æŸäº›å…ƒç´ çš„å±æ€§è§£é‡Šçš„ä¸æ˜¯å¾ˆå……åˆ†ï¼Œè¿™äº›è¿˜éœ€è¦åé¢çš„å®é™…ä½¿ç”¨æ‰æ›´å¥½äº†è§£ã€‚</p>          </div><h1 id="UIElements-Samples"><a href="#UIElements-Samples" class="headerlink" title="UIElements Samples"></a>UIElements Samples</h1><p>å®˜æ–¹æä¾›çš„å†…ç½®å…ƒç´ ä½¿ç”¨demoï¼Œåœ¨Window-&gt;UI-&gt;UIElements Samplesä¸‹ã€‚é€šè¿‡è¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŸ¥è¯¢åˆ°å„ä¸ªå†…ç½®å…ƒç´ çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepygssdvdj31gq0u00uz.jpg" alt></p><h1 id="UXML-elements-reference"><a href="#UXML-elements-reference" class="headerlink" title="UXML elements reference"></a>UXML elements reference</h1><p>UIElementæä¾›äº†ä¸€äº›å¸¸ç”¨çš„UXMLå…ƒç´ ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œåœ¨UnityEngine.UIElementså’ŒUnityEditor.UIElementså‘½åç©ºé—´ä¸‹ã€‚</p><div class="note info">            <p><a href="https://docs.unity3d.com/Manual/UIE-ElementRef.html" target="_blank" rel="noopener">UXML elements Reference å®˜æ–¹æ–‡æ¡£</a></p>          </div><p>è¿™äº›è‡ªå¸¦çš„å…ƒç´ åˆ†ä¸ºä»¥ä¸‹å‡ å¤§ç±»ï¼š</p><ul><li>Base elements</li><li>Utilities</li><li>Templates</li><li>Controls</li><li>Text input</li><li>Complex widgets</li><li>Toolbar</li><li>Views and windows</li></ul><h2 id="Base-elements"><a href="#Base-elements" class="headerlink" title="Base elements"></a>Base elements</h2><h3 id="VisualElement"><a href="#VisualElement" class="headerlink" title="VisualElement"></a>VisualElement</h3><ol><li>æ‰€æœ‰å…ƒç´ çš„åŸºç±»</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶</li><li>å±æ€§<ul><li>class</li><li>style</li><li>name</li><li>picking-mode</li><li>tooltip</li><li>focusable</li><li>tabindex</li><li>view-data-key</li></ul></li></ol><h3 id="BindableElement"><a href="#BindableElement" class="headerlink" title="BindableElement"></a>BindableElement</h3><ol><li>å¯ä»¥ç»‘å®šåˆ°ä¸€ä¸ªSerializedPropertyä¸Šï¼Œå±æ€§çš„å€¼å’Œæ˜¾ç¤ºçš„å€¼æ˜¯åŒæ­¥çš„</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶</li><li>å±æ€§<ul><li>binding-path: æ­¤å…ƒç´ ç»‘å®šçš„å±æ€§çš„è·¯å¾„ã€‚</li></ul></li></ol><h2 id="Utilities"><a href="#Utilities" class="headerlink" title="Utilities"></a>Utilities</h2><h3 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h3><ol><li>Boxç±»ä¼¼äºVisualElementï¼Œåœ¨å†…å®¹å‘¨å›´å¤šäº†ä¸€ä¸ªæ–¹æ¡†</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geo8ivdjkzj308x04c0si.jpg" alt="Box å…ƒç´ ç¤ºæ„å›¾"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Box</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">text</span>=<span class="string">"This is Label in Box"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">engine:Box</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="TextElement"><a href="#TextElement" class="headerlink" title="TextElement"></a>TextElement</h3><ol><li>æ˜¾ç¤ºæ–‡æœ¬</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li><li>textï¼šæ˜¾ç¤ºçš„æ–‡æœ¬</li></ul></li></ol><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geo8w7bbivj308x04cmwy.jpg" alt="TextElementç¤ºæ„å›¾"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Box</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">text</span>=<span class="string">"This is Label in Box"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">engine:TextElement</span> <span class="attr">text</span>=<span class="string">"This is TextElement in Box"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">engine:Box</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h3><ol><li>æ–‡æœ¬æ ‡ç­¾</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><p>ç¤ºæ„å›¾å’Œå®ä¾‹ä»£ç åŒTextElement</p><h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><ol><li>æ˜¾ç¤ºå›¾ç‰‡</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geoa5bjrvwj308s04b0si.jpg" alt="Imageå…ƒç´ ç¤ºæ„å›¾"></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Image imageElement = <span class="keyword">new</span> Image();</span><br><span class="line">imageElement.image = AssetDatabase.LoadAssetAtPath&lt;Texture&gt;(<span class="string">"Assets/quit_icon.png"</span>);</span><br><span class="line">imageElement.sourceRect = <span class="keyword">new</span> Rect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">128</span>,<span class="number">128</span>);</span><br><span class="line">imageElement.scaleMode = ScaleMode.ScaleToFit;</span><br><span class="line">root.Add(imageElement);</span><br></pre></td></tr></table></figure><h3 id="IMGUIContainer"><a href="#IMGUIContainer" class="headerlink" title="IMGUIContainer"></a>IMGUIContainer</h3><ol><li>ç»˜åˆ¶ä¸€ä¸ª<a href="https://docs.unity3d.com/Manual/GUIScriptingGuide.html" target="_blank" rel="noopener">IMGUI</a>çš„å†…å®¹ï¼Œ</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li><li>focus-indexï¼šé»˜è®¤å€¼æ˜¯0</li><li>focusableï¼šé»˜è®¤å€¼æ˜¯true</li></ul></li></ol><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepmnyfiqkj308s04b3ya.jpg" alt="IMGUI Button ç¤ºæ„å›¾"></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">IMGUIContainer imguiContainer = <span class="keyword">new</span> IMGUIContainer();</span><br><span class="line">imguiContainer.onGUIHandler = <span class="keyword">delegate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (GUILayout.Button(<span class="string">"This is IMGUI Button"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="string">"Click"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">root.Add(imguiContainer);</span><br></pre></td></tr></table></figure><h3 id="Foldout"><a href="#Foldout" class="headerlink" title="Foldout"></a>Foldout</h3><ol><li>ç»˜åˆ¶ä¸€ä¸ªå…·æœ‰æ˜¾ç¤ºæˆ–éšè—å…¶å†…å®¹çš„åˆ‡æ¢æŒ‰é’®ã€‚</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼šæ— æ•°é‡é™åˆ¶</li><li>å±æ€§ï¼š<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªimguiçš„button</span></span><br><span class="line">IMGUIContainer imguiContainer = <span class="keyword">new</span> IMGUIContainer();</span><br><span class="line">imguiContainer.onGUIHandler = <span class="keyword">delegate</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (GUILayout.Button(<span class="string">"This is IMGUI Button"</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.LogError(<span class="string">"Click"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;; </span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªFoldout</span></span><br><span class="line">Foldout foldout = <span class="keyword">new</span> Foldout();</span><br><span class="line">foldout.text = <span class="string">"FoldOut"</span>;</span><br><span class="line"><span class="comment">//å°†buttonåŠ åˆ°foldoutä¸‹</span></span><br><span class="line">foldout.Add(imguiContainer);</span><br><span class="line">root.Add(foldout);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepmv9zktoj308s04bgle.jpg" alt></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepmvmpnskj308s04bwe9.jpg" alt></p><h2 id="Templates"><a href="#Templates" class="headerlink" title="Templates"></a>Templates</h2><h3 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h3><ol><li>å¯¹å¦ä¸€ä¸ªUXMLæ¨¡æ¿çš„å¼•ç”¨</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>name: å…ƒç´ çš„å”¯ä¸€å­—ç¬¦ä¸²æ ‡è¯†ç¬¦</li><li>path: è¦åŠ è½½çš„UXMLæ–‡ä»¶è·¯å¾„</li></ul></li></ol><h3 id="Instance"><a href="#Instance" class="headerlink" title="Instance"></a>Instance</h3><ol><li>æ¨¡æ¿å®ä¾‹</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>template: è¦å®ä¾‹åŒ–çš„æ¨¡æ¿çš„åç§°</li></ul></li></ol><h3 id="TemplateContainer"><a href="#TemplateContainer" class="headerlink" title="TemplateContainer"></a>TemplateContainer</h3><ol><li>æ¨¡æ¿å®¹å™¨</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§ï¼š<ul><li>BindableElementçš„æ‰€æœ‰å±æ€§</li><li>template: è¯¥æ¨¡æ¿çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦</li></ul></li></ol><h3 id="Template-ç®€å•æ¡ˆä¾‹"><a href="#Template-ç®€å•æ¡ˆä¾‹" class="headerlink" title="Template ç®€å•æ¡ˆä¾‹"></a>Template ç®€å•æ¡ˆä¾‹</h3><ol><li>æ–°å»ºä¸€ä¸ªTemplate.uxmlæ–‡ä»¶ï¼Œç»„ä»¶å‘½åä¸ºPlayerï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªLabel</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">engine:VisualElement</span> <span class="attr">class</span>=<span class="string">"Player"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">name</span>=<span class="string">"nameLabel"</span> <span class="attr">text</span>=<span class="string">"Name"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">name</span>=<span class="string">"ageLabel"</span> <span class="attr">text</span>=<span class="string">"Age"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">engine:VisualElement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æ–°å»ºä¸€ä¸ªTemplateDemo.uxmlæ–‡ä»¶ï¼Œç”¨ä»¥å®ä¾‹åŒ–è¯¥æ¨¡æ¿ã€‚</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ³¨æ„æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Template</span> <span class="attr">path</span>=<span class="string">"Assets/Editor/Template.uxml"</span> <span class="attr">name</span>=<span class="string">"Player"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:VisualElement</span> <span class="attr">name</span>=<span class="string">"players"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å®ä¾‹åŒ–è¯¥æ¨¡æ¿ å¹¶å‘½å--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--templateçš„å€¼è¦è·Ÿå‰é¢å®šä¹‰çš„ä¸€è‡´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Instance</span> <span class="attr">template</span>=<span class="string">"Player"</span> <span class="attr">name</span>=<span class="string">"player1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Instance</span> <span class="attr">template</span>=<span class="string">"Player"</span> <span class="attr">name</span>=<span class="string">"player2"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Instance</span> <span class="attr">template</span>=<span class="string">"Player"</span> <span class="attr">name</span>=<span class="string">"player3"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">engine:VisualElement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>ä½¿ç”¨C#åŠ è½½TemplateDemo.uxml</li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> visualTree = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;(<span class="string">"Assets/Editor/TemplateDemo.uxml"</span>);</span><br><span class="line">VisualElement labelFromUXML = visualTree.CloneTree();</span><br><span class="line">root.Add(labelFromUXML);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geprsncchrj308s04b3ya.jpg" alt="æ¨¡æ¿ç¤ºä¾‹ç¤ºæ„å›¾"></p><h2 id="Controls"><a href="#Controls" class="headerlink" title="Controls"></a>Controls</h2><h3 id="BaseField"><a href="#BaseField" class="headerlink" title="BaseField"></a>BaseField<T></T></h3><ol><li>æ‰€æœ‰Fieldç±»å‹å…ƒç´ çš„æŠ½è±¡åŸºç±»</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BindableElementçš„æ‰€æœ‰å±æ€§</li><li>focus-indexï¼šé»˜è®¤å€¼ä¸º0</li><li>focusableï¼šé»˜è®¤å€¼ä¸ºtrue</li><li>labelï¼šä¸fieldå…³è”çš„æ ‡ç­¾æ–‡æœ¬</li></ul></li></ol><h3 id="BaseFieldTraits-lt-ValueType-UxmlType-gt"><a href="#BaseFieldTraits-lt-ValueType-UxmlType-gt" class="headerlink" title="BaseFieldTraits&lt;ValueType, UxmlType&gt;"></a>BaseFieldTraits&lt;ValueType, UxmlType&gt;</h3><ol><li>ç»§æ‰¿è‡ª BaseField&lt; ValueType &gt;</li><li>å±æ€§<ul><li>BaseField&lt; ValueType &gt;çš„æ‰€æœ‰å±æ€§</li><li>valueï¼šå­—æ®µçš„åˆå§‹å€¼ï¼Œç±»å‹ä¸º ValueType</li></ul></li></ol><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><ol><li>æ ‡å‡†æŒ‰é’®</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>TextElementçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><h3 id="RepeatButton"><a href="#RepeatButton" class="headerlink" title="RepeatButton"></a>RepeatButton</h3><ol><li>æŒ‰ä¸‹æ—¶é‡å¤æ‰§è¡ŒåŠ¨ä½œçš„æŒ‰é’®</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>TextElementçš„æ‰€æœ‰å±æ€§</li><li>delayï¼šæŒ‰é’®æ‰§è¡ŒåŠ¨ä½œä¹‹å‰çš„åˆå§‹å»¶è¿Ÿ(æ¯«ç§’)ã€‚é»˜è®¤å€¼æ˜¯0</li><li>intervalï¼šé‡å¤æ¯ä¸ªåŠ¨ä½œä¹‹é—´çš„æ¯«ç§’é—´éš”ã€‚é»˜è®¤å€¼æ˜¯0</li></ul></li></ol><h3 id="Toggle"><a href="#Toggle" class="headerlink" title="Toggle"></a>Toggle</h3><ol><li>è§£é‡Šï¼Œç•¥</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseFieldTraits&lt; bool, UxmlBoolAttributeDescription &gt;çš„æ‰€æœ‰å±æ€§</li><li>textï¼šå¼€å…³å³ä¾§çš„æ ‡ç­¾æ–‡æœ¬</li></ul></li></ol><h3 id="Scroller"><a href="#Scroller" class="headerlink" title="Scroller"></a>Scroller</h3><ol><li>æ»šåŠ¨æ¡</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>VisualElementçš„æ‰€æœ‰å±æ€§</li><li>low-value: æ»šåŠ¨æ¡çš„æœ€å°å€¼</li><li>high-value: æ»šåŠ¨æ¡çš„æœ€å¤§å€¼</li><li>direction: æ»‘åŠ¨æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯ç«–ç›´ï¼Œé»˜è®¤æ˜¯ç«–ç›´çš„</li><li>valueï¼šæ»šåŠ¨æ¡çš„ä½ç½®</li></ul></li></ol><h3 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h3><ol><li>æ»‘åŠ¨æ¡ï¼Œå€¼ä¸ºæµ®ç‚¹æ•°</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseFieldTraits&lt; float, UxmlFloatAttributeDescription&gt;çš„æ‰€æœ‰å±æ€§</li><li>low-value:æ»‘åŠ¨æ¡çš„æœ€å°å€¼</li><li>high-value:æ»‘åŠ¨æ¡çš„æœ€å¤§å€¼</li><li>direction:æ»‘åŠ¨æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯ç«–ç›´ï¼Œé»˜è®¤æ˜¯æ°´å¹³çš„</li><li>page-size:æ»‘å—çš„é¡µé¢å¤§å°</li></ul></li></ol><h3 id="SliderInt"><a href="#SliderInt" class="headerlink" title="SliderInt"></a>SliderInt</h3><ol><li>Intæ•°å€¼çš„æ»‘åŠ¨æ¡</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseFieldTraits&lt; int, UxmlIntAttributeDescription&gt;çš„æ‰€æœ‰å±æ€§</li><li>low-valueã€high-valueã€directionã€page-sizeç­‰å±æ€§åŒSliderï¼Œåªæ˜¯Valueç±»å‹æ˜¯int</li></ul></li></ol><h3 id="MinMaxSlider"><a href="#MinMaxSlider" class="headerlink" title="MinMaxSlider"></a>MinMaxSlider</h3><ol><li>å…è®¸ç”¨æˆ·æŒ‡å®šæœ€å°å€¼å’Œæœ€å¤§å€¼èŒƒå›´çš„slider</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseField&lt; Vector2&gt;çš„æ‰€æœ‰å±æ€§</li><li>low-limit:æœ€å°å€¼é™åˆ¶</li><li>high-limit:æœ€å¤§å€¼é™åˆ¶</li><li>min-value:æ»‘å—çš„æœ€å°å€¼</li><li>max-value:æ»‘å—çš„æœ€å¤§å€¼</li></ul></li></ol><h3 id="EnumField"><a href="#EnumField" class="headerlink" title="EnumField"></a>EnumField</h3><ol><li>ç»˜åˆ¶ä¸€ä¸ªæšä¸¾ç±»å‹çš„å­—æ®µ</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseField&lt; Enum &gt;çš„æ‰€æœ‰å±æ€§</li></ul></li></ol><h3 id="MaskField"><a href="#MaskField" class="headerlink" title="MaskField"></a>MaskField</h3><ol><li>å¤šé€‰èœå•</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>choices: List&lt; string &gt;ç±»å‹ï¼Œæ˜¾ç¤ºåœ¨å¼¹å‡ºèœå•ä¸Šé€‰é¡¹</li><li>value: ä¸€ä¸ªæ•´æ•°ï¼Œå°†å­—æ®µçš„å€¼è¡¨ç¤ºä¸º32ä½æ©ç </li></ul></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MaskField maskField = <span class="keyword">new</span> MaskField(<span class="keyword">new</span> List&lt;<span class="keyword">string</span>&gt;(<span class="number">2</span>) &#123;<span class="string">"Mask1"</span>, <span class="string">"Mask2"</span>&#125;,<span class="number">0</span>);</span><br><span class="line">root.Add(maskField);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepu8q7en9g308u04ejxh.gif" alt></p><h3 id="LayerField"><a href="#LayerField" class="headerlink" title="LayerField"></a>LayerField</h3><ol><li>ä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©ä¸€ä¸ªLayer</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseField&lt; int&gt;çš„æ‰€æœ‰å±æ€§</li><li>value: è¡¨ç¤ºå­—æ®µå€¼(æ‰€é€‰å±‚å·)çš„æ•´æ•°ã€‚</li></ul></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LayerField layerField = <span class="keyword">new</span> LayerField();</span><br><span class="line">root.Add(layerField);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepud4vkv4g308w06m45l.gif" alt></p><h3 id="LayerMaskField"><a href="#LayerMaskField" class="headerlink" title="LayerMaskField"></a>LayerMaskField</h3><ol><li>ä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ä»ä¸­é€‰æ‹©å¤šä¸ªLayer</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>MaskFieldçš„æ‰€æœ‰å±æ€§</li></ul></li></ol><h3 id="TagField"><a href="#TagField" class="headerlink" title="TagField"></a>TagField</h3><ol><li>ä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ä»ä¸­é€‰æ‹©ä¸€ä¸ªTag</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BaseField<string>çš„æ‰€æœ‰å±æ€§</string></li><li>valueï¼šé€‰æ‹©çš„Tag</li></ul></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TagField tagField = <span class="keyword">new</span> TagField();</span><br><span class="line">root.Add(tagField);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepujml8ctg308w06m11x.gif" alt></p><h3 id="ProgressBar"><a href="#ProgressBar" class="headerlink" title="ProgressBar"></a>ProgressBar</h3><ol><li>è¿›åº¦æ¡</li><li>å‘½åç©ºé—´ï¼šUnityEngine.UIElements</li><li>å­å…ƒç´ æ•°é‡ï¼š0</li><li>å±æ€§<ul><li>BindableElementçš„æ‰€æœ‰å±æ€§</li><li>low-valueï¼šè¡¨ç¤ºè¿›åº¦æ¡çš„æœ€å°å€¼çš„æµ®åŠ¨ã€‚é»˜è®¤å€¼æ˜¯0</li><li>high-valueï¼šè¡¨ç¤ºè¿›åº¦æ¡çš„æœ€å¤§å€¼çš„æµ®åŠ¨ã€‚é»˜è®¤å€¼æ˜¯100ã€‚</li><li>titleï¼šè¡¨ç¤ºè¿›åº¦æ¡æ ‡é¢˜çš„å­—ç¬¦ä¸²ã€‚</li></ul></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ProgressBar progressBar = <span class="keyword">new</span> ProgressBar();</span><br><span class="line">progressBar.<span class="keyword">value</span> = <span class="number">50</span>;</span><br><span class="line">progressBar.title = <span class="string">"Progress Bar"</span>;</span><br><span class="line">root.Add(progressBar);</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gepupggddfj308s06i3ya.jpg" alt></p><h2 id="Text-input"><a href="#Text-input" class="headerlink" title="Text input"></a>Text input</h2><p>å„ç§ç±»å‹çš„è¾“å…¥å‹å…ƒç´ ï¼Œä¸ä¸€ä¸€ä»‹ç»äº†ã€‚ä»¥ä¸‹å…ƒç´ åªèƒ½åœ¨Editorä¸‹ä½¿ç”¨ã€‚</p><ul><li>TextFieldï¼šå¯ç¼–è¾‘çš„æ–‡æœ¬å…ƒç´ </li><li>IntegerFieldï¼š32ä½æ•´æ•°çš„æ–‡æœ¬å…ƒç´ </li><li>LongFieldï¼š64ä½æ•´æ•°çš„æ–‡æœ¬å…ƒç´ </li><li>FloatFieldï¼šFloatç±»å‹çš„æ–‡æœ¬å…ƒç´ </li><li>DoubleFieldï¼šDoubleç±»å‹çš„æ–‡æœ¬å…ƒç´ </li><li>Vector2Fieldï¼šVector2ç±»å‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰</li><li>Vector2IntFieldï¼šVector2ç±»å‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆintï¼‰</li><li>Vector3Fieldï¼šVector3ç±»å‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰</li><li>Vector3IntFieldï¼šVector3ç±»å‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆintï¼‰</li><li>Vector4Fieldï¼šVector4ç±»å‹çš„æ–‡æœ¬å…ƒç´ ï¼ˆfloatï¼‰</li><li>RectFieldï¼šåŒ…å«å››ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æ¥å—æµ®ç‚¹å€¼æ¥ç¼–è¾‘çŸ©å½¢çš„å€¼</li><li>RectIntFieldï¼šåŒ…å«å››ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æ¥å—æ•´æ•°å€¼æ¥ç¼–è¾‘çŸ©å½¢çš„å€¼ã€‚</li><li>BoundsFieldï¼šä¸€ç»„å…­ä¸ªæ–‡æœ¬å­—æ®µï¼Œæ¥å—æµ®ç‚¹å€¼æ¥ç¼–è¾‘è¾¹æ¡†çš„å€¼ã€‚</li><li>BoundsIntFieldï¼šåŒ…å«å…­ä¸ªæ–‡æœ¬å­—æ®µçš„é›†åˆï¼Œå®ƒä»¬æ¥å—æ•´æ•°å€¼æ¥ç¼–è¾‘è¾¹æ¡†çš„å€¼ã€‚</li></ul><h2 id="Complex-widgets"><a href="#Complex-widgets" class="headerlink" title="Complex widgets"></a>Complex widgets</h2><p>ä»¥ä¸‹å‡ ä¸ªå…ƒç´ åªèƒ½åœ¨Editorä¸‹ä½¿ç”¨</p><ul><li>ColorFieldï¼šé¢œè‰²é€‰æ‹©å™¨</li><li>CurveFieldï¼šæ›²çº¿ç¼–è¾‘å™¨</li><li>GradientFieldï¼šæ¸å˜ç¼–è¾‘å™¨</li><li>ObjectFieldï¼šå¯¹è±¡é€‰æ‹©å™¨</li><li>InspectorElementï¼šåœ¨Inspectorçª—å£ä¸­æ˜¾ç¤ºå±æ€§çš„å…ƒç´ </li></ul><h2 id="Toolbar"><a href="#Toolbar" class="headerlink" title="Toolbar"></a>Toolbar</h2><ul><li>Toolbarï¼šä¿å­˜å·¥å…·æ é¡¹çš„å®¹å™¨</li><li>ToolbarButtonï¼šå·¥å…·æ æŒ‰é’®</li><li>ToolbarToggleï¼šå·¥å…·æ å¼€å…³</li><li>ToolbarMenuï¼šå·¥å…·æ çš„ä¸‹æ‹‰èœå•</li><li>ToolbarSearchFieldï¼šå·¥å…·æ æœç´¢æ¡†</li><li>ToolbarPopupSearchFieldï¼šå¸¦æœ‰æœç´¢é€‰é¡¹å¼¹å‡ºèœå•çš„æœç´¢å­—æ®µ</li><li>ToolbarSpacerï¼šåœ¨å·¥å…·æ ä¹‹é—´æ’å…¥å›ºå®šæ•°é‡çš„ç©ºç™½å…ƒç´ </li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">editor:Toolbar</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarButton</span> <span class="attr">text</span>=<span class="string">"Button"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarToggle</span> <span class="attr">text</span>=<span class="string">"Toggle"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarMenu</span> <span class="attr">text</span>=<span class="string">"Menu"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarSearchField</span> <span class="attr">text</span>=<span class="string">"SearchField"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarSpacer</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">editor:ToolbarPopupSearchField</span> <span class="attr">text</span>=<span class="string">"popupSearchField"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">editor:Toolbar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geq0fy5bmsj30l204rjr6.jpg" alt></p><h2 id="Views-and-windows"><a href="#Views-and-windows" class="headerlink" title="Views and windows"></a>Views and windows</h2><ul><li>ListView:å…ƒç´ åˆ—è¡¨</li><li>ScrollView:å¸¦æœ‰æ°´å¹³å’Œå‚ç›´æ»šåŠ¨æ¡çš„å¯æ»šåŠ¨è§†å›¾ã€‚</li><li>TreeView:ç”¨äºåœ¨æ ‘å±‚æ¬¡ç»“æ„ä¸­æ˜¾ç¤ºå…ƒç´ çš„è§†å›¾ã€‚</li><li>PopupWindow:ä¸€ä¸ªUIElementsçª—å£ï¼Œæ˜¾ç¤ºåœ¨å…¶ä»–å†…å®¹çš„é¡¶éƒ¨ã€‚ï¼ˆEditorï¼‰</li></ul><div class="note info">            <p>æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« <del>~</del></p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UIElement </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIElement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[UIElementå…¥é—¨]:0.UIElement EditorWindowç®€å•ä»‹ç»</title>
      <link href="/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/"/>
      <url>/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä»‹ç»UIElementçŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜‰</p>          </div><a id="more"></a><div class="note primary no-icon">            <p><a href="https://docs.unity3d.com/Manual/UIElements.html" target="_blank" rel="noopener">UIElementå®˜æ–¹æ–‡æ¡£</a></p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ä½¿ç”¨çš„Unityç‰ˆæœ¬ä¸º2019.3.7f1</p>          </div><div class="note primary no-icon">            <p>æœ¬ç³»åˆ—æ–‡ç« ç›®å½•ï¼š<br><a href="https://www.jingfengji.tech/2020/05/10/uielement-ru-men-0-uielement-jian-dan-jie-shao/">UIElement : EditorWindowç®€å•ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/11/uielement-ru-men-1-uxml-yuan-su-jie-shao/">UIElement : UXMLå…ƒç´ ä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/12/uielement-ru-men-2-uquery-jie-shao/">UIElement : UQueryä»‹ç»</a><br><a href="https://www.jingfengji.tech/2020/05/13/uielement-ru-men-3-layout-engine/">UIElement : Layout Engine</a><br><a href="https://www.jingfengji.tech/2020/05/17/uielement-ru-men-4-zi-ding-yi-yuan-su/">UIElement : è‡ªå®šä¹‰å…ƒç´ </a><br>åç»­å¾…æ›´æ–°å†…å®¹ï¼š<br><a>UIElement : Editor Demo Quick Tool</a><br><a>UIElement : Layout Engine YogaLayout</a><br><a>UIElement : UIBuilderçš„ä½¿ç”¨ä»‹ç»</a><br><a>UIElement : ä½¿ç”¨UIBuilderå¼€å‘Editor Demo QuickTool</a><br><a>UIElement : ä½¿ç”¨UIElementå¼€å‘GFæ¡†æ¶çš„AssetBundlBuilder</a><br><a>UIElement : Runtime Demo Tank</a></p>          </div><h1 id="UIElement-EditorWindow"><a href="#UIElement-EditorWindow" class="headerlink" title="UIElement EditorWindow"></a>UIElement EditorWindow</h1><p>æœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨Editorä¸‹ä½¿ç”¨UIElementå¼€å‘ç¼–è¾‘å™¨ã€‚</p><p>æ–°å»ºEditoræ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°Assets-&gt;Create-&gt;UIElementsèœå•ï¼Œæˆ–è€…åœ¨Projectçª—å£é¼ æ ‡å³é”®Create-&gt;UIElementsï¼Œè¯¥èœå•ä¸‹åŒ…å«äº†ä»¥ä¸‹ä¸‰ä¸ªèœå•é¡¹ã€‚</p><ul><li>USS File</li><li>UXML Template</li><li>Editor Window</li></ul><h2 id="USS"><a href="#USS" class="headerlink" title="USS"></a>USS</h2><p>USSå…¨ç§°Unity Style Sheetsï¼Œå®šä¹‰è®¾ç½®è§†è§‰å…ƒç´ çš„å°ºå¯¸å’Œå¤–è§‚çš„æ ·å¼å±æ€§ã€‚<br>ä½¿ç”¨è¯¥èœå•ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªussåç¼€çš„æ–‡ä»¶ã€‚</p><h2 id="UXML"><a href="#UXML" class="headerlink" title="UXML"></a>UXML</h2><p>UXMLæ–‡ä»¶æ˜¯å®šä¹‰ç”¨æˆ·ç•Œé¢é€»è¾‘ç»“æ„çš„æ–‡æœ¬æ–‡ä»¶ã€‚UXMLæ–‡ä»¶ä¸­ä½¿ç”¨çš„æ ¼å¼å—åˆ°HTML(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ã€XAML(å¯æ‰©å±•åº”ç”¨ç¨‹åºæ ‡è®°è¯­è¨€)å’ŒXML(å¯æ‰©å±•æ ‡è®°è¯­è¨€)çš„å¯å‘ã€‚<br>ä½¿ç”¨è¯¥èœå•ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªuxmlåç¼€çš„æ–‡ä»¶ã€‚</p><h2 id="Editor-Window"><a href="#Editor-Window" class="headerlink" title="Editor Window"></a>Editor Window</h2><p>ä½¿ç”¨è¯¥èœå•ï¼Œä¼šå¼¹å‡ºä»¥ä¸‹çª—å£ï¼Œæ˜¾è€Œæ˜“è§ï¼Œé€šè¿‡è¿™ä¸ªçª—å£èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºå›¾ä¸­çš„ä¸‰ç±»æ–‡ä»¶ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gendajin83j30b4058t8l.jpg" alt="UIElement Editor Window Creatorç¤ºæ„å›¾"></p><ul><li>Open files in Editor once created:ä¸€æ—¦åˆ›å»ºå¥½åå°±æ‰“å¼€æ–‡ä»¶ã€‚</li></ul><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1genddyv0phj308x03njr7.jpg" alt="TestEditorçª—å£ç¤ºæ„å›¾"></p><p>åˆ›å»ºå®Œåï¼ŒUnityå·²ç»å¸®æˆ‘ä»¬åŠ ä¸Šäº†ä¸‰è¡Œæ–‡å­—ï¼Œç„¶åå·¥ç¨‹é‡Œå¤šäº†ä¸‰ä¸ªç›¸åº”çš„æ–‡ä»¶ï¼Œå¹¶åœ¨èœå•æ ä¸­ä¹Ÿå¤šäº†ä¸€æ¡ï¼šWindow-&gt;UIElementsâ€”&gt;TestEditor(æˆ‘åœ¨åˆ›å»ºæ—¶è¾“å…¥çš„æµ‹è¯•åTestEditor)ã€‚</p><p>é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥è¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™ä¸ªEditorWindowæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><h3 id="C-éƒ¨åˆ†"><a href="#C-éƒ¨åˆ†" class="headerlink" title="C#éƒ¨åˆ†"></a>C#éƒ¨åˆ†</h3><p>ä»£ç ä»‹ç»ä¼šä»¥æ³¨é‡Šçš„å½¢å¼å†™åœ¨ä¸‹æ–¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UIElements;</span><br><span class="line"><span class="keyword">using</span> UnityEditor.UIElements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestEditor</span> : <span class="title">EditorWindow</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//åŸºç¡€çš„MenuItemåšæ³•ï¼Œä¸ä»‹ç»äº†</span></span><br><span class="line">    [<span class="meta">MenuItem(<span class="meta-string">"Window/UIElements/TestEditor"</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowExample</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        TestEditor wnd = GetWindow&lt;TestEditor&gt;();</span><br><span class="line">        wnd.titleContent = <span class="keyword">new</span> GUIContent(<span class="string">"TestEditor"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnEnable</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//åœ¨ç¼–è¾‘å™¨ä¸­ï¼Œæ¯ä¸ªEditorWindowéƒ½æœ‰ä¸€ä¸ªrootVisualElementå±æ€§ï¼Œå®ƒè¡¨ç¤ºå±‚æ¬¡ç»“æ„çš„é¡¶å±‚VisualElementã€‚å…ƒç´ éœ€è¦ä½œä¸ºå­å…ƒç´ æ·»åŠ åˆ°è¿™ä¸ªæ ¹ï¼Œä»¥ä¾¿ç³»ç»Ÿç»˜åˆ¶å®ƒä»¬ã€‚</span></span><br><span class="line">        VisualElement root = rootVisualElement;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªLabelå¹¶åŠ åˆ°rootä¸­è¿›è¡Œç»˜åˆ¶ï¼ŒLabelçš„æ–‡å­—å†…å®¹æ˜¯Hello World! From C#ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ç¤ºæ„å›¾çœ‹åˆ°çš„ç¬¬ä¸€è¡Œã€‚</span></span><br><span class="line">        VisualElement label = <span class="keyword">new</span> Label(<span class="string">"Hello World! From C#"</span>);</span><br><span class="line">        root.Add(label);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ è½½åˆ›å»ºå‡ºæ¥çš„UXMLæ–‡ä»¶ï¼Œå¹¶å…‹éš†åˆ°rootä¸­ã€‚</span></span><br><span class="line">        <span class="keyword">var</span> visualTree = AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;(<span class="string">"Assets/Editor/TestEditor.uxml"</span>);</span><br><span class="line">        VisualElement labelFromUXML = visualTree.CloneTree();</span><br><span class="line">        root.Add(labelFromUXML);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ è½½åˆ›å»ºå‡ºæ¥çš„USSæ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">var</span> styleSheet = AssetDatabase.LoadAssetAtPath&lt;StyleSheet&gt;(<span class="string">"Assets/Editor/TestEditor.uss"</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªLabelï¼Œå¹¶ä½¿ç”¨åŠ è½½USSæ ·å¼</span></span><br><span class="line">        VisualElement labelWithStyle = <span class="keyword">new</span> Label(<span class="string">"Hello World! With Style"</span>);</span><br><span class="line">        <span class="comment">//åŠ åˆ°rootä¸Šè¿›è¡Œæ¸²æŸ“ã€‚</span></span><br><span class="line">        labelWithStyle.styleSheets.Add(styleSheet);</span><br><span class="line">        root.Add(labelWithStyle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»è¿™éƒ¨åˆ†ä»£ç ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œä½¿ç”¨ä»£ç åˆ›å»ºäº†ä¸¤ä¸ªLabelï¼Œå…¶ä¸­ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨USSæ ·å¼ï¼Œåé¢ä¸€ä¸ªä½¿ç”¨äº†USSæ ·å¼ï¼Œæ­£å¦‚ç¤ºæ„å›¾ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œç¬¬ä¸€è¡Œæ— æ ·å¼ï¼ˆé»˜è®¤æ ·å¼ï¼‰ï¼Œç¬¬ä¸‰è¡Œæ˜¯è“è‰²çš„å­—å·åå¤§ã€‚é‚£ä¹ˆé—®é¢˜æ¥ï¼Œä¸­é—´ä¸€è¡ŒLabelï¼Œä»å“ªé‡Œæ¥ï¼Ÿ</p><p>[ps:å†ä»¥ä¸ç”¨æ‰‹å†™Layoutäº†ğŸ¤£ğŸ¤£ğŸ¤£]</p><h3 id="UXMLéƒ¨åˆ†"><a href="#UXMLéƒ¨åˆ†" class="headerlink" title="UXMLéƒ¨åˆ†"></a>UXMLéƒ¨åˆ†</h3><p>UXMLæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">engine:UXML</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:engine</span>=<span class="string">"UnityEngine.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:editor</span>=<span class="string">"UnityEditor.UIElements"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"../../UIElementsSchema/UIElements.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">engine:Label</span> <span class="attr">text</span>=<span class="string">"Hello World! From UXML"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">engine:UXML</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç›®å‰åªå…³æ³¨å…¶ä¸­çš„&lt;engine:Label text=â€Hello World! From UXMLâ€ /&gt;ï¼Œè¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªLabelï¼Œæ–‡å­—å†…å®¹ä¸ºHello World! From UXMLã€‚é‚£ä¹ˆå¾ˆæ˜¾ç„¶äº†ï¼ŒC#éƒ¨åˆ†ä»£ç ä¸­æ˜¯åœ¨åˆ›å»ºä¸¤ä¸ªLabelä¸­é—´Loadå¹¶addçš„UXMLæ–‡ä»¶ï¼Œå› æ­¤è¯¥Labelæ¸²æŸ“åœ¨é‚£ä¸¤ä¸ªLabelä¸­é—´ã€‚é‚£å¦‚æœæŠŠLoad UXMLçš„ç›¸å…³ä»£ç æ”¾åˆ°æœ€å‰é¢ï¼Œè¿™è¡ŒUXML Labelå°±åº”è¯¥æ¸²æŸ“åœ¨æœ€å‰é¢äº†ã€‚</p><h3 id="USSéƒ¨åˆ†"><a href="#USSéƒ¨åˆ†" class="headerlink" title="USSéƒ¨åˆ†"></a>USSéƒ¨åˆ†</h3><p>UXMLæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Label</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">-unity-font-style</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">68</span>, <span class="number">138</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥æ ·å¼æ–‡ä»¶é‡Œå®šä¹‰äº†ä¸€ä¸ªLabel,å…¶ä¸­å­—å·20ï¼Œç²—ä½“ï¼Œé¢œè‰²ï¼ˆ68ã€138ã€255ï¼‰ã€‚æ›´å¤šçš„æ ·å¼åŠå…¶å±æ€§ï¼Œåé¢å¦è¡Œä»‹ç»ã€‚</p><div class="note info">            <p>æ›´å¤šçš„UIElementçŸ¥è¯†ç‚¹æ–‡ç« ï¼Œè¿˜åœ¨è¿›è¡Œä¸­ï¼Œå¦‚æœ‰ç›¸å…³å†…å®¹éœ€è¦ä»‹ç»çš„ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼ŒæŠ½ç©ºæ›´æ–°æ–‡ç« <del>~</del></p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UIElement </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIElement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰åä¸€:è·å–PlayerPrefsæ‰€æœ‰é”®å€¼å¯¹</title>
      <link href="/2020/05/05/unity-bian-ji-qi-tuo-zhan-zhi-san-shi-yi-huo-qu-playerprefs-suo-you-jian-zhi-dui/"/>
      <url>/2020/05/05/unity-bian-ji-qi-tuo-zhan-zhi-san-shi-yi-huo-qu-playerprefs-suo-you-jian-zhi-dui/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Editorä¸‹è·å–PlayerPrefsæ‰€æœ‰é”®å€¼å¯¹ï¼Œæ¬¢è¿è®¿é—®ğŸ˜</p>          </div><a id="more"></a><div class="note info">            <p>æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€~<a href="https://www.jingfengji.tech/contact">click here!</a></p>          </div><div class="note info">            <p>PlayerPrefså®˜æ–¹æ–‡æ¡£ï¼Œè¯·æˆ³è¿™é‡Œ<del>~</del><a href="https://docs.unity3d.com/ScriptReference/PlayerPrefs.html" target="_blank" rel="noopener">click here!</a></p>          </div><h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><p>å…³äºPlayerPrefsä½¿ç”¨ç»†èŠ‚å°±ä¸ä»‹ç»äº†ï¼Œå®é™…ä¸Šï¼Œåœ¨å¼€å‘ä¸­ï¼Œå·²ç»æ²¡æ€ä¹ˆä½¿ç”¨PlayerPrefsäº†ï¼Œè¿™é‡Œåªæ˜¯å•çº¯çš„ä»‹ç»ä¸€ä¸‹å¦‚ä½•è·å–æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œæ¯•ç«ŸUnityå¹¶æ²¡æœ‰æä¾›ç›´æ¥çš„æ¥å£ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gehk3lm5k7j314i0lswfp.jpg" alt="PlayerPrefsæ¥å£åˆ—è¡¨"></p><p>åªæœ‰DeleteAllæ¥å£ï¼Œæ²¡æœ‰GetAllæ¥å£ã€‚</p><p>æœ¬ç¯‡æ–‡ç« çš„ä¸»è¦ä»£ç æ¥æºäºPlayerPrefs  Editoræ’ä»¶ï¼Œæ’ä»¶è‡ªè¡Œä¸‹è½½ã€‚</p><h1 id="æ•°æ®å­˜å‚¨"><a href="#æ•°æ®å­˜å‚¨" class="headerlink" title="æ•°æ®å­˜å‚¨"></a>æ•°æ®å­˜å‚¨</h1><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gehkln3ujij31lp0u0acj.jpg" alt></p><p>å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ä»‹ç»ï¼ŒMacOSä¸‹å­˜å‚¨åœ¨~/Library/Preferencesæ–‡ä»¶å¤¹ä¸‹çš„unity.[company name].[product name].plistæ–‡ä»¶ä¸­ï¼Œè€ŒWindowä¸‹\Software[company name][product name]æ³¨å†Œè¡¨ä¸­ï¼Œå› æ­¤å¾…ä¼šå„¿è·å–ä»£ç ä¸­ï¼ŒMacOSä¸‹éœ€è¦è§£æåˆ°plistæ–‡ä»¶ï¼Œè€ŒWindowä¸‹åˆ™éœ€è¦è¯»å–æ³¨å†Œè¡¨ã€‚</p><p>å®šä¹‰ä¸€ä¸ªç»“æ„ä½“PlayerPrefPairå¯¹åº”keyvalueé”®å€¼å¯¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line">[<span class="meta">Serializable</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> PlayerPrefPair</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Key &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">object</span> Value &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–é”®å€¼å¯¹çš„ä¸»è¦ä»£ç ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> Sabresaurus.PlayerPrefsExtensions;</span><br><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">PlayerPrefsExtension</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PlayerPrefPair[] <span class="title">GetAll</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> GetAll(PlayerSettings.companyName, PlayerSettings.productName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PlayerPrefPair[] <span class="title">GetAll</span>(<span class="params"><span class="keyword">string</span> companyName, <span class="keyword">string</span> productName</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (Application.platform == RuntimePlatform.OSXEditor)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// From Unity docs: On Mac OS X PlayerPrefs are stored in ~/Library/Preferences folder, in a file named unity.[company name].[product name].plist, where company and product names are the names set up in Project Settings. The same .plist file is used for both Projects run in the Editor and standalone players.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Construct the plist filename from the project's settings</span></span><br><span class="line"><span class="keyword">string</span> plistFilename = <span class="keyword">string</span>.Format(<span class="string">"unity.&#123;0&#125;.&#123;1&#125;.plist"</span>, companyName, productName);</span><br><span class="line"><span class="comment">// Now construct the fully qualified path</span></span><br><span class="line"><span class="keyword">string</span> playerPrefsPath = Path.Combine(Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.Personal), <span class="string">"Library/Preferences"</span>),</span><br><span class="line">plistFilename);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Parse the player prefs file if it exists</span></span><br><span class="line"><span class="keyword">if</span> (File.Exists(playerPrefsPath))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Parse the plist then cast it to a Dictionary</span></span><br><span class="line"><span class="keyword">object</span> plist = Plist.readPlist(playerPrefsPath);</span><br><span class="line"></span><br><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">object</span>&gt; parsed = plist <span class="keyword">as</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">object</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert the dictionary data into an array of PlayerPrefPairs</span></span><br><span class="line">PlayerPrefPair[] tempPlayerPrefs = <span class="keyword">new</span> PlayerPrefPair[parsed.Count];</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">foreach</span> (KeyValuePair&lt;<span class="keyword">string</span>, <span class="keyword">object</span>&gt; pair <span class="keyword">in</span> parsed)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pair.Value.GetType() == <span class="keyword">typeof</span>(<span class="keyword">double</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Some float values may come back as double, so convert them back to floats</span></span><br><span class="line">tempPlayerPrefs[i] = <span class="keyword">new</span> PlayerPrefPair() &#123;Key = pair.Key, Value = (<span class="keyword">float</span>) (<span class="keyword">double</span>) pair.Value&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">tempPlayerPrefs[i] = <span class="keyword">new</span> PlayerPrefPair() &#123;Key = pair.Key, Value = pair.Value&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the results</span></span><br><span class="line"><span class="keyword">return</span> tempPlayerPrefs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// No existing player prefs saved (which is valid), so just return an empty array</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> PlayerPrefPair[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (Application.platform == RuntimePlatform.WindowsEditor)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// From Unity docs: On Windows, PlayerPrefs are stored in the registry under HKCU\Software\[company name]\[product name] key, where company and product names are the names set up in Project Settings.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> UNITY_5_5_OR_NEWER</span></span><br><span class="line"><span class="comment">// From Unity 5.5 editor player prefs moved to a specific location</span></span><br><span class="line">Microsoft.Win32.RegistryKey registryKey =</span><br><span class="line">Microsoft.Win32.Registry.CurrentUser.OpenSubKey(<span class="string">"Software\\Unity\\UnityEditor\\"</span> + companyName + <span class="string">"\\"</span> + productName);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">                Microsoft.Win32.RegistryKey registryKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(<span class="string">"Software\\"</span> + companyName + <span class="string">"\\"</span> + productName);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Parse the registry if the specified registryKey exists</span></span><br><span class="line"><span class="keyword">if</span> (registryKey != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Get an array of what keys (registry value names) are stored</span></span><br><span class="line"><span class="keyword">string</span>[] valueNames = registryKey.GetValueNames();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create the array of the right size to take the saved player prefs</span></span><br><span class="line">PlayerPrefPair[] tempPlayerPrefs = <span class="keyword">new</span> PlayerPrefPair[valueNames.Length];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Parse and convert the registry saved player prefs into our array</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">string</span> valueName <span class="keyword">in</span> valueNames)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> key = valueName;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove the _h193410979 style suffix used on player pref keys in Windows registry</span></span><br><span class="line"><span class="keyword">int</span> index = key.LastIndexOf(<span class="string">"_"</span>);</span><br><span class="line">key = key.Remove(index, key.Length - index);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the value from the registry</span></span><br><span class="line"><span class="keyword">object</span> ambiguousValue = registryKey.GetValue(valueName);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Unfortunately floats will come back as an int (at least on 64 bit) because the float is stored as</span></span><br><span class="line"><span class="comment">// 64 bit but marked as 32 bit - which confuses the GetValue() method greatly! </span></span><br><span class="line"><span class="keyword">if</span> (ambiguousValue.GetType() == <span class="keyword">typeof</span>(<span class="keyword">int</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// If the player pref is not actually an int then it must be a float, this will evaluate to true</span></span><br><span class="line"><span class="comment">// (impossible for it to be 0 and -1 at the same time)</span></span><br><span class="line"><span class="keyword">if</span> (PlayerPrefs.GetInt(key, <span class="number">-1</span>) == <span class="number">-1</span> &amp;&amp; PlayerPrefs.GetInt(key, <span class="number">0</span>) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Fetch the float value from PlayerPrefs in memory</span></span><br><span class="line">ambiguousValue = PlayerPrefs.GetFloat(key);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ambiguousValue.GetType() == <span class="keyword">typeof</span>(<span class="keyword">byte</span>[]))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// On Unity 5 a string may be stored as binary, so convert it back to a string</span></span><br><span class="line">ambiguousValue = System.Text.Encoding.Default.GetString((<span class="keyword">byte</span>[]) ambiguousValue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Assign the key and value into the respective record in our output array</span></span><br><span class="line">tempPlayerPrefs[i] = <span class="keyword">new</span> PlayerPrefPair() &#123;Key = key, Value = ambiguousValue&#125;;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the results</span></span><br><span class="line"><span class="keyword">return</span> tempPlayerPrefs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// No existing player prefs saved (which is valid), so just return an empty array</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> PlayerPrefPair[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> NotSupportedException(<span class="string">"PlayerPrefsEditor doesn't support this Unity Editor platform"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­å…³äºMacOSä¸‹è§£æplistæ–‡ä»¶å‘¢ï¼ŒPlayerPrefsEditoræ’ä»¶é‡Œä½¿ç”¨çš„ä¸€ä¸ªå¼€æºåº“ï¼š<a href="https://github.com/animetrics/PlistCS" target="_blank" rel="noopener">https://github.com/animetrics/PlistCS</a></p><p>æœ€åï¼Œç¼–å†™ä¸€ç‚¹æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerPrefsTool</span> : <span class="title">Editor</span></span><br><span class="line">&#123;</span><br><span class="line">[<span class="meta">MenuItem(<span class="meta-string">"Tools/PrintAllPlayerPrefs"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">LogAllPlayerPrefs</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">PlayerPrefPair[] keyValues = PlayerPrefsExtension.GetAll();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; keyValues.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">UnityEngine.Debug.Log(<span class="string">$"key=<span class="subst">&#123;keyValues[i].Key&#125;</span> value=<span class="subst">&#123;keyValues[i].Value&#125;</span>"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gehkrhr4xpj30vk09uwen.jpg" alt></p><div class="note info">            <p>è¿™é‡Œå¹¶ä¸åŒ…å«å¦‚ä½•åœ¨ç§»åŠ¨ç«¯è·å–åˆ°æ‰€æœ‰é”®å€¼å¯¹ï¼Œä¸ªäººå»ºè®®è‡ªè¡Œç¼–å†™ä¸€ä¸ªæ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œæ–¹ä¾¿æ— å‘æ— çƒ¦æ¼ã€‚ã€‚ã€‚</p>          </div><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PlayerPrefs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityæ¥å…¥Facebookç”Ÿæˆkeyhash</title>
      <link href="/2020/05/02/unity-jie-ru-facebook-sheng-cheng-keyhash/"/>
      <url>/2020/05/02/unity-jie-ru-facebook-sheng-cheng-keyhash/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>è®°å½•å¦‚ä½•ä¸ºUnityå·¥ç¨‹æ¥å…¥Facebook SDKæ—¶ç”Ÿæˆkeyhashï¼Œæ¬¢è¿è®¿é—®ğŸ˜‹</p>          </div><a id="more"></a><div class="note info">            <p>æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€~<a href="https://www.jingfengji.tech/contact">click here!</a></p>          </div><p>ä»¥ä¸‹æ­¥éª¤åœ¨Facebookä¸­ä¸ºUnityåº”ç”¨ç¨‹åºç”ŸæˆKey Hashï¼šï¼ˆæˆ‘æ­£åœ¨ä½¿ç”¨Mac OSX 10.8 ï¼‰</p><p>é¦–å…ˆæ‰“å¼€ä¸€ä¸ªterminalï¼ˆåœ¨Windowsä¸­æ‰“å¼€ä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦ï¼‰ã€‚<br>åœ¨terminalä¸­å¯¼èˆªåˆ°æ‚¨çš„Unityå·¥ç¨‹ä¸‹å·¥ç¨‹çš„keystoreæ‰€åœ¨çš„ç›®å½•ã€‚</p><p>è¿›å…¥keystoreæ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -exportcert -alias &#123;è¿™é‡Œå¡«keystoreçš„åˆ«å&#125; -keystore &#123;è¿™é‡Œå¡«keystoreæ–‡ä»¶å&#125;.keystore | openssl sha1 -binary | openssl base64</span><br></pre></td></tr></table></figure><p>keystoreçš„åˆ«åå¯ä»¥åœ¨unityå·¥ç¨‹ä¸­ä¸‹å›¾ä½ç½®ä¸­æ‰¾åˆ°</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geei7khcn1j30ty0tkmyk.jpg" alt></p><p>å½“å®ƒæç¤ºä½ è¾“å…¥å¯†ç æ—¶ï¼Œè¾“å…¥åˆ›å»ºkeystoreçš„å¯†ç å¹¶æŒ‰å›è½¦ã€‚</p><p>å¤åˆ¶ä»¥â€œ=â€ç»“å°¾çš„æ‰“å°åœ¨terminalä¸­çš„å€¼ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°Facebookä¸­çš„Key Hashå­—æ®µä¸­ã€‚ ç„¶åç‚¹å‡»ä¿å­˜æ›´æ”¹ã€‚</p><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Facebook keyhash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§-Imageç»„ä»¶è½¬æ¢RawImageç»„ä»¶</title>
      <link href="/2020/05/02/unity-mei-tian-yi-ge-xiao-ji-qiao-image-zu-jian-ti-huan-cheng-rawimage-zu-jian/"/>
      <url>/2020/05/02/unity-mei-tian-yi-ge-xiao-ji-qiao-image-zu-jian-ti-huan-cheng-rawimage-zu-jian/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>Imageç»„ä»¶è½¬æ¢ä¸ºRawImageç»„ä»¶ï¼Œæ–¹ä¾¿å¿«æ·~</p>          </div><a id="more"></a><h1 id="å†™åœ¨å¼€å¤´"><a href="#å†™åœ¨å¼€å¤´" class="headerlink" title="å†™åœ¨å¼€å¤´"></a>å†™åœ¨å¼€å¤´</h1><div class="note info">            <p>æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€~<a href="https://www.jingfengji.tech/contact">click here!</a></p>          </div><h1 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class UnityComponentExtensionMenu : UnityEditor.Editor</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MenuItem(<span class="meta-string">"CONTEXT/Image/è½¬æ¢æˆRawImage"</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ReplaceImageToRawImage</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Image imageCom = Selection.activeGameObject.GetComponent&lt;Image&gt;();</span><br><span class="line">        <span class="keyword">if</span> (imageCom != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Texture2D texture2D = imageCom.sprite.texture;</span><br><span class="line">            <span class="keyword">bool</span> ray = imageCom.raycastTarget;</span><br><span class="line">            Material material = imageCom.material;</span><br><span class="line">            DestroyImmediate(imageCom);</span><br><span class="line">            RawImage rawImage = Selection.activeGameObject.AddComponent&lt;RawImage&gt;();</span><br><span class="line">            rawImage.texture = texture2D;</span><br><span class="line">            rawImage.raycastTarget = ray;</span><br><span class="line">            rawImage.material = material;</span><br><span class="line">            EditorUtility.SetDirty(Selection.activeGameObject);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gee4e3m4u0j30m20emgnp.jpg" alt="ç¤ºæ„å›¾"></p><h1 id="å†™åœ¨ç»“å°¾"><a href="#å†™åœ¨ç»“å°¾" class="headerlink" title="å†™åœ¨ç»“å°¾"></a>å†™åœ¨ç»“å°¾</h1><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python:çˆ¬å–FaceBookç”¨æˆ·å¤´åƒ</title>
      <link href="/2020/05/02/python-pa-qu-facebook-yong-hu-tou-xiang/"/>
      <url>/2020/05/02/python-pa-qu-facebook-yong-hu-tou-xiang/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>ä½¿ç”¨Pythonæ‰¹é‡çˆ¬å–ä¸‹è½½FBç”¨æˆ·å¤´åƒï¼Œæ¬¢è¿è®¿é—®ğŸ˜‚</p>          </div><a id="more"></a><div class="note info">            <p>æœ¬ç¯‡æ–‡ç« ï¼Œå¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€~<a href="https://www.jingfengji.tech/contact">click here!</a></p>          </div><h1 id="Pythonçˆ¬å–æºç "><a href="#Pythonçˆ¬å–æºç " class="headerlink" title="Pythonçˆ¬å–æºç "></a>Pythonçˆ¬å–æºç </h1><p>æœ¬æ–‡ä»‹ç»çš„çˆ¬å–æ–¹æ³•æ˜¯åŸºäºå·²ç»æœ‰ä¸€äº›ç”¨æˆ·çš„sns_idäº†ï¼Œç„¶åé€šè¿‡å¤´åƒé“¾æ¥è¿›è¡Œå¤´åƒä¸‹è½½ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›ç”¨æˆ·çš„sns_idå’Œç”¨æˆ·å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">10157645719968407,Samer Khalil Zeidan</span><br><span class="line">2332954523430968,Ly Chanheng</span><br><span class="line">296879167966753,Larbas Ramy</span><br><span class="line">2207530449281477,Ryan Sparks</span><br><span class="line">125162838732018,Louis Harrison</span><br><span class="line">598577013979694,Noja</span><br><span class="line">1035700643475774,Mannie Smith</span><br><span class="line">1375390332610824,RaiiMz </span><br><span class="line">187925459051038,Kerstin Mrowka</span><br><span class="line">955693851449409,Dany Trentini</span><br><span class="line">801025260289121,Caleb M Fiene</span><br></pre></td></tr></table></figure><p>å¤´åƒä¸‹è½½é“¾æ¥æ˜¯ä¸€ä¸ªå›ºå®šæ ¼å¼ï¼Œ<a href="https://graph.facebook.com/{sns_id}/picture?type=large" target="_blank" rel="noopener">https://graph.facebook.com/{sns_id}/picture?type=large</a> ï¼Œå°†sns_idå¡«åˆ°é“¾æ¥ä¸­å³å¯ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œåªéœ€è¦æ‰¹é‡ä¸‹è½½å³å¯ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯urlretrieveä¸‹è½½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*- </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlretrieve</span><br><span class="line"></span><br><span class="line">os.makedirs(<span class="string">'./image/'</span>, exist_ok=<span class="literal">True</span>)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">urllib_download</span><span class="params">(sns_id, user_name)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        urlretrieve(<span class="string">"https://graph.facebook.com/&#123;&#125;/picture?type=large"</span>.format(sns_id), <span class="string">'./image/&#123;&#125;.png'</span>.format(user_name))</span><br><span class="line">    <span class="keyword">except</span> BaseException:</span><br><span class="line">        print(sns_id,user_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™é‡Œæ˜¯sns_userçš„ä¸€ä¸ªCSVæ–‡ä»¶</span></span><br><span class="line">fo = open(<span class="string">"/Users/teitomonari/Desktop/sns_user.csv"</span>, <span class="string">"r"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"æ–‡ä»¶åä¸º: "</span>, fo.name)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fo.readlines():                          <span class="comment">#ä¾æ¬¡è¯»å–æ¯è¡Œ  </span></span><br><span class="line">    line = line.strip()                             <span class="comment">#å»æ‰æ¯è¡Œå¤´å°¾ç©ºç™½  </span></span><br><span class="line">    infos = line.split(<span class="string">','</span>,<span class="number">1</span>)</span><br><span class="line">    print(infos[<span class="number">0</span>],infos[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    urllib_download(infos[<span class="number">0</span>],infos[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­æ–‡ä»¶</span></span><br><span class="line">fo.close()</span><br></pre></td></tr></table></figure><p>FBç”¨æˆ·æ–‡ä»¶ä¸‹è½½é“¾æ¥<br><a href="https://github.com/JingFengJi/JingFengJi.github.io/blob/master/sns_user.csv" target="_blank" rel="noopener">https://github.com/JingFengJi/JingFengJi.github.io/blob/master/sns_user.csv</a></p><div class="note info">            <p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¦‚æœæœ‰ä¸æ‡‚ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º!</p>          </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo-theme-butterflyæ‹“å±•å‹é“¾åˆ†ç±»</title>
      <link href="/2020/04/05/hexo-theme-butterfly-tuo-zhan-you-lian-fen-lei/"/>
      <url>/2020/04/05/hexo-theme-butterfly-tuo-zhan-you-lian-fen-lei/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo-theme-butterflyåˆ›å»ºå‹é“¾ç•Œé¢"><a href="#hexo-theme-butterflyåˆ›å»ºå‹é“¾ç•Œé¢" class="headerlink" title="hexo-theme-butterflyåˆ›å»ºå‹é“¾ç•Œé¢"></a>hexo-theme-butterflyåˆ›å»ºå‹é“¾ç•Œé¢</h1><p>å…³äºå¦‚ä½•åˆ›å»ºå‹é“¾ç•Œé¢æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</p><p><a href="https://jerryc.me/posts/dc584b87/#%E5%8F%8B%E6%83%85%E9%8F%88%E6%8E%A5" target="_blank" rel="noopener">https://jerryc.me/posts/dc584b87/#%E5%8F%8B%E6%83%85%E9%8F%88%E6%8E%A5</a></p><p>åˆ›å»ºåçš„æ•ˆæœå°±åƒè¿™æ ·ï¼š<a href="http://www.jingfengji.tech/link/">http://www.jingfengji.tech/link/</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdivlbgs7kj31au09umxu.jpg" alt></p><p>å…¶ä¸­â€å‹æƒ…é“¾æ¥â€è¿™å››ä¸ªå­—æ˜¯åœ¨link.ymlçš„class_nameï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚link.ymlé‡Œçš„link_listå°±æ˜¯å‹é“¾çš„æ•°æ®äº†ã€‚</p><h1 id="æ‹“å±•å‹é“¾åˆ†ç±»"><a href="#æ‹“å±•å‹é“¾åˆ†ç±»" class="headerlink" title="æ‹“å±•å‹é“¾åˆ†ç±»"></a>æ‹“å±•å‹é“¾åˆ†ç±»</h1><p>æ–°å»ºä¸€ä¸ªè·Ÿlink.ymlä¸€æ ·ç»“æ„çš„æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹ä¸ºgamedeveloper.ymlï¼Œæ”¾åœ¨source/_dataä¸­ï¼Œclass_nameæˆ‘æ”¹ä¸ºGame Developerã€‚</p><p>ç„¶åæ‰¾åˆ°flink.pugæ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢è¿™ä¸€æ®µä»£ç </p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdivp8ri6oj31hg0h2gmk.jpg" alt></p><p>ä¿®æ”¹å¤åˆ¶é‚£ä¸€æ®µçš„site.data.link ä¸­çš„linkä¸ºå‰é¢æ–°å»ºçš„gamedeveloper.ymlçš„æ–‡ä»¶åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#page</span></span><br><span class="line">  .flink<span class="meta">#article-container</span></span><br><span class="line">    each i <span class="keyword">in</span> site.data.gamedeveloper</span><br><span class="line">      h2= i.class_name</span><br><span class="line">      .post-cards</span><br><span class="line">        .md-links</span><br><span class="line">          each item <span class="keyword">in</span> i.link_list</span><br><span class="line">            .md-links-item</span><br><span class="line">              a(href=item.link  title=item.name target=<span class="string">"_blank"</span>)</span><br><span class="line">                <span class="keyword">if</span> theme.lazyload.enable</span><br><span class="line">                  img.lazyload(data-src=item.avatar onerror=`<span class="keyword">this</span>.onerror=<span class="literal">null</span>;<span class="keyword">this</span>.src=<span class="string">'` + url_for(theme.lodding_bg.flink) + `'</span>` alt=item.name )</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                  img(src=item.avatar onerror=`<span class="keyword">this</span>.onerror=<span class="literal">null</span>;<span class="keyword">this</span>.src=<span class="string">'` + url_for(theme.lodding_bg.flink) + `'</span>` alt=item.name )</span><br><span class="line">                .md-links-title= item.name </span><br><span class="line">                .md-links-des= item.descr</span><br><span class="line">  .flink<span class="meta">#article-container</span></span><br><span class="line">    each i <span class="keyword">in</span> site.data.link</span><br><span class="line">      h2= i.class_name</span><br><span class="line">      .post-cards</span><br><span class="line">        .md-links</span><br><span class="line">          each item <span class="keyword">in</span> i.link_list</span><br><span class="line">            .md-links-item</span><br><span class="line">              a(href=item.link  title=item.name target=<span class="string">"_blank"</span>)</span><br><span class="line">                <span class="keyword">if</span> theme.lazyload.enable</span><br><span class="line">                  img.lazyload(data-src=item.avatar onerror=`<span class="keyword">this</span>.onerror=<span class="literal">null</span>;<span class="keyword">this</span>.src=<span class="string">'` + url_for(theme.lodding_bg.flink) + `'</span>` alt=item.name )</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                  img(src=item.avatar onerror=`<span class="keyword">this</span>.onerror=<span class="literal">null</span>;<span class="keyword">this</span>.src=<span class="string">'` + url_for(theme.lodding_bg.flink) + `'</span>` alt=item.name )</span><br><span class="line">                .md-links-title= item.name </span><br><span class="line">                .md-links-des= item.descr</span><br><span class="line">    != page.content</span><br><span class="line">  <span class="keyword">if</span> page.comments !== <span class="literal">false</span></span><br><span class="line">    include includes/comments/index.pug</span><br></pre></td></tr></table></figure><p>!= page.content è¿™ä¸€è¡Œä¸è¦å¤åˆ¶äº†ã€‚</p><p>æœ€ç»ˆæ•ˆæœï¼š<a href="http://www.jingfengji.tech/link/">http://www.jingfengji.tech/link/</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdivucdbe3j31ei0pyabi.jpg" alt></p><h1 id="2020-4-10-æ›´æ–°"><a href="#2020-4-10-æ›´æ–°" class="headerlink" title="2020.4.10 æ›´æ–°"></a>2020.4.10 æ›´æ–°</h1><p>ç»ç¾¤å‹ äº‘ç©å®¶(<a href="https://blog.zplayer.cloud" target="_blank" rel="noopener">https://blog.zplayer.cloud</a>) æŒ‡æ•™ï¼Œä¸Šé¢æ–¹æ³•å¤æ‚äº†ï¼Œç›´æ¥åœ¨link.ymlé‡Œå¤åˆ¶ä¸€ä¸ªclasså³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdp2c7setyj31ca0q40uc.jpg" alt></p><p>ä¸€ä¸ªclasså¯¹åº”ä¸€ä¸ªåˆ†ç±»ï¼Œæ•ˆæœè·Ÿå‰é¢æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ–¹æ³•ç®€å•å¾—å¤šã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Hexo-Theme-Butterfly </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰åï¼šæ‹“å±•UnityToolBar</title>
      <link href="/2020/04/05/unity-bian-ji-qi-tuo-zhan-zhi-san-shi-tuo-zhan-unitytoolbar/"/>
      <url>/2020/04/05/unity-bian-ji-qi-tuo-zhan-zhi-san-shi-tuo-zhan-unitytoolbar/</url>
      
        <content type="html"><![CDATA[<h1 id="Unity-ToolBaræ‹“å±•å¼€æºåº“"><a href="#Unity-ToolBaræ‹“å±•å¼€æºåº“" class="headerlink" title="Unity ToolBaræ‹“å±•å¼€æºåº“"></a>Unity ToolBaræ‹“å±•å¼€æºåº“</h1><ul><li><a href="https://github.com/arimger/Unity-Editor-Toolbox.git" target="_blank" rel="noopener">https://github.com/arimger/Unity-Editor-Toolbox.git</a></li><li><a href="https://github.com/smkplus/CustomToolbar.git" target="_blank" rel="noopener">https://github.com/smkplus/CustomToolbar.git</a></li><li><a href="https://github.com/marijnz/unity-toolbar-extender.git" target="_blank" rel="noopener">https://github.com/marijnz/unity-toolbar-extender.git</a></li></ul><h2 id="Unity-Editor-Toolbox"><a href="#Unity-Editor-Toolbox" class="headerlink" title="Unity-Editor-Toolbox"></a>Unity-Editor-Toolbox</h2><p>è¿™ä¸ªå¼€æºåº“é‡ŒåŒ…å«äº†å¾ˆå¤šEditoræ‹“å±•ï¼Œæœ¬ç¯‡ä»…ä»‹ç»Toolbarçš„æ‹“å±•ï¼Œå…³äºToolbarçš„ä»‹ç»ï¼š<a href="https://github.com/arimger/Unity-Editor-Toolbox#toolbar-" target="_blank" rel="noopener">https://github.com/arimger/Unity-Editor-Toolbox#toolbar-</a></p><p>è¯¦ç»†ä»£ç ï¼š<a href="https://github.com/arimger/Unity-Editor-Toolbox/blob/master/Assets/Editor%20Toolbox/Editor/ToolboxEditorToolbar.cs" target="_blank" rel="noopener">https://github.com/arimger/Unity-Editor-Toolbox/blob/master/Assets/Editor%20Toolbox/Editor/ToolboxEditorToolbar.cs</a></p><p>å¦‚æœåªéœ€è¦Toolbaræ‹“å±•ï¼Œåªéœ€è¦æŠŠè¿™ä¸€ä¸ªè„šæœ¬æ‹·è´åˆ°å·¥ç¨‹ä¸‹Editorç›®å½•ï¼Œå†å»ºä¸€ä¸ªæ·»åŠ Toolbarèœå•çš„è„šæœ¬ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Toolbox.Editor;</span><br><span class="line"></span><br><span class="line">[<span class="meta">UnityEditor.InitializeOnLoad</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyEditorUtility</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">MyEditorUtility</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        ToolboxEditorToolbar.AddToolbarButton(<span class="keyword">new</span> ToolbarButton(() =&gt; Debug.Log(<span class="string">"1"</span>), <span class="keyword">new</span> GUIContent(<span class="string">"1"</span>)));</span><br><span class="line">        ToolboxEditorToolbar.AddToolbarButton(<span class="keyword">new</span> ToolbarButton(() =&gt; Debug.Log(<span class="string">"2"</span>), <span class="keyword">new</span> GUIContent(<span class="string">"2"</span>)));</span><br><span class="line">        ToolboxEditorToolbar.AddToolbarButton(<span class="keyword">new</span> ToolbarButton(() =&gt; Debug.Log(<span class="string">"3"</span>), <span class="keyword">new</span> GUIContent(<span class="string">"3"</span>)));</span><br><span class="line">        ToolboxEditorToolbar.AddToolbarButton(<span class="keyword">new</span> ToolbarButton(() =&gt; Debug.Log(<span class="string">"4"</span>), <span class="keyword">new</span> GUIContent(<span class="string">"4"</span>)));</span><br><span class="line">        ToolboxEditorToolbar.AddToolbarButton(<span class="keyword">new</span> ToolbarButton(() =&gt; Debug.Log(<span class="string">"5"</span>), <span class="keyword">new</span> GUIContent(<span class="string">"5"</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgpxz8wodj30x003gq33.jpg" alt="æ•ˆæœå›¾"></p><p>è¿™ä¸ªä»“åº“çš„èœå•åªä¼šæ·»åŠ åœ¨å·¦ä¾§ã€‚</p><p>ç»è¿‡æµ‹è¯•ï¼ŒæŒ‰ç…§ä»“åº“è®¾è®¡çš„æŒ‰é’®å¤§å°ï¼Œåªå¤Ÿæ”¾ç½®7ä¸ªæŒ‰é’®ï¼Œå½“ç„¶å„ä¸ªunityç‰ˆæœ¬çš„Toolbarä¸­é—´çš„å®½åº¦ä¸ä¸€ï¼Œä¼šæœ‰ç‚¹å·®å¼‚ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgq0b1n7ej314m04i0t1.jpg" alt></p><h2 id="CustomToolbar"><a href="#CustomToolbar" class="headerlink" title="CustomToolbar"></a>CustomToolbar</h2><p>è¿™ä¸ªä»“åº“å®ç°çš„è‡ªå®šä¹‰Toolbarç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgq4el7fkj317s0p67a7.jpg" alt></p><p>ä»“åº“æ‹“å±•äº†5ä¸ªåŠŸèƒ½ï¼Œæ˜¯åŸºäºunity-toolbar-extenderå¼€å‘çš„ã€‚è¿™ä¸ªåº“æ”¯æŒå¾€å·¦å³ä¸¤è¾¹æ·»åŠ è‡ªå®šä¹‰èœå•ã€‚</p><p>è¿™äº”ä¸ªåŠŸèƒ½åŒ…å«åœ¨ä¸‹å›¾çš„è„šæœ¬ä¸­</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgq9ckx0ej30m20b6jrk.jpg" alt></p><p>ä¿ç•™ToolbarCallbackå’ŒToolbarExtenderè„šæœ¬ï¼Œé€šè¿‡å¾€ToolbarExtender.RightToolbarGUIå’ŒToolbarExtender.LeftToolbarGUIæ·»åŠ Actionï¼Œå³å¯ç»˜åˆ¶è‡ªå®šä¹‰çš„èœå•ã€‚</p><h2 id="unity-toolbar-extender"><a href="#unity-toolbar-extender" class="headerlink" title="unity-toolbar-extender"></a>unity-toolbar-extender</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgqfrcbkrj30u8054aad.jpg" alt></p><p>CustomToolbaråº“æ˜¯åŸºäºunity-toolbar-extenderçš„ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨è·Ÿå‰é¢è®²çš„ä¸€æ ·ã€‚è¿™ä¸ªåº“è‡ªå¸¦çš„æ˜¯</p><ul><li>åˆ‡æ¢åœºæ™¯è¿è¡Œ</li><li>Focus Sceneå¼€å…³ï¼Œå¦‚æœæ‰“å¼€ï¼Œåˆ™è¿è¡Œæ¸¸æˆåï¼Œè‡ªåŠ¨Focus Scene View</li></ul><h1 id="æ ¸å¿ƒä»£ç "><a href="#æ ¸å¿ƒä»£ç " class="headerlink" title="æ ¸å¿ƒä»£ç "></a>æ ¸å¿ƒä»£ç </h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ToolbarCallback</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//åå°„è·å–Toolbarç±»å‹</span></span><br><span class="line">    <span class="keyword">static</span> Type m_toolbarType = <span class="keyword">typeof</span>(Editor).Assembly.GetType(<span class="string">"UnityEditor.Toolbar"</span>);</span><br><span class="line">    <span class="comment">//åå°„è·å–GUIViewç±»å‹</span></span><br><span class="line">    <span class="keyword">static</span> Type m_guiViewType = <span class="keyword">typeof</span>(Editor).Assembly.GetType(<span class="string">"UnityEditor.GUIView"</span>);</span><br><span class="line">    <span class="keyword">static</span> PropertyInfo m_viewVisualTree = m_guiViewType.GetProperty(<span class="string">"visualTree"</span>,</span><br><span class="line">        BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);</span><br><span class="line">    <span class="keyword">static</span> FieldInfo m_imguiContainerOnGui = <span class="keyword">typeof</span>(IMGUIContainer).GetField(<span class="string">"m_OnGUIHandler"</span>,</span><br><span class="line">        BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);</span><br><span class="line">    <span class="keyword">static</span> ScriptableObject m_currentToolbar;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Callback for toolbar OnGUI method.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Action OnToolbarGUI;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">ToolbarCallback</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        EditorApplication.update -= OnUpdate;</span><br><span class="line">        EditorApplication.update += OnUpdate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// Relying on the fact that toolbar is ScriptableObject and gets deleted when layout changes</span></span><br><span class="line">        <span class="keyword">if</span> (m_currentToolbar == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è·å–åˆ°åŸæœ‰çš„Toolbar</span></span><br><span class="line">            <span class="keyword">var</span> toolbars = Resources.FindObjectsOfTypeAll(m_toolbarType);</span><br><span class="line">            m_currentToolbar = toolbars.Length &gt; <span class="number">0</span> ? (ScriptableObject) toolbars[<span class="number">0</span>] : <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span> (m_currentToolbar != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//è·å–Toolbarçš„VisualTree</span></span><br><span class="line">                <span class="keyword">var</span> visualTree = (VisualElement) m_viewVisualTree.GetValue(m_currentToolbar, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Get first child which 'happens' to be toolbar IMGUIContainer</span></span><br><span class="line">                <span class="keyword">var</span> container = (IMGUIContainer) visualTree[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">                <span class="comment">//é‡æ–°æ³¨å†Œhandler</span></span><br><span class="line">                <span class="keyword">var</span> handler = (Action) m_imguiContainerOnGui.GetValue(container);</span><br><span class="line">                handler -= OnGUI;</span><br><span class="line">                handler += OnGUI;</span><br><span class="line">                m_imguiContainerOnGui.SetValue(container, handler);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰çš„ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OnGUI</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">var</span> handler = OnToolbarGUI;</span><br><span class="line">        <span class="keyword">if</span> (handler != <span class="literal">null</span>) handler();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ToolBar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§-UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›è°ƒäº‹ä»¶</title>
      <link href="/2020/04/03/unity-mei-tian-yi-ge-xiao-ji-qiao-unitypackage-de-dao-ru-kai-shi-wan-cheng-qu-xiao-shi-bai-hui-diao-shi-jian/"/>
      <url>/2020/04/03/unity-mei-tian-yi-ge-xiao-ji-qiao-unitypackage-de-dao-ru-kai-shi-wan-cheng-qu-xiao-shi-bai-hui-diao-shi-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›è°ƒäº‹ä»¶"><a href="#UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›è°ƒäº‹ä»¶" class="headerlink" title="UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›è°ƒäº‹ä»¶"></a>UnityPackageçš„å¯¼å…¥å¼€å§‹ã€å®Œæˆã€å–æ¶ˆã€å¤±è´¥å›è°ƒäº‹ä»¶</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line">[<span class="meta">InitializeOnLoad</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">UnityPackageImportListener</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">UnityPackageImportListener</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// .unitypackageå¼€å§‹å¯¼å…¥</span></span><br><span class="line">        AssetDatabase.importPackageStarted += packageName =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log( packageName );</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// .unitypackageå¯¼å…¥å®Œæˆ</span></span><br><span class="line">        AssetDatabase.importPackageCompleted += packageName =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log( packageName );</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// .unitypackageå–æ¶ˆå¯¼å…¥</span></span><br><span class="line">        AssetDatabase.importPackageCancelled += packageName =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log( packageName );</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// .unitypackageå¯¼å…¥å¤±è´¥</span></span><br><span class="line">        AssetDatabase.importPackageFailed += ( packageName, errorMessage ) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log( errorMessage );</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityæ¯å¤©ä¸€ä¸ªå°æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UnityPackage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹SpriteAtlasè¯¦è§£</title>
      <link href="/2020/03/29/unity-zhi-spriteatlas-xiang-jie/"/>
      <url>/2020/03/29/unity-zhi-spriteatlas-xiang-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityä¹‹SpriteAtlasè¯¦è§£"><a href="#Unityä¹‹SpriteAtlasè¯¦è§£" class="headerlink" title="Unityä¹‹SpriteAtlasè¯¦è§£"></a>Unityä¹‹SpriteAtlasè¯¦è§£</h1><p>Unityå®˜æ–¹ä»‹ç»ï¼š<a href="https://docs.unity3d.com/Manual/class-SpriteAtlas.html" target="_blank" rel="noopener">https://docs.unity3d.com/Manual/class-SpriteAtlas.html</a></p><p>SpriteAtlas Inspectoré¢æ¿å¦‚ä¸‹å›¾ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdatrsnat1j30i20pqjtb.jpg" alt></p><p>åˆ›å»ºæ–¹æ³•ï¼š</p><p>1ã€Projecté¢æ¿é¼ æ ‡å³é”®Create-&gt;Sprite Atlas</p><p>2ã€èœå•æ Asset-&gt;Create-&gt;Sprite Atlas</p><h2 id="å±æ€§ä»‹ç»"><a href="#å±æ€§ä»‹ç»" class="headerlink" title="å±æ€§ä»‹ç»:"></a>å±æ€§ä»‹ç»:</h2><h3 id="Type"><a href="#Type" class="headerlink" title="Type"></a>Type</h3><pre><code>SpriteAtlasæœ‰ä¸¤ç§ç±»å‹ï¼ŒMasteræˆ–è€…Variantï¼Œé»˜è®¤ç±»å‹æ˜¯MAsterï¼›Variantæ˜¯å˜ä½“ç±»å‹ï¼Œåˆ›å»ºä¸€ä¸ªå˜ä½“å›¾é›†ï¼Œå¹¶å£°æ˜å®ƒæ˜¯é¡¹ç›®ä¸­ä¸€ä¸ªç°æœ‰SpriteAtlasçš„å˜ä½“ï¼Œå¦‚ä¸‹å›¾ï¼Œå˜ä½“å›¾é›†å°†å¤åˆ¶æ¯ç‰ˆå›¾é›†çš„çº¹ç†ï¼Œç„¶åæ ¹æ®scaleè°ƒæ•´å˜ä½“å›¾é›†çš„å¤§å°ã€‚</code></pre><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://tva1.sinaimg.cn/large/00831rSTgy1gdaukgd3y3j30ks09k3z3.jpg" alt></p><h3 id="Include-in-Build"><a href="#Include-in-Build" class="headerlink" title="Include in Build"></a>Include in Build</h3><pre><code>é€‰ä¸­æ­¤å¤é€‰æ¡†ä»¥å°†Sprite Atlasèµ„äº§åŒ…å«åœ¨å½“å‰ç‰ˆæœ¬ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹å¯ç”¨æ­¤é€‰é¡¹ã€‚</code></pre><h3 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h3><pre><code>å˜ä½“å›¾é›†ç¼©æ”¾æ•°å€¼ï¼Œå€¼å¯ä»¥ä»0.1åˆ°1</code></pre><h3 id="Allow-Rotation"><a href="#Allow-Rotation" class="headerlink" title="Allow Rotation"></a>Allow Rotation</h3><pre><code>æ˜¯å¦å…è®¸Unityå°†æ‰“åŒ…åˆ°SpriteAtlasä¸­çš„Spriteè¿›è¡Œæ—‹è½¬ï¼Œå¦‚æœå…è®¸ï¼Œå¯ä»¥æœ€å¤§åŒ–æé«˜å›¾é›†ä¸­Spriteçš„å¯†åº¦ï¼Œé»˜è®¤å…è®¸æ—‹è½¬ã€‚å¦‚æœæ˜¯åœ¨UGUIä¸­ä½¿ç”¨SpriteAtlasï¼Œåº”è¯¥ç¦ç”¨æ—‹è½¬</code></pre><h3 id="Tight-Packing"><a href="#Tight-Packing" class="headerlink" title="Tight Packing"></a>Tight Packing</h3><pre><code>æ ¹æ®Spriteè½®å»“è€Œä¸æ˜¯é»˜è®¤çš„çŸ©å½¢è½®å»“æ‰“åŒ…Spriteï¼Œè¿›ä¸€æ­¥æé«˜å›¾é›†ä¸­Spriteçš„å¯†åº¦ï¼Œé»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œåœ¨UGUIä¸­ä½¿ç”¨SpriteAtlasåº”è¯¥ç¦ç”¨</code></pre><h3 id="Padding"><a href="#Padding" class="headerlink" title="Padding"></a>Padding</h3><pre><code>å›¾é›†ä¸­å„ä¸ªSpriteä¹‹é—´çš„åƒç´ è·ç¦»ï¼Œé¿å…å›¾é›†ä¸­å½¼æ­¤ç›¸é‚»çš„Spriteå‘ç”Ÿåƒç´ é‡å ã€‚é»˜è®¤ä¸º4åƒç´ ï¼Œæ”¯æŒ2ã€4ã€8ä¸‰ç§é€‰æ‹©ã€‚</code></pre><h3 id="Objects-For-Packing"><a href="#Objects-For-Packing" class="headerlink" title="Objects For Packing"></a>Objects For Packing</h3><pre><code>Unityå°†æ­¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä¸ªå›¾é›†ã€‚æ”¯æŒæ‹–å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–è€…ä¸€ä¸ªå•ç‹¬çš„Spriteã€‚</code></pre><h2 id="Sprite-Packer"><a href="#Sprite-Packer" class="headerlink" title="Sprite Packer"></a>Sprite Packer</h2><pre><code>SpritePackeré»˜è®¤æ˜¯å…³é—­çš„çŠ¶æ€ï¼Œåœ¨Edit -&gt; Project Settings -&gt; Editorä¸­å°†SpritePacker Modeæ›´æ”¹ä¸ºEnableï¼ŒAlways Enabledé€‰é¡¹å§‹ç»ˆæ‰“å¼€ã€‚æ‰“å¼€åå›åˆ°SpriteAtlas Inspectoré¢æ¿ï¼Œç‚¹å‡»Pack PreviewæŒ‰é’®å°±å¯ä»¥åœ¨é¢„è§ˆçª—å£çœ‹åˆ°å›¾é›†äº†ã€‚</code></pre><h2 id="Late-Binding"><a href="#Late-Binding" class="headerlink" title="Late Binding"></a>Late Binding</h2><pre><code>ä»è¯­ä¹‰æ¥çœ‹ç§°ä¹‹ä¸ºåæœŸç»‘å®šï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡Œæ—¶ä»¥ä¸å¼•ç”¨å›¾é›†çš„å½¢å¼å¯åŠ¨ï¼Œå¹¶ä¸”åœ¨ç»‘å®šå›¾é›†ä¹‹å‰å°†æ˜¾ç¤ºä¸ºç©ºç™½ã€‚å¦‚æœåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å›¾é›†æ¥æºäºç½‘ç»œä¸‹è½½ï¼Œè¿™æ ·å°±å…è®¸ç”¨æˆ·è¿›è¡ŒåæœŸç»‘å®šäº†ã€‚</code></pre><h2 id="Late-Binding-via-callback"><a href="#Late-Binding-via-callback" class="headerlink" title="Late Binding via callback"></a>Late Binding via callback</h2><p>1ã€Spriteæ‰“åŒ…åˆ°SpriteAtlasä¸­ï¼ŒSpriteAtlasæœªé€‰ä¸­Include In Buildï¼Œspriteåœ¨åœºæ™¯ä¸­å°±ä¸å¯è§</p><p>2ã€SpriteAtlas.atlasRequestedè¿™ä¸ªå§”æ‰˜æ–¹æ³•æä¾›ä¸€ä¸ªå‘ŠçŸ¥ä¸Šå±‚é€»è¾‘è¦ç»‘å®šçš„å›¾é›†æ ‡ç­¾å’ŒåŒ…å«SpriteAtlasèµ„äº§çš„Actionï¼Œé€šè¿‡è¿™ä¸ªå§”æ‰˜ï¼Œä¸Šå±‚é€»è¾‘æ ¹æ®å›¾é›†æ ‡ç­¾è‡ªè¡ŒåŠ è½½ç®¡ç†å›¾é›†ï¼Œå¹¶å°†åŠ è½½å¥½çš„å›¾é›†é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°Actionå‘ŠçŸ¥ç»™åº•å±‚ã€‚è‡³äºå¦‚ä½•æ ¹æ®å›¾é›†æ ‡ç­¾åŠ è½½å›¾é›†ï¼Œä¸åœ¨æœ¬ç¯‡æ–‡ç« èŒƒå›´å†…ã€‚<br>SpriteAtlas.atlasRequestedçš„ç¬¬ä¸€ä¸ªå‚æ•°stringç±»å‹çš„tagå°±æ˜¯éœ€è¦åŠ è½½çš„å›¾é›†æ–‡ä»¶åï¼ŒSpriteAtlasæœ¬èº«æ— æ³•æŒ‡å®šTagã€‚</p><h2 id="SpriteAtlas-amp-AssetBundle"><a href="#SpriteAtlas-amp-AssetBundle" class="headerlink" title="SpriteAtlas &amp; AssetBundle"></a>SpriteAtlas &amp; AssetBundle</h2><p>å–æ¶ˆInclue in buildé€‰é¡¹æ‰“åŒ…ï¼Œè¿è¡Œæ—¶ä½¿ç”¨SpriteAtlas.atlasRequestedå›è°ƒå¾—åˆ°éœ€è¦åŠ è½½çš„å›¾é›†Tagï¼Œä½¿ç”¨è‡ªå·±é¡¹ç›®ä¸­çš„èµ„æºæ¨¡å—è¿›è¡ŒSpriteAtlasåŠ è½½åå¹¶æ‰§è¡Œå›è°ƒä¼ ç»™åº•å±‚ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://forum.unity.com/threads/about-include-in-build-behaviour.481433/" target="_blank" rel="noopener">https://forum.unity.com/threads/about-include-in-build-behaviour.481433/</a></p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> SpriteAtlas </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpriteAtlasè¯¦è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UnityTipsâ€”â€”Unityå°æŠ€å·§é›†åˆ</title>
      <link href="/2019/12/21/unitytips-unity-xiao-ji-qiao-ji-he/"/>
      <url>/2019/12/21/unitytips-unity-xiao-ji-qiao-ji-he/</url>
      
        <content type="html"><![CDATA[<h1 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h1><h2 id="RequiredAttribute"><a href="#RequiredAttribute" class="headerlink" title="RequiredAttribute"></a>RequiredAttribute</h2><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼šå½“å¼•ç”¨ç±»å‹çš„propertyä¸ºç©ºæ—¶ï¼Œä½¿ç”¨çº¢è‰²æç¤ºã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTQ2am9taHUxZzMwa2UwODg3d2ouZ2lm" alt></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><p>1ã€RequiredAttribute.cs</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RequiredAttribute</span> : <span class="title">PropertyAttribute</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€RequiredDrawer.cs</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line">[<span class="meta">CustomPropertyDrawer(typeof(RequiredAttribute))</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RequiredDrawer</span> : <span class="title">PropertyDrawer</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnGUI</span>(<span class="params">Rect position, SerializedProperty property, GUIContent label</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Color c = GUI.backgroundColor;</span><br><span class="line">        <span class="keyword">if</span> ((property.propertyType == SerializedPropertyType.ObjectReference || property.propertyType == SerializedPropertyType.ExposedReference) &amp;&amp; property.objectReferenceValue == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            GUI.backgroundColor = Color.red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        EditorGUI.PropertyField(position, property);</span><br><span class="line">        GUI.backgroundColor = c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€æµ‹è¯•è„šæœ¬RequiredAttributeDemo.cs</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RequiredAttributeDemo</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Required</span>] <span class="keyword">public</span> Transform _transform;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><h2 id="Debug-Logæ—¥å¿—ç‚¹å‡»"><a href="#Debug-Logæ—¥å¿—ç‚¹å‡»" class="headerlink" title="Debug.Logæ—¥å¿—ç‚¹å‡»"></a>Debug.Logæ—¥å¿—ç‚¹å‡»</h2><p>Debug.Log å®˜æ–¹æ–‡æ¡£ä»‹ç»åœ°å€ï¼š<a href="https://docs.unity3d.com/ScriptReference/Debug.Log.html" target="_blank" rel="noopener">https://docs.unity3d.com/ScriptReference/Debug.Log.html</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTQ3ZXVkY3d1ZzMwZDIwYjZxdjUuZ2lm" alt></p><h2 id="è„šæœ¬æ”¹ç±»åï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶å"><a href="#è„šæœ¬æ”¹ç±»åï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶å" class="headerlink" title="è„šæœ¬æ”¹ç±»åï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶å"></a>è„šæœ¬æ”¹ç±»åï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶å</h2><p>Riderã€VSä½¿ç”¨å¿«æ·é”®Ctrl+R+Rï¼Œå¼¹å‡ºæ”¹åæ¡†</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTQ3bm55bzdnZzMwOHcwNHVucGQuZ2lm" alt></p><h2 id="ç¦»å¼€ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥è¿è¡Œæ¨¡å¼æ—¶ï¼Œä¿å­˜Sceneå’ŒAssets"><a href="#ç¦»å¼€ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥è¿è¡Œæ¨¡å¼æ—¶ï¼Œä¿å­˜Sceneå’ŒAssets" class="headerlink" title="ç¦»å¼€ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥è¿è¡Œæ¨¡å¼æ—¶ï¼Œä¿å­˜Sceneå’ŒAssets"></a>ç¦»å¼€ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥è¿è¡Œæ¨¡å¼æ—¶ï¼Œä¿å­˜Sceneå’ŒAssets</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTQ4MTR2enRoZzMwOWEwYmdoYWQuZ2lm" alt></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"> <span class="keyword">using</span> UnityEditor.SceneManagement;</span><br><span class="line"> <span class="keyword">using</span> UnityEngine;</span><br><span class="line"> </span><br><span class="line"> [<span class="meta">InitializeOnLoad</span>]</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AutoSave</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="function"><span class="keyword">static</span> <span class="title">AutoSave</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>     &#123;</span><br><span class="line">         EditorApplication.playModeStateChanged += SaveOnPlay;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SaveOnPlay</span>(<span class="params">PlayModeStateChange state</span>)</span></span><br><span class="line"><span class="function"></span>     &#123;</span><br><span class="line">         <span class="keyword">if</span> (state == PlayModeStateChange.ExitingEditMode)</span><br><span class="line">         &#123;</span><br><span class="line">             Debug.Log(<span class="string">"Exiting Edit Mode,Auto Save..."</span>);</span><br><span class="line">             EditorSceneManager.SaveOpenScenes();</span><br><span class="line">             AssetDatabase.SaveAssets();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="Unityå¤šè¯­è¨€ä¿®æ”¹"><a href="#Unityå¤šè¯­è¨€ä¿®æ”¹" class="headerlink" title="Unityå¤šè¯­è¨€ä¿®æ”¹"></a>Unityå¤šè¯­è¨€ä¿®æ”¹</h2><p>èµ·å› ï¼šç¾¤å‹æƒ³ä¿®æ”¹AudioSourceç»„ä»¶çš„Inspectoré¢æ¿ä¸­Volumeå­—æ®µçš„æç¤ºå†…å®¹ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwcXlidmh2ajMwaTgwankwdXUuanBn?x-oss-process=image/format,png" alt></p><p>ç„¶åæˆ‘ä¸€æŸ¥Editorè„šæœ¬ï¼Œ<a href="https://github.com/Unity-Technologies/UnityCsReference/blob/2019.3/Editor/Mono/Inspector/AudioSourceInspector.cs" target="_blank" rel="noopener">https://github.com/Unity-Technologies/UnityCsReference/blob/2019.3/Editor/Mono/Inspector/AudioSourceInspector.cs</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwc2t4b2RlajMxbTQwaHVhamguanBn?x-oss-process=image/format,png" alt></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwc3h0ZWJpajMweHMwOTJkaTkuanBn?x-oss-process=image/format,png" alt></p><p>è¿™å†™æ­»äº†ï¼Œï¼Œï¼Œæ€ä¹ˆæ”¹ã€‚ã€‚ã€‚</p><p>åæ¥ç¾¤å‹æé†’åˆ°Unityç°åœ¨æ”¯æŒå¤šè¯­è¨€ï¼Œé‚£å°±ä¸‹è½½ä¸€ä¸ªä¸­æ–‡åŒ…çœ‹çœ‹ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwdHRxMDN0ajMwemswYWdnb2cuanBn?x-oss-process=image/format,png" alt></p><p>ä¸­æ–‡åŒ…ä¸‹è½½ä¸‹æ¥æ˜¯ä¸Šå›¾ä¸­çš„ä¸€ä¸ª.poæ–‡ä»¶</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwdWs4ampiajMxZGkwbHM0M2guanBn?x-oss-process=image/format,png" alt></p><p>çœ‹æ ·å­æ˜¯ä»¥ä¸€ä¸ªmsgidå¯¹åº”ä¸€ä¸ªmsgstrï¼Œmsgidå°±æ˜¯è‹±æ–‡çš„å†…å®¹ï¼Œmsgstrå°±æ˜¯å„è¯­è¨€çš„å†…å®¹äº†ã€‚</p><p>æ¥ç€æ‰¾â€Sets the overall volume of the sound.â€</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRwdzNmam1sajMwdjgwNzZ3ZnQuanBn?x-oss-process=image/format,png" alt></p><p>å¯¹åº”çš„ä¸­æ–‡å†…å®¹å°±æ˜¯ä¸Šé¢äº†ã€‚ã€‚</p><p>é‚£ä¹ˆ.poæ–‡ä»¶è‡ªå·±ä¿®æ”¹åï¼Œé‡å¯Unityåå°±å¯ä»¥åº”ç”¨ä¸Šå»äº†ã€‚</p><p>æµ‹è¯•ä»¥ä¸‹:</p><p>msgstr â€œè®¾ç½®å£°éŸ³çš„æ•´ä½“éŸ³é‡ã€‚â€</p><p>ä¿®æ”¹æˆ</p><p>msgstr â€œè®¾ç½®å£°éŸ³çš„æ•´ä½“éŸ³é‡ã€‚ï¼ˆä¿®æ”¹ç‰ˆï¼‰â€</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRweXFheDh3ajMwaTQwNndhYWkuanBn?x-oss-process=image/format,png" alt></p><p>å¦‚ä¸Šå›¾ï¼Œä¿®æ”¹æˆåŠŸã€‚</p><p>é‚£ä¹ˆï¼Œå›åˆ°é‚£ä½ç¾¤å‹çš„é—®é¢˜ï¼Œå¦‚æœåªä¿®æ”¹é‚£ä¸ªVolumeçš„æç¤ºæ–‡æœ¬å‘¢ï¼Œå¾ˆç®€å•ï¼ŒæŠŠ.poæ–‡ä»¶çš„å…¶ä»–å†…å®¹éƒ½åˆ æ‰ï¼Œæ–‡ä»¶å¤´çš„å†…å®¹åˆ«åˆ äº†ï¼Œåªç•™ä¸‹è¿™ä¸ªmsgidå’Œmsgstrï¼Œåˆ«çš„éƒ½idå’Œstréƒ½åˆ äº†ï¼Œè¿™æ ·å°±å®ç°äº†ä¿®æ”¹Volumeçš„æç¤ºæ–‡æœ¬äº†ã€‚</p><p>å¦‚ä¸‹å›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTRxMTN1M2MxajMwaGEwYjQwdGkuanBn?x-oss-process=image/format,png" alt></p><p>ä¸è¿‡ä¸­æ–‡çš„.poæ–‡ä»¶ æ˜¯ç”¨çš„ ä¸­æ–‡çš„å­—ä½“ï¼Œæ€»ä¹‹ï¼Œçœ‹ç€å°±æ˜¯åˆ«æ‰­ã€‚ã€‚ã€‚</p><h1 id="æ·»åŠ è‡ªå®šä¹‰HeaderGUI"><a href="#æ·»åŠ è‡ªå®šä¹‰HeaderGUI" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰HeaderGUI"></a>æ·»åŠ è‡ªå®šä¹‰HeaderGUI</h1><p><a href="https://docs.unity3d.com/2019.2/Documentation/ScriptReference/Editor-finishedDefaultHeaderGUI.html" target="_blank" rel="noopener">å®˜æ–¹é“¾æ¥è¯´æ˜</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5iUndneTFnYTZmeWg5aGJlajMwYWEwMXZ0OHQuanBn?x-oss-process=image/format,png" alt></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"></span><br><span class="line">[<span class="meta">InitializeOnLoadAttribute</span>]</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">EditorHeaderGUID</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">EditorHeaderGUID</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Editor.finishedDefaultHeaderGUI += DisplayGUIDIfPersistent;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DisplayGUIDIfPersistent</span>(<span class="params">Editor editor</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!EditorUtility.IsPersistent(editor.target))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> guid = AssetDatabase.AssetPathToGUID(AssetDatabase.GetAssetPath(editor.target));</span><br><span class="line">        <span class="keyword">var</span> totalRect = EditorGUILayout.GetControlRect();</span><br><span class="line">        <span class="keyword">var</span> controlRect = EditorGUI.PrefixLabel(totalRect, EditorGUIUtility.TrTempContent(<span class="string">"GUID"</span>));</span><br><span class="line">        <span class="keyword">if</span> (editor.targets.Length &gt; <span class="number">1</span>)</span><br><span class="line">            EditorGUI.LabelField(controlRect, EditorGUIUtility.TrTempContent(<span class="string">"[Multiple objects selected]"</span>));</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            EditorGUI.SelectableLabel(controlRect, guid);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="OnValidataæ•°æ®æ£€æŸ¥"><a href="#OnValidataæ•°æ®æ£€æŸ¥" class="headerlink" title="OnValidataæ•°æ®æ£€æŸ¥"></a>OnValidataæ•°æ®æ£€æŸ¥</h1><p><a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnValidate.html" target="_blank" rel="noopener">OnValidataå®˜æ–¹æ–‡æ¡£ä»‹ç»</a></p><p>åœ¨ç¼–è¾‘å™¨ä¸­å¯ä»¥ä½¿ç”¨ OnValidate() å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œæ£€æŸ¥ã€‚ï¼ˆä»…ç¼–è¾‘çŠ¶æ€ä¸‹æœ‰æ•ˆï¼‰</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OnValidateExample</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> validateTestValue;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnValidate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">//Check validateTestValue</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ‹–æ‹½å¤šä¸ªå…ƒç´ åˆ°-inspector"><a href="#æ‹–æ‹½å¤šä¸ªå…ƒç´ åˆ°-inspector" class="headerlink" title="æ‹–æ‹½å¤šä¸ªå…ƒç´ åˆ° inspector"></a>æ‹–æ‹½å¤šä¸ªå…ƒç´ åˆ° inspector</h1><p>å¯ä»¥æ‹–æ‹½å…ƒç´ ç›´æ¥åŠ åˆ° inspector ä¸­å»ï¼Œä½†æ˜¯é€‰æ‹©å¤šä¸ªå…ƒç´ çš„æ—¶å€™å°±ä¸å®¹æ˜“åšåˆ°äº†ï¼Œå…¶å®æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯å…ˆé”å®š inspectorï¼Œå°±å¯ä»¥è½»æ˜“çš„å°†å¤šä¸ªå…ƒç´ ï¼ˆå¯¹è±¡ï¼‰æ‹–æ‹½åˆ° inspector ä¸­äº†ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚<br>æœ¬ä¸»é¢˜æŒç»­æ›´æ–°ã€‚ã€‚ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UnityTips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UnityTips </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GameFrameworkæ¡†æ¶æºç è§£è¯»ï¼ˆä¸€ï¼‰ï¼šEditorç¯‡</title>
      <link href="/2019/10/26/gameframework-kuang-jia-yuan-ma-jie-du-yi-editor-pian/"/>
      <url>/2019/10/26/gameframework-kuang-jia-yuan-ma-jie-du-yi-editor-pian/</url>
      
        <content type="html"><![CDATA[<p>ç¬”è®°ç›®å½•<br>@[toc]</p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡å°†ä½¿ç”¨StarForceæ¡ˆä¾‹ï¼Œç»“åˆæºç å’ŒEditorç•Œé¢ä»‹ç»ä¸€ä¸‹GFä¸­æ‰€æœ‰çš„Editorç•Œé¢ï¼ˆåŒ…æ‹¬Inspectorï¼‰ï¼ŒæŒç»­æ›´æ–°ã€‚</p><p>StarForceåœ°å€ï¼š<a href="https://github.com/EllanJiang/StarForce" target="_blank" rel="noopener">https://github.com/EllanJiang/StarForce</a><br>GameFrameworkåœ°å€ï¼š<a href="https://github.com/EllanJiang/GameFramework" target="_blank" rel="noopener">https://github.com/EllanJiang/GameFramework</a><br>UnityGameFrameworkåœ°å€ï¼š<a href="https://github.com/EllanJiang/UnityGameFramework" target="_blank" rel="noopener">https://github.com/EllanJiang/UnityGameFramework</a><br>GameFrameworkå®˜æ–¹ç½‘ç«™ï¼š<a href="http://gameframework.cn/" target="_blank" rel="noopener">http://gameframework.cn/</a></p><p>æœ¬æ–‡æ‰€è®²è§£çš„å†…å®¹å¦‚ä¸ä½ ä½¿ç”¨çš„æ¡†æ¶ç‰ˆæœ¬æœ‰æ‰€å·®å¼‚ï¼Œè¯·é˜…è¯»æºç ï¼Œæºç å³æ–‡æ¡£ã€‚ã€‚</p><h1 id="èœå•æ Game-Framework"><a href="#èœå•æ Game-Framework" class="headerlink" title="èœå•æ Game Framework"></a>èœå•æ Game Framework</h1><h2 id="Open-Folder"><a href="#Open-Folder" class="headerlink" title="Open Folder"></a>Open Folder</h2><p>å¾…ç»­</p><h2 id="Scenes-in-Build-Settings"><a href="#Scenes-in-Build-Settings" class="headerlink" title="Scenes in Build Settings"></a>Scenes in Build Settings</h2><p>å¾…ç»­</p><h2 id="Log-Scripting-Define-Symbols"><a href="#Log-Scripting-Define-Symbols" class="headerlink" title="Log Scripting Define Symbols"></a>Log Scripting Define Symbols</h2><p>å¾…ç»­</p><h2 id="AssetBundle-Tools"><a href="#AssetBundle-Tools" class="headerlink" title="AssetBundle Tools"></a>AssetBundle Tools</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGFkOTdqZjJ6ajMwcDgwOHdhanIuanBn?x-oss-process=image/format,png" alt></p><h3 id="AssetBundleå·¥å…·ç›¸å…³é…ç½®"><a href="#AssetBundleå·¥å…·ç›¸å…³é…ç½®" class="headerlink" title="AssetBundleå·¥å…·ç›¸å…³é…ç½®"></a>AssetBundleå·¥å…·ç›¸å…³é…ç½®</h3><p>ABçš„XMLé…ç½®ä¸€å…±æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯AssetBundleEditor.xmlã€AssetBundleCollection.xmlã€AssetBundleBuilder.xml<br>åœ¨StarForceæ¡ˆä¾‹ä¸­ï¼Œå®ƒä»¬åœ¨Assets/GameMain/Configsæ–‡ä»¶ä¸­ï¼Œç„¶è€Œé…ç½®çš„é»˜è®¤è·¯å¾„å¹¶ä¸åœ¨è¿™é‡Œï¼Œè¿™ä¸ªè·¯å¾„æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AssetBundleEditorController.csæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AssetBundleEditorController</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">            m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleEditorConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, <span class="string">"GameFramework/Configs/AssetBundleEditor.xml"</span>);</span><br><span class="line">            <span class="comment">//...çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AssetBundleCollection.csæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AssetBundleCollection</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleCollectionConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, <span class="string">"GameFramework/Configs/AssetBundleCollection.xml"</span>);</span><br><span class="line">    m_AssetBundles = <span class="keyword">new</span> SortedDictionary&lt;<span class="keyword">string</span>, AssetBundle&gt;();</span><br><span class="line">    m_Assets = <span class="keyword">new</span> SortedDictionary&lt;<span class="keyword">string</span>, Asset&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AssetBundleBuilderController.csæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AssetBundleBuilderController</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_ConfigurationPath = Type.GetConfigurationPath&lt;AssetBundleBuilderConfigPathAttribute&gt;() ?? Utility.Path.GetCombinePath(Application.dataPath, <span class="string">"GameFramework/Configs/AssetBundleBuilder.xml"</span>);</span><br><span class="line">    <span class="comment">//...çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢æ‘˜æŠ„çš„æºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¼šå…ˆé€šè¿‡Type.GetConfigurationPathæ¥å£ï¼ˆAssetBundleEditorConfigPathAttributeã€AssetBundleCollectionConfigPathAttributeã€AssetBundleBuilderConfigPathAttributeï¼‰æ‰¾åˆ°æœ¬åœ°å®šä¹‰çš„è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä½¿ç”¨åé¢çš„é»˜è®¤è·¯å¾„ã€‚<strong>ã€æ³¨ï¼šType.GetConfigurationPathæ¥å£è‡ªè¡Œçœ‹æºç ã€‘</strong></p><p>è€Œåœ¨StarForceæ¡ˆä¾‹ä¸­ï¼ŒGameFrameworkConfigs.csæ¡ˆä¾‹ä¸­å®šä¹‰äº†è¿™å‡ ä¸ªè·¯å¾„</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGFkaWZnOWZzajMxeXkwaHVuMnYuanBn?x-oss-process=image/format,png" alt></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGFkajUxaW9majMwbnUwZW8wdjguanBn?x-oss-process=image/format,png" alt></p><h4 id="AssetBundleEditor-xml"><a href="#AssetBundleEditor-xml" class="headerlink" title="AssetBundleEditor.xml"></a>AssetBundleEditor.xml</h4><p>é…ç½®æ ¼å¼ä»‹ç»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">UnityGameFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AssetBundleEditor</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®èµ„æºæœç´¢çš„æ ¹ç›®å½•ï¼Œå¯ä»¥ä»Assetsæ ¹éƒ¨å…¨éƒ¨æŸ¥æ‰¾ï¼Œå¯ä»¥é…ç½®æˆå­ç›®å½•--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetRootPath</span>&gt;</span>Assets/GameMain<span class="tag">&lt;/<span class="name">SourceAssetRootPath</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--é…ç½®èµ„æºæœç´¢çš„å­ç›®å½•ï¼Œç›¸å¯¹äºæ ¹ç›®å½•çš„è·¯å¾„ï¼Œæ”¯æŒé…ç½®å¤šä¸ªå­ç›®å½•ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™æœç´¢æ‰€æœ‰å­ç›®å½•--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetSearchPaths</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SourceAssetSearchPath</span> <span class="attr">RelativePath</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">SourceAssetSearchPaths</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ç­›é€‰å¹¶åŒ…å«çš„èµ„æºç±»å‹--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetUnionTypeFilter</span>&gt;</span>t:Scene t:Prefab t:Shader t:Model t:Material t:Texture t:AudioClip t:AnimationClip t:AnimatorController t:Font t:TextAsset t:ScriptableObject<span class="tag">&lt;/<span class="name">SourceAssetUnionTypeFilter</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ç­›é€‰å¹¶åŒ…å«çš„æ ‡ç­¾ç±»å‹--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetUnionLabelFilter</span>&gt;</span>l:AssetBundleInclusive<span class="tag">&lt;/<span class="name">SourceAssetUnionLabelFilter</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ç­›é€‰å¹¶æ’é™¤çš„èµ„æºç±»å‹--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetExceptTypeFilter</span>&gt;</span>t:Script<span class="tag">&lt;/<span class="name">SourceAssetExceptTypeFilter</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ç­›é€‰å¹¶æ’é™¤çš„æ ‡ç­¾ç±»å‹--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">SourceAssetExceptLabelFilter</span>&gt;</span>l:AssetBundleExclusive<span class="tag">&lt;/<span class="name">SourceAssetExceptLabelFilter</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ç¼–è¾‘å™¨ä¸­èµ„æºåˆ—è¡¨çš„æ’åºï¼Œå¯ä»¥æ˜¯Name(èµ„æºæ–‡ä»¶åï¼‰ï¼ŒPathï¼ˆèµ„æºå…¨è·¯å¾„ï¼‰ï¼ŒGuidï¼ˆèµ„æºGuidï¼‰--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">AssetSorter</span>&gt;</span>Path<span class="tag">&lt;/<span class="name">AssetSorter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Settings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">AssetBundleEditor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">UnityGameFramework</span>&gt;</span></span><br></pre></td></tr></table></figure><p>AssetBundleEditorController.csä¸­çš„ScanSourceAssetså°±æ˜¯é€šè¿‡ä»¥ä¸Šé…ç½®æœç´¢ç­›é€‰çš„èµ„æºã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ScanSourceAssets</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_SourceAssets.Clear();</span><br><span class="line">    m_SourceAssetRoot.Clear();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">string</span>[] sourceAssetSearchPaths = m_SourceAssetSearchPaths.ToArray();</span><br><span class="line">    HashSet&lt;<span class="keyword">string</span>&gt; tempGuids = <span class="keyword">new</span> HashSet&lt;<span class="keyword">string</span>&gt;();</span><br><span class="line">    <span class="comment">//AssetDatabase.FindAssetsæ¥å£è¿”å›çš„æ˜¯æœç´¢åˆ°çš„èµ„æºåˆ—è¡¨çš„guidæ•°ç»„ï¼Œåœ¨Projectçš„æœç´¢æ ä¸­è¾“å…¥t:prefabä¹Ÿæ˜¯è¿›è¡Œè¿™ä¸ªæ¥å£çš„æ“ä½œ</span></span><br><span class="line">    <span class="comment">//ç­›é€‰å¹¶åŒ…å«æŒ‡å®šç±»å‹çš„èµ„æº</span></span><br><span class="line">    tempGuids.UnionWith(AssetDatabase.FindAssets(SourceAssetUnionTypeFilter, sourceAssetSearchPaths));</span><br><span class="line">    <span class="comment">//ç­›é€‰å¹¶åŒ…å«æŒ‡å®šæ ‡ç­¾çš„èµ„æº</span></span><br><span class="line">    tempGuids.UnionWith(AssetDatabase.FindAssets(SourceAssetUnionLabelFilter, sourceAssetSearchPaths));</span><br><span class="line">    <span class="comment">//ç­›é€‰å¹¶æ’é™¤æŒ‡å®šç±»å‹çš„èµ„æº</span></span><br><span class="line">    tempGuids.ExceptWith(AssetDatabase.FindAssets(SourceAssetExceptTypeFilter, sourceAssetSearchPaths));</span><br><span class="line">    <span class="comment">//ç­›é€‰å¹¶æ’é™¤æŒ‡å®šæ ‡ç­¾çš„èµ„æº</span></span><br><span class="line">    tempGuids.ExceptWith(AssetDatabase.FindAssets(SourceAssetExceptLabelFilter, sourceAssetSearchPaths));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">string</span>[] assetGuids = <span class="keyword">new</span> List&lt;<span class="keyword">string</span>&gt;(tempGuids).ToArray();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">string</span> assetGuid <span class="keyword">in</span> assetGuids)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">string</span> fullPath = AssetDatabase.GUIDToAssetPath(assetGuid);</span><br><span class="line">        <span class="keyword">if</span> (AssetDatabase.IsValidFolder(fullPath))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Skip folder.</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">string</span> assetPath = fullPath.Substring(SourceAssetRootPath.Length + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">string</span>[] splitPath = assetPath.Split(<span class="string">'/'</span>);</span><br><span class="line">        SourceFolder folder = m_SourceAssetRoot;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; splitPath.Length - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            SourceFolder subFolder = folder.GetFolder(splitPath[i]);</span><br><span class="line">            folder = subFolder == <span class="literal">null</span> ? folder.AddFolder(splitPath[i]) : subFolder;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        SourceAsset asset = folder.AddAsset(assetGuid, fullPath, splitPath[splitPath.Length - <span class="number">1</span>]);</span><br><span class="line">        m_SourceAssets.Add(asset.Guid, asset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®å‰å®˜æ–¹æ²¡æœ‰æä¾›è¿™ä¸ªé…ç½®çš„ç¼–è¾‘å·¥å…·ï¼Œéœ€æ‰‹åŠ¨ç¼–è¾‘xmlæ–‡ä»¶ã€‚<br>æ‰“å¼€AssetBundleEditorçª—å£åï¼Œæ ¹æ®ä»¥ä¸Šé…ç½®ç­›é€‰èµ„æºå½¢æˆç•Œé¢çš„å³ä¾§æ ‘çŠ¶å›¾ã€‚</p><h4 id="AssetBundleCollection-xml"><a href="#AssetBundleCollection-xml" class="headerlink" title="AssetBundleCollection.xml"></a>AssetBundleCollection.xml</h4><p>è¿™ä¸ªæ–‡ä»¶æ˜¯é€šè¿‡AssetBundleEditorå·¥å…·ç¼–è¾‘å¥½ABåï¼Œç”Ÿæˆçš„æ–‡ä»¶ã€‚é‡Œé¢ç”¨æ¥è®°å½•åŒ…å«äº†å“ªäº›ABï¼ŒABä¸­åˆ†åˆ«åˆåŒ…å«äº†å“ªäº›èµ„æºï¼Œä¹Ÿå°±æ˜¯å¯¹åº”äº†AssetBundleEditorçª—å£çš„å·¦ä¾§åˆ—è¡¨ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGFlMXc4ejdtajMwanEweWN0YnkuanBn?x-oss-process=image/format,png" alt></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGFlMzBrZ2JtajMwenUwZ2tkbmUuanBn?x-oss-process=image/format,png" alt></p><p>å…¶ä¸­çœ‹ä¸€ä¸‹AssetBundleå’ŒAssetä¸­åŒ…å«çš„å†…å®¹ï¼š</p><p>AssetBundleï¼š<br>ï¼ˆ1ï¼‰Nameï¼šABçš„åç§°ï¼Œä¸»æŒè·¯å¾„<br>ï¼ˆ2ï¼‰LoadTypeï¼šABçš„åŠ è½½æ–¹å¼ï¼Œå¯¹åº”ä¸‹é¢çš„æšä¸¾</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> èµ„æºåŠ è½½æ–¹å¼ç±»å‹ã€‚</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> AssetBundleLoadType</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä»æ–‡ä»¶åŠ è½½ã€‚</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    LoadFromFile = <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä»å†…å­˜åŠ è½½ã€‚</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    LoadFromMemory,</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä»å†…å­˜å¿«é€Ÿè§£å¯†åŠ è½½ã€‚</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    LoadFromMemoryAndQuickDecrypt,</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä»å†…å­˜è§£å¯†åŠ è½½ã€‚</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    LoadFromMemoryAndDecrypt,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰Variantï¼šå˜ä½“<br>ï¼ˆ4ï¼‰ResourceGroupsï¼šèµ„æºç»„</p><p>Asset:<br>ï¼ˆ1ï¼‰Guidï¼šèµ„æºçš„guid<br>ï¼ˆ2ï¼‰AssetBundleNameï¼šé…ç½®ä¸­ä¸Šé¢æ‰€è®°å½•çš„AssetBundleName<br>ï¼ˆ3ï¼‰AssetBundleVariantï¼šå˜ä½“</p><p>æ‰“å¼€AssetBundleEditorçª—å£åï¼Œè§£æè¯¥é…ç½®ï¼Œå½¢æˆçª—å£å·¦ä¾§çš„æ ‘çŠ¶å›¾ã€‚</p><h4 id="AssetBundleBuilder-xml"><a href="#AssetBundleBuilder-xml" class="headerlink" title="AssetBundleBuilder.xml"></a>AssetBundleBuilder.xml</h4><p>è¯¥é…ç½®ç”¨æ¥å­˜å‚¨ABæ‰“åŒ…é…ç½®ã€‚ç•Œé¢å¦‚ä¸‹å›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGJtMnptd2M4ajMwenUwdTBqdzguanBn?x-oss-process=image/format,png" alt></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">UnityGameFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AssetBundleBuilder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Settings</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å†…éƒ¨èµ„æºç‰ˆæœ¬å·ï¼ˆInternal Resource Versionï¼‰å»ºè®®æ¯æ¬¡è‡ªå¢ 1 å³å¯ï¼ŒGame Framework åˆ¤å®šèµ„æºåŒ…æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œæ˜¯ä½¿ç”¨æ­¤ç¼–å·ä½œä¸ºåˆ¤å®šä¾æ®çš„ã€‚--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">InternalResourceVersion</span>&gt;</span>0<span class="tag">&lt;/<span class="name">InternalResourceVersion</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--æ‰“åŒ…å¹³å°--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Platforms</span>&gt;</span>1<span class="tag">&lt;/<span class="name">Platforms</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--Zip All AssetBundlesæ˜¯å¦å‹¾é€‰ï¼Œtrueä¸ºå‹¾é€‰ï¼Œfalseä¸ºä¸å‹¾é€‰--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ZipSelected</span>&gt;</span>True<span class="tag">&lt;/<span class="name">ZipSelected</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ä»¥ä¸‹å‡ ä¸ªé…ç½®åˆ†åˆ«å¯¹åº”AssetBundleOptionsçš„å‡ ä¸ªOptionæ˜¯å¦å‹¾é€‰ï¼Œtrueä¸ºå‹¾é€‰ï¼Œfalseä¸ºä¸å‹¾é€‰--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">UncompressedAssetBundleSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">UncompressedAssetBundleSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DisableWriteTypeTreeSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">DisableWriteTypeTreeSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DeterministicAssetBundleSelected</span>&gt;</span>True<span class="tag">&lt;/<span class="name">DeterministicAssetBundleSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ForceRebuildAssetBundleSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">ForceRebuildAssetBundleSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">IgnoreTypeTreeChangesSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">IgnoreTypeTreeChangesSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">AppendHashToAssetBundleNameSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">AppendHashToAssetBundleNameSelected</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ChunkBasedCompressionSelected</span>&gt;</span>True<span class="tag">&lt;/<span class="name">ChunkBasedCompressionSelected</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--Packageè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">OutputPackageSelected</span>&gt;</span>True<span class="tag">&lt;/<span class="name">OutputPackageSelected</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--Fullè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">OutputFullSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">OutputFullSelected</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--Packedè¾“å‡ºè·¯å¾„æ˜¯å¦å‹¾é€‰ï¼ŒTrueè¡¨ç¤ºå‹¾é€‰å³è¾“å‡ºï¼ŒFalseè¡¨ç¤ºä¸å‹¾é€‰å³ä¸è¾“å‡º--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">OutputPackedSelected</span>&gt;</span>False<span class="tag">&lt;/<span class="name">OutputPackedSelected</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--Build Event Handlerç±»å‹åç§°--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">BuildEventHandlerTypeName</span>&gt;</span>StarForce.Editor.StarForceBuildEventHandler<span class="tag">&lt;/<span class="name">BuildEventHandlerTypeName</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ABè¾“å‡ºè·¯å¾„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">OutputDirectory</span>&gt;</span><span class="tag">&lt;/<span class="name">OutputDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Settings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">AssetBundleBuilder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">UnityGameFramework</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="AssetBundle-Editor"><a href="#AssetBundle-Editor" class="headerlink" title="AssetBundle Editor"></a>AssetBundle Editor</h3><p>èœå•è·¯å¾„ï¼šGame Framework/AssetBundle Tools/AssetBundle Editor<br>ç•Œé¢åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†:<br>AssetBundleListã€AssetBundleContentã€Asset List<br>AssetBundleListæ˜¯é€šè¿‡è¯»å–è§£æAssetBundleCollection.xmlï¼ŒAsset Listæ˜¯é€šè¿‡AssetBundleEditor.xmlé‡Œçš„é…ç½®ç­›é€‰èµ„æºè€Œæ¥ï¼Œè€ŒAssetBundleContentéƒ¨åˆ†åœ¨æ˜¯é€‰ä¸­AssetBundleListé‡Œçš„ä¸€ä¸ªABåæ˜¾ç¤ºè¢«é€‰ä¸­çš„ABé‡ŒåŒ…å«çš„èµ„æºã€‚<br>è¿™ä¸‰ä¸ªéƒ¨åˆ†ä¸‹é¢éƒ½æœ‰å¯¹åº”çš„å·¥å…·èœå•ã€‚</p><p><a href="https://gameframework.cn/uncategorized/%e4%bd%bf%e7%94%a8-assetbundle-%e7%bc%96%e8%be%91%e5%99%a8/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£ï¼šä½¿ç”¨ AssetBundle ç¼–è¾‘å·¥å…·</a></p><ol><li><p>AssetBundleList<br>ï¼ˆ1ï¼‰ä»¥AssetBundlesä¸ºæ ¹ç»“ç‚¹<br>ï¼ˆ2ï¼‰è¿™äº›ABçš„ç»“ç‚¹å±‚çº§è·¯å¾„è¡¨ç¤ºæ‰“åŒ…åçš„èµ„æºç›¸å¯¹è·¯å¾„<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGJvaGwyMTI5ajMxcTkwdTBkeW8uanBn?x-oss-process=image/format,png" alt><br>ï¼ˆ3ï¼‰ABçš„å±‚çº§è·¯å¾„å‚è€ƒAssetBundleçš„Nameå±æ€§ï¼Œä¹Ÿå°±æ˜¯AssetBundleCollection.xmlé…ç½®ä¸­çš„AssetBundleçš„Name<br>ï¼ˆ4ï¼‰ABç»“ç‚¹çš„åç§°å‰ç¼€[Packed]è¡¨ç¤ºå…¶Packedï¼Œå‚è€ƒAssetBundleEditorè„šæœ¬ä¸­çš„DrawAssetBundleItemå‡½æ•°<br>ï¼ˆ5ï¼‰ABç»“ç‚¹çš„åç§°åé¢ â€œ.{å˜ä½“å}â€ï¼Œä¾‹å¦‚StarForceä¾‹å­ä¸­çš„Dictionaries.en-usè¿™ä¸ªABä¸­çš„en-usè¡¨ç¤ºå…¶å˜ä½“å<br>ï¼ˆ6ï¼‰é€šè¿‡é€‰ä¸­ABåï¼Œç‚¹å‡»ä¸‹æ–¹çš„RenameæŒ‰é’®ï¼Œåœ¨ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥å±‚çº§åç§°ï¼Œå³å¯æ›´æ”¹å…¶ç›¸å¯¹è·¯å¾„ï¼Œç¬¬äºŒä¸ªè¾“å…¥æ¡†æ˜¯å˜ä½“åã€‚ç‚¹å‡»åé¢okæŒ‰é’®æˆ–è€…æŒ‰å›è½¦å‡å¯æ”¹åã€‚<br>ï¼ˆ7ï¼‰ä¸æ”¯æŒå¤šé€‰ã€ä¸æ”¯æŒæ‹–æ‹½ä¿®æ”¹ç›¸å¯¹è·¯å¾„ã€‚</p></li><li><p>AssetBundleContent<br>ï¼ˆ1ï¼‰æ˜¾ç¤ºå·¦ä¾§é€‰ä¸­çš„ABé‡Œæ‰€åŒ…å«çš„èµ„æºæ¸…å•<br>ï¼ˆ2ï¼‰Allï¼šå…¨éƒ¨é€‰ä¸­<br>ï¼ˆ3ï¼‰Noneï¼šå…¨éƒ¨ä¸é€‰ä¸­<br>ï¼ˆ4ï¼‰AssetSorterTypeæšä¸¾ä¸‹æ‹‰æ¡†</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> AssetSorterType</span><br><span class="line">&#123;</span><br><span class="line">    Path,</span><br><span class="line">    Name,</span><br><span class="line">    Guid,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº†ä¿®æ”¹æ’åºå¤–ï¼Œè¿˜ä¼šä¿®æ”¹è¿™ä¸ªç•Œé¢æ˜¾ç¤ºçš„å†…å®¹ï¼ŒPathå¯¹åº”èµ„æºè·¯å¾„ï¼ŒNameå¯¹åº”èµ„æºåï¼ŒGuidè‡ªç„¶æ˜¯èµ„æºçš„Guidã€‚<br>ï¼ˆ5ï¼‰å³è¾¹çš„ 0 &gt;&gt; æŒ‰é’®ï¼Œæ•°å­—è¡¨ç¤ºå‹¾é€‰çš„èµ„æºæ•°é‡ï¼Œ&gt;&gt; è¡¨ç¤ºå°†é€‰ä¸­çš„èµ„æºç§»é™¤è¿™ä¸ªABï¼Œè¿˜ç»™å³ä¾§çš„Asset Listã€‚ï¼ˆåˆæ²¡æœ‰å€Ÿï¼Œå“ªæ¥çš„è¿˜ã€‚ã€‚ä¸è¿‡&gt;&gt;å¾ˆå½¢è±¡å˜›ã€‚ã€‚ï¼‰</p></li><li><p>Asset List<br>èµ„æºæ ‘çŠ¶è§†å›¾ï¼Œæ”¯æŒå¤šé€‰<br>ï¼ˆ1ï¼‰èµ„æºå¦‚æœåŒ…å«åœ¨æŸä¸ªABé‡Œï¼Œå…¶åé¢ä¼šæœ‰AssetBundle Name<br>ï¼ˆ2ï¼‰&lt;&lt;0 æŒ‰é’®ï¼šåŒç†ï¼Œæ•°å­—è¡¨ç¤ºé€‰ä¸­çš„èµ„æºæ•°é‡ã€‚åŠŸèƒ½åœ¨äºå°†é€‰ä¸­çš„èµ„æº ç»™å·¦ä¾§é€‰ä¸­çš„Aç‰ˆä¸­ï¼Œå¦‚æœæ­¤å‰èµ„æºå·²ç»åœ¨åˆ«çš„ABä¸­ï¼Œåˆ™ä¼šå…ˆç§»å‡ºã€‚æœªé€‰ä¸­èµ„æº å’Œ æœªé€‰ä¸­AB è¿™ä¸¤ç§æƒ…å†µå‡æ— æ³•ç‚¹å‡»è¯¥æŒ‰é’®ã€‚<br>ï¼ˆ3ï¼‰&lt;&lt;&lt; 0 æŒ‰é’®ï¼šåŒç†ï¼Œæ•°å­—è¡¨ç¤ºé€‰ä¸­çš„èµ„æºæ•°é‡ã€‚é‚£ä¹ˆä¸ä¸Šé¢æŒ‰é’®æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿï¼ˆä¸å°±å¤šäº†ä¸€ä¸ª &lt; å—ï¼Œéš¾é“ä¸€ä¸ª &lt;&lt; è¡¨ç¤ºç§»åˆ°ä¸­é—´çš„Asset Listï¼Œå¤šäº†ä¸€ä¸ª &lt; è¿˜èƒ½ç§»åˆ° AssetBundleList ä¸­å—ã€‚ã€‚ï¼‰è¿™ä¸ªæŒ‰é’®ç”¨äºæ‰¹é‡æ·»åŠ ABï¼Œå°†é€‰ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºä½œä¸º AssetBundle åæ¥åˆ›å»º AssetBundleï¼Œå¹¶å°†è‡ªèº«åŠ å…¥åˆ°å¯¹åº”çš„ AssetBundle é‡Œã€‚<br>ï¼ˆ4ï¼‰Hie Assigneï¼šéšè—å·²ç»å­˜åœ¨äº AssetBundle ä¸­çš„èµ„æºï¼Œåªåˆ—å‡ºå°šæœªæŒ‡å®š AssetBundle çš„èµ„æºã€‚<br>ï¼ˆ5ï¼‰Cleanï¼šä»æ‰€æœ‰çš„ AssetBundle ä¸­æ¸…ç†æ— æ•ˆçš„èµ„æºï¼Œå¹¶ç§»é™¤æ‰€æœ‰ç©ºçš„ AssetBundleã€‚å»ºè®® Save å‰æ€»æ˜¯ç‚¹ä¸€ä¸‹ Clean æŒ‰é’®ï¼Œå› ä¸ºæ„å»º AssetBundle çš„æ—¶å€™ï¼ŒUnity ä¸å…è®¸å­˜åœ¨æ— æ•ˆçš„èµ„æºæˆ–è€…ç©ºçš„ AssetBundleã€‚ç©ºçš„ABåœ¨å·¦ä¾§ä¸­ä¼šæ˜¾ç¤ºæˆç°è‰²ï¼Œä¼šå¯¼è‡´æ‰“åŒ…å¤±è´¥ã€‚<br>ï¼ˆ6ï¼‰Saveï¼šä¿å­˜å½“å‰æ‰€æœ‰ AssetBundle å’Œèµ„æºçš„çŠ¶æ€ã€‚<strong>æ³¨æ„ä¿å­˜</strong></p></li></ol><h3 id="AssetBundle-Analyzer"><a href="#AssetBundle-Analyzer" class="headerlink" title="AssetBundle Analyzer"></a>AssetBundle Analyzer</h3><p>å¾…ç»­ã€‚</p><h3 id="AssetBundle-Builder"><a href="#AssetBundle-Builder" class="headerlink" title="AssetBundle Builder"></a>AssetBundle Builder</h3><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGJuZ211OGlsajMxZjcwdTB3bDIuanBn?x-oss-process=image/format,png" alt></p><p>ç•Œé¢åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>Environment Informationï¼šå·¥ç¨‹çš„åŸºæœ¬ä¿¡æ¯<br>ï¼ˆ1ï¼‰ProductNameï¼šPlayerSettings.productName<br>ï¼ˆ2ï¼‰Company Nameï¼šPlayerSettings.companyName<br>ï¼ˆ3ï¼‰Game Identifierï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">string</span> GameIdentifier</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> UNITY_5_6_OR_NEWER</span></span><br><span class="line">        <span class="keyword">return</span> PlayerSettings.applicationIdentifier;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        <span class="keyword">return</span> PlayerSettings.bundleIdentifier;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰Applicable Game Versionï¼šApplication.version<br>ä»¥ä¸Šè¿™äº›æ•°æ®åœ¨File-&gt;Build Settings-&gt;Player Settingsä¸­å¯ä»¥çœ‹åˆ°</p><p>Platformsï¼šæ‰“åŒ…å¹³å°å‹¾é€‰ï¼Œæ”¯æŒå¤šé€‰<br>å¦‚æœä¸€ä¸ªå¹³å°éƒ½ä¸å‹¾é€‰ï¼Œç•Œé¢ä¸‹æ–¹ä¼šå‡ºç°çº¢è‰²è­¦å‘Šï¼šPlatform undefined.</p><p>AssetBundle Optionsï¼šå‚è€ƒUnityEditor.BuildAssetBundleOptionsæšä¸¾<br>å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼š<a href="https://docs.unity3d.com/ScriptReference/BuildAssetBundleOptions.htmlï¼Œæ­¤å¤„ä¸å†èµ˜è¿°" target="_blank" rel="noopener">https://docs.unity3d.com/ScriptReference/BuildAssetBundleOptions.htmlï¼Œæ­¤å¤„ä¸å†èµ˜è¿°</a><br>AssetBundleBuilderController.csè„šæœ¬ä¸­çš„GetBuildAssetBundleOptionså‡½æ•°ä¼šå°†è¿™é‡Œå‹¾é€‰çš„é€‰é¡¹è½¬æ¢ä¸ºBuildAssetBundleOptions</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> BuildAssetBundleOptions <span class="title">GetBuildAssetBundleOptions</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BuildAssetBundleOptions buildOptions = BuildAssetBundleOptions.None;</span><br><span class="line">    <span class="keyword">if</span> (UncompressedAssetBundleSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.UncompressedAssetBundle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (DisableWriteTypeTreeSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.DisableWriteTypeTree;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (DeterministicAssetBundleSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.DeterministicAssetBundle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ForceRebuildAssetBundleSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.ForceRebuildAssetBundle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (IgnoreTypeTreeChangesSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.IgnoreTypeTreeChanges;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (AppendHashToAssetBundleNameSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.AppendHashToAssetBundleName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ChunkBasedCompressionSelected)</span><br><span class="line">    &#123;</span><br><span class="line">        buildOptions |= BuildAssetBundleOptions.ChunkBasedCompression;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> buildOptions;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªBuildAssetBundleOptionsæœ€ç»ˆæ˜¯ä¼ ç»™äº†BuildPipeline.BuildAssetBundleå‡½æ•°ã€‚ç”±äºæ„å»ºè¿‡ç¨‹éœ€è¦å¯¹ç”Ÿæˆçš„ AssetBundle åç§°è¿›è¡Œå¤„ç†ï¼Œæ•…è¿™é‡Œä¸å…è®¸ä½¿ç”¨ Append Hash To AssetBundle Name é€‰é¡¹ã€‚</p><p>Zip All AssetBundles : å‹ç¼©æ‰€æœ‰ AssetBundlesï¼ˆZip All AssetBundlesï¼‰ç”¨äºæŒ‡å®šæ„å»º AssetBundle åï¼Œæ˜¯å¦è¿›ä¸€æ­¥ä½¿ç”¨ Zip å‹ç¼© AssetBundle åŒ…ã€‚</p><p>Buildéƒ¨åˆ†:</p><p>Build Event Handlerï¼š<br>è¿™é‡Œä¼šæ˜¾ç¤ºä¸€ä¸ªå®ç°äº†IBuildEventHandleræ¥å£çš„æ‰€æœ‰TypeNameçš„ä¸‹æ‹‰æ¡†ï¼Œä¾‹å¦‚StarForceå·¥ç¨‹ä¸­StarForceBuildEventHandlerç±»<br>æ¥å£åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š<br>ï¼ˆ1ï¼‰ContinueOnFailureï¼šè·å–å½“æŸä¸ªå¹³å°ç”Ÿæˆå¤±è´¥æ—¶ï¼Œæ˜¯å¦ç»§ç»­ç”Ÿæˆä¸‹ä¸€ä¸ªå¹³å°ã€‚<br>ï¼ˆ2ï¼‰PreprocessAllPlatformsï¼šæ‰€æœ‰å¹³å°ç”Ÿæˆå¼€å§‹å‰çš„é¢„å¤„ç†äº‹ä»¶<br>ï¼ˆ3ï¼‰PostprocessAllPlatformsï¼šæ‰€æœ‰å¹³å°ç”Ÿæˆç»“æŸåçš„åå¤„ç†äº‹ä»¶<br>ï¼ˆ4ï¼‰PreprocessPlatformï¼šæŸä¸ªå¹³å°ç”Ÿæˆå¼€å§‹å‰çš„é¢„å¤„ç†äº‹ä»¶<br>ï¼ˆ5ï¼‰PostprocessPlatformï¼šæŸä¸ªå¹³å°ç”Ÿæˆç»“æŸåçš„åå¤„ç†äº‹ä»¶<br>å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šä¹‰ä¸åŒçš„Handlerã€‚ä¾‹å¦‚ï¼šStarForceæ¡ˆä¾‹ä¸­ï¼š<br>PreprocessAllPlatformså‡½æ•°ä¸­æ¸…ç©ºäº†StreamingAssetsæ–‡ä»¶å¤¹ã€‚<br>PostprocessPlatformå‡½æ•°ä¸­æŠŠoutputPackagePathé‡Œçš„æ–‡ä»¶ç»™æ‹·è´åˆ°å·¥ç¨‹çš„StreamingAssetsç›®å½•ä¸‹ã€‚</p><p>Internal Resource Version:<br>å†…éƒ¨èµ„æºç‰ˆæœ¬å·ï¼ˆInternal Resource Versionï¼‰å»ºè®®æ¯æ¬¡è‡ªå¢ 1 å³å¯ï¼ŒGame Framework åˆ¤å®šèµ„æºåŒ…æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œæ˜¯ä½¿ç”¨æ­¤ç¼–å·ä½œä¸ºåˆ¤å®šä¾æ®çš„ã€‚</p><p>Resource Version:<br>èµ„æºç‰ˆæœ¬å·ï¼ˆResource Versionï¼‰æ ¹æ®å½“å‰ App ç‰ˆæœ¬å·å’Œå†…éƒ¨èµ„æºç‰ˆæœ¬å·è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸ä¼šå­˜å‚¨åœ¨AssetBundleBuilder.xmlä¸­ã€‚</p><p>Output Directoryï¼š<br>è¾“å‡ºç›®å½•ï¼ˆOutput Directoryï¼‰ç”¨äºæŒ‡å®šæ„å»ºè¿‡ç¨‹çš„ç»“æœè¾“å‡ºç›®å½•ï¼Œç»å¯¹è·¯å¾„ï¼Œæ”¯æŒç›´æ¥è¾“å…¥ï¼ˆè®°å¾—å›è½¦ï¼‰,å³è¾¹BrowseæŒ‰é’®å¯ä»¥é€‰æ‹©è·¯å¾„ã€‚<br>å¦‚æœè·¯å¾„æ— æ•ˆï¼Œä¸‹æ–¹ä¼šæç¤ºOutput directory is invalid.</p><p>Output Directoryé€‰ä¸­åï¼Œä¸‹æ–¹ä¼šå‡ºç°Working Pathã€Output Package Pathã€Output Full Pathã€Output Packed Pathã€Build Report Pathè¿™äº”ä¸ªå­è·¯å¾„ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGJuZ211OGlsajMxZjcwdTB3bDIuanBn?x-oss-process=image/format,png" alt></p><p>å½“è¿™äº›é…ç½®éƒ½é…å¥½åï¼Œå°±ä¼šå‡ºç°æç¤ºï¼šReady to build.<br>ç‚¹å‡»Start Build AssetBundlesæŒ‰é’®å¼€å§‹æ‰“åŒ…ï¼Œç‚¹å‡»SaveæŒ‰é’®ä¿å­˜é…ç½®åˆ°AssetBundleBuilder.xmlé…ç½®ä¸­ã€‚</p><p>æ‰“åŒ…æˆåŠŸï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnOGJua2ZqdjgzajMxNnMwbzg0YjAuanBn?x-oss-process=image/format,png" alt></p><p>æ‰“åŒ…å®Œåï¼Œå†æ¥ä»‹ç»è¿™äº”ä¸ªç›®å½•:<br>ï¼ˆ1ï¼‰BuildReportï¼š<br>è¯¥ç›®å½•åŒ…å«äº†ä¸¤ä¸ªæ–‡ä»¶ï¼ŒBuildLog.txtå’ŒBuildReport.xmlã€‚BuildLog.txtç”¨æ¥è®°å½•æ‰“åŒ…æ—¥å¿—ï¼Œæ‰“åŒ…å¤±è´¥çš„æ—¶å€™å¯ä»¥é€šè¿‡æŸ¥çœ‹è¯¥æ—¥å¿—æ¥åˆ¤æ–­æ˜¯å“ªä¸€æ­¥å‡ºç°äº†é—®é¢˜ã€‚AssetBundleBuilderControllerè„šæœ¬ä¸­é€šè¿‡m_BuildReport.LogInfoæ¥å£è¿›è¡Œæ—¥å¿—è®°å½•ã€‚è€ŒBuildReport.xmlæ–‡ä»¶åˆ™ç”¨æ¥è®°å½•æœ¬æ¬¡æ‰“åŒ…è®¾ç½®ã€æœ¬æ¬¡æ‰“åŒ…çš„ABä¿¡æ¯ã€ABä¸­åŒ…å«çš„Assetä¿¡æ¯ç­‰ç­‰ã€‚<br>ï¼ˆ2ï¼‰Full:ä¸ºå¯æ›´æ–°æ¨¡å¼ç”Ÿæˆçš„å®Œæ•´æ–‡ä»¶åŒ…<br>ï¼ˆ3ï¼‰Packageï¼šä¸ºå•æœºæ¨¡å¼ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè‹¥æ¸¸æˆæ˜¯å•æœºæ¸¸æˆï¼Œç”Ÿæˆç»“æŸåå°†æ­¤ç›®å½•ä¸­å¯¹åº”å¹³å°çš„æ–‡ä»¶æ‹·è´è‡³ StreamingAssets åæ‰“åŒ… App å³å¯ã€‚<br>ï¼ˆ4ï¼‰Packedï¼šä¸ºå¯æ›´æ–°æ¨¡å¼ç”Ÿæˆçš„æ–‡ä»¶<br>ï¼ˆ5ï¼‰Workingï¼šUnityç”ŸæˆAssetBundleæ—¶çš„å·¥ä½œç›®å½•</p><p>è¯·æ³¨æ„ï¼š<br>ä¸çŸ¥é“ä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒGameResourceVersion_x_x_x.xmlæ–‡ä»¶ä¸å†ç”Ÿæˆã€‚<br>ç›¸å…³æ•°æ®å¯ä»¥åœ¨BuildReportç›®å½•ä¸‹çš„BuildLog.txtä¸­æŸ¥çœ‹åˆ°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[15:51:32.383][INFO] Process version list for &#39;MacOS&#39; complete, version list path is &#39;&#x2F;Users&#x2F;teitomonari&#x2F;Documents&#x2F;WorkSpace&#x2F;UnityProjects&#x2F;Study&#x2F;StarForce&#x2F;StarForce&#x2F;AssetBundle&#x2F;Full&#x2F;0_1_0_1&#x2F;MacOS&#x2F;version.7fe1ca32.dat&#39;, length is &#39;11641&#39;, hash code is &#39;2145503794[0x7FE1CA32]&#39;, zip length is &#39;4100&#39;, zip hash code is &#39;111937434[0x06AC079A]&#39;.</span><br></pre></td></tr></table></figure><h3 id="Build-AssetBundle"><a href="#Build-AssetBundle" class="headerlink" title="Build AssetBundle"></a>Build AssetBundle</h3><p>å¾…ç»­ã€‚</p><h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><p>å¾…ç»­ã€‚</p><h2 id="API-Reference"><a href="#API-Reference" class="headerlink" title="API Reference"></a>API Reference</h2><p>å¾…ç»­ã€‚</p><h1 id="ä½¿ç”¨UnityGameFrameworkç¼–è¾‘å™¨å‡ºç°çš„å¸¸è§é—®é¢˜è®°å½•"><a href="#ä½¿ç”¨UnityGameFrameworkç¼–è¾‘å™¨å‡ºç°çš„å¸¸è§é—®é¢˜è®°å½•" class="headerlink" title="ä½¿ç”¨UnityGameFrameworkç¼–è¾‘å™¨å‡ºç°çš„å¸¸è§é—®é¢˜è®°å½•"></a>ä½¿ç”¨UnityGameFrameworkç¼–è¾‘å™¨å‡ºç°çš„å¸¸è§é—®é¢˜è®°å½•</h1><h2 id="1-AssetBundleEditorç•Œé¢ä¸­çš„Assetåˆ—è¡¨æ˜¯ç©ºçš„ï¼Ÿ"><a href="#1-AssetBundleEditorç•Œé¢ä¸­çš„Assetåˆ—è¡¨æ˜¯ç©ºçš„ï¼Ÿ" class="headerlink" title="1. AssetBundleEditorç•Œé¢ä¸­çš„Assetåˆ—è¡¨æ˜¯ç©ºçš„ï¼Ÿ"></a>1. AssetBundleEditorç•Œé¢ä¸­çš„Assetåˆ—è¡¨æ˜¯ç©ºçš„ï¼Ÿ</h2><p>å¾…ç»­ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> GameFrameworkæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GameFrameworkæ¡†æ¶æºç è§£è¯» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¹ï¼šèµ„æºå¼±å¼•ç”¨æ–‡ä»¶é€‰æ‹©å™¨</title>
      <link href="/2019/09/27/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-jiu-zi-yuan-ruo-yin-yong-wen-jian-xuan-ze-qi/"/>
      <url>/2019/09/27/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-jiu-zi-yuan-ruo-yin-yong-wen-jian-xuan-ze-qi/</url>
      
        <content type="html"><![CDATA[<p>ç¬”è®°ç›®å½•<br>@[toc]</p><h1 id="å†™åœ¨å¼€å¤´"><a href="#å†™åœ¨å¼€å¤´" class="headerlink" title="å†™åœ¨å¼€å¤´"></a>å†™åœ¨å¼€å¤´</h1><p>AdvancedDropdownåªåœ¨Unity 2019ä¸‹æ‰å¯ç”¨ã€‚ã€‚ã€‚</p><h1 id="å·¥å…·ä»‹ç»"><a href="#å·¥å…·ä»‹ç»" class="headerlink" title="å·¥å…·ä»‹ç»"></a>å·¥å…·ä»‹ç»</h1><p>æ–‡ä»¶é€‰æ‹©å™¨é¡¾åæ€ä¹‰æ˜¯ç”¨æ¥é€‰ä¸­æ–‡ä»¶ç”¨çš„ï¼Œé‚£ä¹ˆä¸<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnN2U3Zmdscms1ajMwOWowMHNtd3ouanBn?x-oss-process=image/format,png" alt><br>ä¸Šå›¾ä¸­Unityè‡ªå¸¦çš„ç‚¹å‡»å³è¾¹çš„å°åœ†ç‚¹ å¼¹å‡ºæ–‡ä»¶æœç´¢æ¡†æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å·¥å…·ç•Œé¢å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnN2U3Z3BtdHE2ajMwYnQwYTc3NHouanBn?x-oss-process=image/format,png" alt></p><p>å…¶ä¸­ç‚¹å‡»SelectæŒ‰é’®ï¼Œå¼¹å‡ºæ–‡ä»¶æœç´¢æ¡†ï¼ˆç±»æ¯”Add ComponentæŒ‰é’®ç‚¹å‡»åå¼¹å‡ºçš„æ¡†ï¼‰,æ ¹æ®èµ„æºç±»å‹ç­›é€‰åå½¢æˆçš„èµ„æºæ ‘çŠ¶ç»“æ„æ˜¾ç¤ºåœ¨ä¸‹é¢çš„æ¡†ä¸­ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªç»“ç‚¹è¿›å…¥å­æ ‘ï¼Œç‚¹å‡»å³ä¾§çš„XæŒ‰é’®è¿›è¡Œæ¸…ç©ºã€‚ï¼ˆå°å£°å“”å“”ï¼šçœ‹èµ·æ¥å¥½åƒæ²¡å•¥ç”¨ï¼‰</p><p>gifåŠ¨å›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnN2U4cnE5Z2JmZzMwYWkwOTRram0uZ2lm" alt></p><h1 id="èµ„æºå¼±å¼•ç”¨"><a href="#èµ„æºå¼±å¼•ç”¨" class="headerlink" title="èµ„æºå¼±å¼•ç”¨"></a>èµ„æºå¼±å¼•ç”¨</h1><p>é¦–å…ˆè¯´æ˜ä¸€ä¸‹ä¸ªäººç†è§£çš„èµ„æºå¼±å¼•ç”¨ï¼šä¸ç›´æ¥å¼•ç”¨æ¸¸æˆèµ„æºï¼Œé€šè¿‡åºåˆ—åŒ–å­˜å‚¨ä¸€äº›ç”¨æ¥ä»èµ„æºç®¡ç†ç³»ç»Ÿä¸­åŠ è½½èµ„æºçš„å‚æ•°ï¼Œæ¥é—´æ¥å¼•ç”¨èµ„æºï¼Œè¿™äº›å‚æ•°å¯ä»¥ç§°ä¹‹ä¸ºåœ°å€ï¼ˆä¸è¦å¼ºè¡Œæ²¾è¾¹Addressableï¼‰ã€‚ä½¿ç”¨ä¸€ä¸ªåœ°å€æ¥åŠ è½½èµ„æºï¼Œèµ„æºå¦‚ä½•æ›´æ”¹ï¼Œåœ°å€éƒ½ä¸è¦å˜ï¼Œä¿è¯åœ°å€å”¯ä¸€æ€§ã€‚æ— è®ºæ˜¯ä½¿ç”¨Resourcesæ–‡ä»¶å¤¹è¿›è¡Œèµ„æºåŠ è½½ç®¡ç†ã€è¿˜æ˜¯ä½¿ç”¨AssetBundleè¿›è¡Œèµ„æºåŠ è½½ç®¡ç†ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨ã€‚</p><p>å¼±å¼•ç”¨éœ€è¦å­˜å‚¨çš„æ•°æ®ï¼š</p><ul><li>Guid<br>Editorå¯ä½¿ç”¨Guidæ¥åŠ è½½èµ„æºã€å®šä½èµ„æºï¼Œä¿è¯èµ„æºçš„è·¯å¾„ä¿®æ”¹åä¾ç„¶å¯ä»¥å®šä½åˆ°èµ„æºã€‚</li><li>ç”¨æ¥åŠ è½½çš„æ•°æ®<br>å–å†³äºä½ çš„èµ„æºç®¡ç†ç³»ç»Ÿå¦‚ä½•åŠ è½½èµ„æºï¼Œå¦‚æœä½¿ç”¨ResourcesåŠ è½½ï¼Œå¯ä»¥å­˜å‚¨Resourcesæ–‡ä»¶å¤¹ä¸‹çš„è·¯å¾„</li></ul><p>WeakReferenceå¼±å¼•ç”¨åŸºç±»ï¼Œå…¶ä¸­å­˜å‚¨äº†Guid<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnN2U3dzFoY25vajMwdmUwcW03OGEuanBn?x-oss-process=image/format,png" alt></p><p>å„ç§èµ„æºç±»å‹å¯¹åº”çš„å¼±å¼•ç”¨ç±»å‹<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly90dmExLnNpbmFpbWcuY24vbGFyZ2UvMDA2eThtTjZneTFnN2U3eDNyNzVwajMwankwY2l0YWEuanBn?x-oss-process=image/format,png" alt></p><h1 id="æ–‡ä»¶é€‰æ‹©å™¨"><a href="#æ–‡ä»¶é€‰æ‹©å™¨" class="headerlink" title="æ–‡ä»¶é€‰æ‹©å™¨"></a>æ–‡ä»¶é€‰æ‹©å™¨</h1><p>è¯¥æ–‡ä»¶é€‰æ‹©å™¨å‚è€ƒçš„Editoræºç ä¸­AddComponentéƒ¨åˆ†</p><p><a href="https://github.com/Unity-Technologies/UnityCsReference/blob/master/Editor/Mono/Inspector/AddComponent/ComponentDropdownItem.cs" target="_blank" rel="noopener">Unity-Technologies Add Component Editoræºç åœ°å€</a></p><p><a href="https://docs.unity3d.com/ScriptReference/IMGUI.Controls.AdvancedDropdown.html" target="_blank" rel="noopener">AdvancedDropdownå®˜æ–¹ä»‹ç»</a></p><p>AdvancedDropdownéƒ¨åˆ†æ­¤æ–‡ä¸è¿‡å¤šä»‹ç»ï¼Œå¯èƒ½ä¼šå¦å¤–å¼€ç¯‡ã€‚æœ¬ä¾‹ä¸­åªå­˜å‚¨äº†guidï¼Œå…¶ä½™æ•°æ®åœ¨æ–‡ä»¶è¢«é€‰æ‹©çš„æ—¶å€™ä¹Ÿå¯ä»¥èµ‹å€¼ã€‚</p><h1 id="æºç åœ°å€"><a href="#æºç åœ°å€" class="headerlink" title="æºç åœ°å€"></a>æºç åœ°å€</h1><p><a href="https://github.com/JingFengJi/AssetReferenceSelectEditor.git" target="_blank" rel="noopener">Githubä»“åº“åœ°å€</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><p>æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="http://www.jingfengji.tech/">http://www.jingfengji.tech/</a><br>æ¬¢è¿å¤§å®¶å…³æ³¨ã€‚</p><p>æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼Œåç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚ã€å®åœ¨æ˜¯æ²¡ç©ºå»æ•´é‚£è¾¹ï¼Œè¦å­¦ä¹ çš„ä¸œè¥¿çœŸæ˜¯å¤ªå¤šäº†ã€‚ã€‚ã€‚ã€‘</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èµ„æºå¼±å¼•ç”¨æ–‡ä»¶é€‰æ‹©å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª</title>
      <link href="/2019/08/15/python-gong-ju-zhi-yi-jiu-gong-ge-tu-pian-ji-zhi-cai-jian/"/>
      <url>/2019/08/15/python-gong-ju-zhi-yi-jiu-gong-ge-tu-pian-ji-zhi-cai-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª"><a href="#Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª" class="headerlink" title="Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª"></a>Pythonå·¥å…·ä¹‹ä¸€ï¼šä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª</h1><h2 id="å·¥å…·ç”¨é€”"><a href="#å·¥å…·ç”¨é€”" class="headerlink" title="å·¥å…·ç”¨é€”"></a>å·¥å…·ç”¨é€”</h2><p>åœ¨è¯»åˆ°æ–‡ç« (<a href="https://blog.uwa4d.com/archives/PSD4UGUI.html)æ—¶ï¼Œæ–‡ç« ä¸­æåˆ°â€œe.é€šè¿‡è®¾å®šå‚æ•°å³å¯è‡ªåŠ¨ç”Ÿæˆä¹å®«å›¾ç‰‡ï¼Œä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯â€ï¼Œå¼•å‘çš„æ€è€ƒï¼šå¦‚ä½•ä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯ï¼Ÿä¹å®«å›¾ç‰‡ä½œä¸ºæ‹‰ä¼¸å›¾ç‰‡ä½¿ç”¨ï¼Œæ‹‰ä¼¸åŒºåŸŸè¶Šå°è¶Šèƒ½ç¼©å°å›¾ç‰‡é¢ç§¯ï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚è¿›ä¸€æ­¥æ‰¾åˆ°æ–‡ç« ï¼ˆhttps://gameinstitute.qq.com/community/detail/103423" target="_blank" rel="noopener">https://blog.uwa4d.com/archives/PSD4UGUI.html)æ—¶ï¼Œæ–‡ç« ä¸­æåˆ°â€œe.é€šè¿‡è®¾å®šå‚æ•°å³å¯è‡ªåŠ¨ç”Ÿæˆä¹å®«å›¾ç‰‡ï¼Œä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯â€ï¼Œå¼•å‘çš„æ€è€ƒï¼šå¦‚ä½•ä¼˜åŒ–ä¹å®«å›¾ç‰‡é¢ç§¯ï¼Ÿä¹å®«å›¾ç‰‡ä½œä¸ºæ‹‰ä¼¸å›¾ç‰‡ä½¿ç”¨ï¼Œæ‹‰ä¼¸åŒºåŸŸè¶Šå°è¶Šèƒ½ç¼©å°å›¾ç‰‡é¢ç§¯ï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚è¿›ä¸€æ­¥æ‰¾åˆ°æ–‡ç« ï¼ˆhttps://gameinstitute.qq.com/community/detail/103423</a>)</p><p>æ–‡ç« ä¸­æåˆ°ä¸‹å›¾</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93dzQuc2luYWltZy5jbi9sYXJnZS8wMDZ0TmM3OWd5MWc2MGRiMHZocmdqMzFjcTAzMmpzYS5qcGc" alt></p><p>å°†è¿ç»­ç›¸åŒçš„è¡Œï¼ˆåˆ—ï¼‰è£å‰ªæ‰ï¼Œåªä¿ç•™ä¸€è¡Œï¼ˆåˆ—ï¼‰å³å¯ï¼Œä¾æ¬¡è¾¾åˆ°ä¹å®«å›¾ç‰‡é¢ç§¯ç¼©å°çš„ç›®çš„ã€‚</p><p>ï¼ˆpsï¼šè®²é“ç†ï¼Œå›¾ç‰‡å¤„ç†è½¯ä»¶é‡Œåº”è¯¥èƒ½ç²¾å‡†æ§åˆ¶è£å‰ªçš„ï¼Œä¸ºå•¥è¦ç¨‹åºå†™å·¥å…·æ¥åšè¿™ä»¶äº‹ï¼Ÿç¾æœ¯è¡¨ç¤ºæˆ‘ä¸ä¼šâ€¦ï¼‰</p><p>æœ¬æ–‡ä¸­å¹¶æ²¡æœ‰å†™çš„ä¸Šæ–‡ä¸­é‚£ä¹ˆè¯¦ç»†ï¼Œæˆ‘çš„æœ€ç»ˆç›®çš„æ˜¯ç»™Unityä¸­ä½¿ç”¨çš„ä¹å®«å›¾ç‰‡åšè£å‰ªï¼Œå› æ­¤æ–‡ç« ä¸­æœ‰éƒ¨åˆ†å†…å®¹è·ŸUnityæ²¾è¾¹ï¼Œä¸è¿‡ä¸å½±å“å·¥å…·çš„ä½¿ç”¨ï¼Œå·¥å…·ä½¿ç”¨Pythonå¼€å‘ã€‚</p><p>å¦‚ä¸‹å›¾ï¼šUnityä¸­ä¸¤çº¯è‰²åƒç´ ä¹‹é—´æœ‰é¢œè‰²è¿‡æ¸¡ï¼Œå› æ­¤å·¥å…·æ²¡æœ‰å°†å›¾ç‰‡çš„è¿ç»­ç›¸åŒè¡Œï¼ˆåˆ—ï¼‰è£å‰ªåˆ°åªä¿ç•™ä¸€è¡Œï¼ˆåˆ—ï¼‰ï¼Œè€Œæ˜¯ä¸‰è¡Œï¼ˆåˆ—ï¼‰ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93dzEuc2luYWltZy5jbi9sYXJnZS8wMDZ0TmM3OWd5MWc2MGRmN2I1M2xqMzBjaDBiendlaS5qcGc" alt></p><h2 id="å¼€å‘æ€è€ƒ"><a href="#å¼€å‘æ€è€ƒ" class="headerlink" title="å¼€å‘æ€è€ƒ"></a>å¼€å‘æ€è€ƒ</h2><p>ï¼ˆ1ï¼‰å¦‚ä½•åŠ è½½ã€ä¿å­˜ã€è¯»å†™ä¸€ä¸ªimageï¼Œæœ¬å·¥å…·ä½¿ç”¨OpenCV2</p><p>ï¼ˆ2ï¼‰å¦‚ä½•åˆ¤æ–­å›¾ç‰‡çš„ä¸¤è¡Œï¼ˆåˆ—ï¼‰æ˜¯å¦å®Œå…¨ç›¸åŒ</p><p>ï¼ˆ3ï¼‰å¦‚ä½•è®¡ç®—å‡ºå›¾ç‰‡çš„æœ€ä½³ä¹å®«åŒºåŸŸ</p><p>ï¼ˆ4ï¼‰å¦‚ä½•è£å‰ªä¹å®«åŒºåŸŸ</p><h2 id="è£å‰ªç»“æœ"><a href="#è£å‰ªç»“æœ" class="headerlink" title="è£å‰ªç»“æœ"></a>è£å‰ªç»“æœ</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190815170341740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>çœ‹èµ·æ¥å¾ˆåƒå˜æˆäº†ä¸€ä¸ªåœ†å½¢ï¼Œå…¶å®å››æ¡è¾¹ä¸Šæœ‰ä¸‰è¡Œï¼ˆåˆ—ï¼‰åƒç´ æ˜¯ä¹å®«åŒºåŸŸ</p><h2 id="ä»£ç ä»‹ç»"><a href="#ä»£ç ä»‹ç»" class="headerlink" title="ä»£ç ä»‹ç»"></a>ä»£ç ä»‹ç»</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æ¯”è¾ƒä¸¤è¡Œæ˜¯å¦ç›¸ç­‰</span><br><span class="line"># ç›¸ç­‰è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span><br><span class="line">def equal_row_pixel(img,row1,row2):</span><br><span class="line">    height &#x3D; img.shape[0]        #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    if(row1 &lt; 0 or row1 &gt;&#x3D; height):</span><br><span class="line">    return False</span><br><span class="line">    if(row2 &lt; 0 or row2 &gt;&#x3D; height):</span><br><span class="line">    return False</span><br><span class="line">    for col in range(width):</span><br><span class="line">        for channel in range(channels):</span><br><span class="line">            if(img[row1][col][channel] !&#x3D; img[row2][col][channel]):</span><br><span class="line">                return False</span><br><span class="line">    return True</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æ¯”è¾ƒä¸¤åˆ—æ˜¯å¦ç›¸ç­‰</span><br><span class="line"># ç›¸ç­‰è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span><br><span class="line">def equal_col_pixel(img,col1,col2):</span><br><span class="line">    height &#x3D; img.shape[0]        #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    if(col1 &lt; 0 or col1 &gt;&#x3D; width):</span><br><span class="line">        return False</span><br><span class="line">    if(col2 &lt; 0 or col2 &gt;&#x3D; width):</span><br><span class="line">    return False</span><br><span class="line">    for row in range(height):</span><br><span class="line">        for channel in range(channels):</span><br><span class="line">            if(img[row][col1][channel] !&#x3D; img[row][col2][channel]):</span><br><span class="line">                return False</span><br><span class="line">    return True</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># æ¨ªå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«</span><br><span class="line"># img:å›¾ç‰‡</span><br><span class="line"># continuous_col_num:è¿ç»­çš„åˆ—æ•°ï¼Œå¤§äºç­‰äºè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç†</span><br><span class="line">def horizontal_slice(img,continuous_col_num):</span><br><span class="line">    cur_begin_col_index &#x3D; 0</span><br><span class="line">    cur_end_col_index &#x3D; 0</span><br><span class="line">    slice_begin_col_index &#x3D; 0</span><br><span class="line">    slice_end_col_index &#x3D; 0</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    for col in range(width):</span><br><span class="line">        if(col &lt; width - 1):</span><br><span class="line">            if(equal_col_pixel(img,col,col+1) &#x3D;&#x3D; False):</span><br><span class="line">                # beginä¸endæŒ‡å‘ä¸æ˜¯åŒä¸€åˆ—æ—¶ï¼Œåˆ¤æ–­è¿ç»­åˆ—æ•°æ˜¯å¦æ»¡è¶³ä¹å®«æ¡ä»¶</span><br><span class="line">                if((cur_begin_col_index !&#x3D; cur_end_col_index) and (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuous_col_num) and (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index)):</span><br><span class="line">                    # å·²ç»è¾¾åˆ°äº†è¿ç»­åˆ—æ•°ï¼Œæ»¡è¶³ä¹å®«æ¡ä»¶</span><br><span class="line">                    slice_begin_col_index &#x3D; cur_begin_col_index</span><br><span class="line">                    slice_end_col_index &#x3D; cur_end_col_index</span><br><span class="line">                cur_begin_col_index &#x3D; col + 1</span><br><span class="line">                cur_end_col_index &#x3D; col + 1</span><br><span class="line">            else:</span><br><span class="line">                # ç›¸ç­‰ï¼Œendåç§»ä¸€ä½</span><br><span class="line">                cur_end_col_index &#x3D; col + 1</span><br><span class="line">    if(slice_end_col_index - slice_begin_col_index &gt;&#x3D; continuous_col_num):</span><br><span class="line">        return True,slice_begin_col_index,slice_end_col_index</span><br><span class="line">    else:</span><br><span class="line">        return False,0,0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># çºµå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«</span><br><span class="line">def vertical_slice(img,continuous_row_num):</span><br><span class="line">    cur_begin_row_index &#x3D; 0</span><br><span class="line">    cur_end_row_index &#x3D; 0</span><br><span class="line">    slice_begin_row_index &#x3D; 0</span><br><span class="line">    slice_end_row_index &#x3D; 0</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    for row in range(height):</span><br><span class="line">        if(row &lt; height - 1):</span><br><span class="line">            if(equal_row_pixel(img,row,row+1) &#x3D;&#x3D; False):</span><br><span class="line">                if((cur_begin_row_index !&#x3D; cur_end_row_index) and (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuous_row_num) and (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index)):</span><br><span class="line">                    slice_begin_row_index &#x3D; cur_begin_row_index</span><br><span class="line">                    slice_end_row_index &#x3D; cur_end_row_index</span><br><span class="line">                cur_begin_row_index &#x3D; row + 1</span><br><span class="line">                cur_end_row_index &#x3D; row + 1</span><br><span class="line">            else:</span><br><span class="line">                cur_end_row_index &#x3D; row + 1</span><br><span class="line">    if(slice_end_row_index - slice_begin_row_index &gt;&#x3D; continuous_row_num):</span><br><span class="line">        return True,slice_begin_row_index,slice_end_row_index</span><br><span class="line">    else:</span><br><span class="line">        return False,0,0</span><br></pre></td></tr></table></figure><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*- </span><br><span class="line"></span><br><span class="line">import cv2</span><br><span class="line">from PIL import Image</span><br><span class="line">import numpy as np</span><br><span class="line">import os</span><br><span class="line">import tkFileDialog</span><br><span class="line">import Tkinter</span><br><span class="line">import tkMessageBox</span><br><span class="line"></span><br><span class="line"># æ¯”è¾ƒä¸¤è¡Œæ˜¯å¦ç›¸ç­‰</span><br><span class="line"># ç›¸ç­‰è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span><br><span class="line">def equal_row_pixel(img,row1,row2):</span><br><span class="line">    height &#x3D; img.shape[0]        #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    if(row1 &lt; 0 or row1 &gt;&#x3D; height):</span><br><span class="line">    return False</span><br><span class="line">    if(row2 &lt; 0 or row2 &gt;&#x3D; height):</span><br><span class="line">    return False</span><br><span class="line">    for col in range(width):</span><br><span class="line">        for channel in range(channels):</span><br><span class="line">            if(img[row1][col][channel] !&#x3D; img[row2][col][channel]):</span><br><span class="line">                return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"># æ¯”è¾ƒä¸¤åˆ—æ˜¯å¦ç›¸ç­‰</span><br><span class="line"># ç›¸ç­‰è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span><br><span class="line">def equal_col_pixel(img,col1,col2):</span><br><span class="line">    height &#x3D; img.shape[0]        #å°†tupleä¸­çš„å…ƒç´ å–å‡ºï¼Œèµ‹å€¼ç»™heightï¼Œwidthï¼Œchannels</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    if(col1 &lt; 0 or col1 &gt;&#x3D; width):</span><br><span class="line">        return False</span><br><span class="line">    if(col2 &lt; 0 or col2 &gt;&#x3D; width):</span><br><span class="line">    return False</span><br><span class="line">    for row in range(height):</span><br><span class="line">        for channel in range(channels):</span><br><span class="line">            if(img[row][col1][channel] !&#x3D; img[row][col2][channel]):</span><br><span class="line">                return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æ¨ªå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«</span><br><span class="line"># img:å›¾ç‰‡</span><br><span class="line"># continuous_col_num:è¿ç»­çš„åˆ—æ•°ï¼Œå¤§äºç­‰äºè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç†</span><br><span class="line">def horizontal_slice(img,continuous_col_num):</span><br><span class="line">    cur_begin_col_index &#x3D; 0</span><br><span class="line">    cur_end_col_index &#x3D; 0</span><br><span class="line">    slice_begin_col_index &#x3D; 0</span><br><span class="line">    slice_end_col_index &#x3D; 0</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    for col in range(width):</span><br><span class="line">        if(col &lt; width - 1):</span><br><span class="line">            if(equal_col_pixel(img,col,col+1) &#x3D;&#x3D; False):</span><br><span class="line">                # beginä¸endæŒ‡å‘ä¸æ˜¯åŒä¸€åˆ—æ—¶ï¼Œåˆ¤æ–­è¿ç»­åˆ—æ•°æ˜¯å¦æ»¡è¶³ä¹å®«æ¡ä»¶</span><br><span class="line">                if((cur_begin_col_index !&#x3D; cur_end_col_index) and (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuous_col_num) and (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index)):</span><br><span class="line">                    # å·²ç»è¾¾åˆ°äº†è¿ç»­åˆ—æ•°ï¼Œæ»¡è¶³ä¹å®«æ¡ä»¶</span><br><span class="line">                    slice_begin_col_index &#x3D; cur_begin_col_index</span><br><span class="line">                    slice_end_col_index &#x3D; cur_end_col_index</span><br><span class="line">                cur_begin_col_index &#x3D; col + 1</span><br><span class="line">                cur_end_col_index &#x3D; col + 1</span><br><span class="line">            else:</span><br><span class="line">                # ç›¸ç­‰ï¼Œendåç§»ä¸€ä½</span><br><span class="line">                cur_end_col_index &#x3D; col + 1</span><br><span class="line">    if(slice_end_col_index - slice_begin_col_index &gt;&#x3D; continuous_col_num):</span><br><span class="line">        return True,slice_begin_col_index,slice_end_col_index</span><br><span class="line">    else:</span><br><span class="line">        return False,0,0</span><br><span class="line"></span><br><span class="line"># çºµå‘æ˜¯å¦å¯ä»¥å¤„ç†ä¹å®«</span><br><span class="line">def vertical_slice(img,continuous_row_num):</span><br><span class="line">    cur_begin_row_index &#x3D; 0</span><br><span class="line">    cur_end_row_index &#x3D; 0</span><br><span class="line">    slice_begin_row_index &#x3D; 0</span><br><span class="line">    slice_end_row_index &#x3D; 0</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    for row in range(height):</span><br><span class="line">        if(row &lt; height - 1):</span><br><span class="line">            if(equal_row_pixel(img,row,row+1) &#x3D;&#x3D; False):</span><br><span class="line">                if((cur_begin_row_index !&#x3D; cur_end_row_index) and (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuous_row_num) and (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index)):</span><br><span class="line">                    slice_begin_row_index &#x3D; cur_begin_row_index</span><br><span class="line">                    slice_end_row_index &#x3D; cur_end_row_index</span><br><span class="line">                cur_begin_row_index &#x3D; row + 1</span><br><span class="line">                cur_end_row_index &#x3D; row + 1</span><br><span class="line">            else:</span><br><span class="line">                cur_end_row_index &#x3D; row + 1</span><br><span class="line">    if(slice_end_row_index - slice_begin_row_index &gt;&#x3D; continuous_row_num):</span><br><span class="line">        return True,slice_begin_row_index,slice_end_row_index</span><br><span class="line">    else:</span><br><span class="line">        return False,0,0</span><br><span class="line"></span><br><span class="line"># æ ‡è®°Spriteçš„ä¹å®«åŒºåŸŸ</span><br><span class="line">def tag_image_slice_area(img,slice_row_begin,slice_row_end,slice_col_begin,slice_col_end,color):</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    channels &#x3D; img.shape[2]</span><br><span class="line">    for row in range(height):    #éå†æ¯ä¸€è¡Œ</span><br><span class="line">        for col in range(width): #éå†æ¯ä¸€åˆ—</span><br><span class="line">            if((row &gt;&#x3D; slice_row_begin and row &lt;&#x3D; slice_row_end and slice_row_begin !&#x3D; slice_row_end) or (col &gt;&#x3D; slice_col_begin and col &lt;&#x3D; slice_col_end and slice_col_begin !&#x3D; slice_col_end)):</span><br><span class="line">                alter_image_pixel_color(img,row,col,color)</span><br><span class="line">    return img</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹imgæŒ‡å®šåƒç´ çš„é¢œè‰²</span><br><span class="line"># img:ä¿®æ”¹çš„img</span><br><span class="line"># row:è¡Œç´¢å¼•</span><br><span class="line"># col:åˆ—ç´¢å¼•</span><br><span class="line"># color:é¢œè‰²rgbæ•°ç»„</span><br><span class="line">def alter_image_pixel_color(img,row,col,color):</span><br><span class="line">    img.itemset((row, col, 0), color[0])</span><br><span class="line">    img.itemset((row, col, 1), color[1])</span><br><span class="line">    img.itemset((row, col, 2), color[2])</span><br><span class="line"></span><br><span class="line"># ä¹å®«åŒºåŸŸè£å‰ª</span><br><span class="line">def tailor_image_slice_area(img,slice_row_begin,slice_row_end,slice_col_begin,slice_col_end):</span><br><span class="line">    height &#x3D; img.shape[0]</span><br><span class="line">    width &#x3D; img.shape[1]</span><br><span class="line">    new_width &#x3D; width - (slice_col_end - slice_col_begin)</span><br><span class="line">    new_height &#x3D; height - (slice_row_end - slice_row_begin)</span><br><span class="line">    target &#x3D; np.zeros(shape&#x3D;(new_height,new_width,img.shape[2]), dtype&#x3D;np.uint8)</span><br><span class="line">    </span><br><span class="line">    # img[0:4,0:3] ç¬¬0è¡Œ-ç¬¬4è¡Œï¼Œç¬¬0åˆ—åˆ°ç¬¬3åˆ—çš„äº¤å‰åŒºåŸŸ</span><br><span class="line"></span><br><span class="line">    # å·¦ä¸Š</span><br><span class="line">    roiImg &#x3D; img[0:slice_row_begin,0:slice_col_begin]</span><br><span class="line">    target[0:slice_row_begin,0:slice_col_begin] &#x3D; roiImg</span><br><span class="line"></span><br><span class="line">    # å³ä¸Š</span><br><span class="line">    roiImg &#x3D; img[0:slice_row_begin,slice_col_end:width]</span><br><span class="line">    target[0:slice_row_begin,slice_col_begin:new_width] &#x3D; roiImg</span><br><span class="line"></span><br><span class="line">    # å·¦ä¸‹</span><br><span class="line">    roiImg &#x3D; img[slice_row_end:height,0:slice_col_begin]</span><br><span class="line">    target[slice_row_begin:new_height,0:slice_col_begin] &#x3D; roiImg</span><br><span class="line"></span><br><span class="line">    # å³ä¸‹</span><br><span class="line">    roiImg &#x3D; img[slice_row_end:height,slice_col_end:width]</span><br><span class="line">    target[slice_row_begin:new_height,slice_col_begin:new_width] &#x3D; roiImg</span><br><span class="line"></span><br><span class="line">    return target</span><br><span class="line"></span><br><span class="line">def load_sprite():</span><br><span class="line">    continuous_row_num_input_str &#x3D; continuous_row_num_input.get() #è·å–æ–‡æœ¬æ¡†å†…å®¹</span><br><span class="line">    continuous_col_num_input_str &#x3D; continuous_col_num_input.get()</span><br><span class="line">    continuous_row_num &#x3D; 0</span><br><span class="line">    continuous_col_num &#x3D; 0</span><br><span class="line">    try:</span><br><span class="line">        if continuous_row_num_input_str !&#x3D; &quot;&quot;:</span><br><span class="line">            continuous_row_num &#x3D; float(continuous_row_num_input_str)</span><br><span class="line">        if continuous_col_num_input_str !&#x3D; &quot;&quot;:</span><br><span class="line">            continuous_col_num &#x3D; float(continuous_col_num_input_str)</span><br><span class="line">    except ValueError:</span><br><span class="line">        tkMessageBox.showinfo( &quot;Error&quot;, &quot;æ— æ•ˆçš„çº¿å®½è¾“å…¥&quot;)</span><br><span class="line">        return</span><br><span class="line">    if continuous_row_num &lt;&#x3D; 0 or continuous_col_num &lt;&#x3D; 0:</span><br><span class="line">        tkMessageBox.showinfo( &quot;Error&quot;, &quot;æ— æ•ˆçš„çº¿å®½è¾“å…¥&quot;)</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line">    fname &#x3D; tkFileDialog.askopenfilename(title&#x3D;u&quot;é€‰æ‹©æ–‡ä»¶&quot;)</span><br><span class="line">    img1 &#x3D; cv2.imread(fname,cv2.IMREAD_UNCHANGED)</span><br><span class="line">    a1,b1,c1 &#x3D; horizontal_slice(img1,continuous_col_num)</span><br><span class="line">    a2,b2,c2 &#x3D; vertical_slice(img1,continuous_row_num)</span><br><span class="line"></span><br><span class="line">    # ä¹å®«åŒºåŸŸä¿ç•™åœ¨3åƒç´ çš„å®½é«˜</span><br><span class="line">    b1 &#x3D; b1 + 1</span><br><span class="line">    c1 &#x3D; c1 - 1</span><br><span class="line">    b2 &#x3D; b2 + 1</span><br><span class="line">    c2 &#x3D; c2 - 1</span><br><span class="line">    if toggle_tailor_hor.get() &#x3D;&#x3D; 0:</span><br><span class="line">        b1 &#x3D; 0</span><br><span class="line">        c1 &#x3D; 0</span><br><span class="line">    if toggle_tailor_ver.get() &#x3D;&#x3D; 0:</span><br><span class="line">        b2 &#x3D; 0</span><br><span class="line">        c2 &#x3D; 0</span><br><span class="line">    new_sprite &#x3D; tailor_image_slice_area(img1,b2,c2,b1,c1)</span><br><span class="line">    cv2.imwrite(fname, new_sprite)</span><br><span class="line">    print(fname)</span><br><span class="line"></span><br><span class="line">root &#x3D; Tkinter.Tk()</span><br><span class="line">root.geometry(&#39;400x300&#39;)</span><br><span class="line">root.title(&quot;Spriteä¹å®«åŒºåŸŸæè‡´è£å‰ªä¿®æ”¹å™¨&quot;)</span><br><span class="line"></span><br><span class="line">frame &#x3D; Tkinter.Frame(root)</span><br><span class="line">frame.pack()</span><br><span class="line"></span><br><span class="line">toggle_tailor_hor &#x3D; Tkinter.IntVar()</span><br><span class="line">toggle_tailor_ver &#x3D; Tkinter.IntVar()</span><br><span class="line"></span><br><span class="line">Tkinter.Checkbutton(root, text &#x3D; &quot;æ˜¯å¦æ¨ªå‘ä¹å®«å¤„ç†&quot;, variable &#x3D; toggle_tailor_hor,onvalue &#x3D; 1, offvalue &#x3D; 0).pack()</span><br><span class="line">Tkinter.Checkbutton(root, text &#x3D; &quot;æ˜¯å¦çºµå‘ä¹å®«è¿·å®«&quot;, variable &#x3D; toggle_tailor_ver,onvalue &#x3D; 1, offvalue &#x3D; 0).pack()</span><br><span class="line"></span><br><span class="line">Tkinter.Label(frame, text&#x3D;&quot;æ¨ªå‘æœ€å°è¿ç»­åˆ—æ•°&quot;).pack()</span><br><span class="line">continuous_row_num_input &#x3D; Tkinter.Entry(frame)</span><br><span class="line">continuous_row_num_input.pack()</span><br><span class="line"></span><br><span class="line">Tkinter.Label(frame, text&#x3D;&quot;çºµå‘æœ€å°è¿ç»­è¡Œæ•°&quot;).pack()</span><br><span class="line">continuous_col_num_input &#x3D; Tkinter.Entry(frame)</span><br><span class="line">continuous_col_num_input.pack()</span><br><span class="line"></span><br><span class="line">load_sprite_button &#x3D; Tkinter.Button(root, text&#x3D;&quot;åŠ è½½Spriteæ–‡ä»¶å¹¶ä¿®æ”¹&quot;,command&#x3D;load_sprite)</span><br><span class="line">load_sprite_button.pack()</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure><h2 id="å·¥å…·ç•Œé¢"><a href="#å·¥å…·ç•Œé¢" class="headerlink" title="å·¥å…·ç•Œé¢"></a>å·¥å…·ç•Œé¢</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93dzQuc2luYWltZy5jbi9sYXJnZS8wMDZ0TmM3OWd5MWc2MGRxMnRuMmdqMzBtODBodzc2NC5qcGc" alt></p><p>ç‚¹å‡»æŒ‰é’®â€åŠ è½½Spriteæ–‡ä»¶å¹¶ä¿®æ”¹â€œåï¼Œæ‰“å¼€æ–‡ä»¶æ¡†é€‰ä¸­è¦å¤„ç†çš„å›¾ç‰‡åè¿›è¡Œå¤„ç†ï¼Œè¦†ç›–åŸå›¾ç‰‡ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><p>æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="http://www.jingfengji.tech/">http://www.jingfengji.tech/</a><br>æ¬¢è¿å¤§å®¶å…³æ³¨ã€‚</p><p>æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼Œåç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¹å®«æ ¼å›¾ç‰‡æè‡´è£å‰ª </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite Borderè‡ªåŠ¨è®¾ç½®å·¥å…·</title>
      <link href="/2019/08/13/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-ba-sprite-border-zi-dong-she-zhi-gong-ju/"/>
      <url>/2019/08/13/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-ba-sprite-border-zi-dong-she-zhi-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite-Borderè‡ªåŠ¨è®¾ç½®å·¥å…·"><a href="#Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite-Borderè‡ªåŠ¨è®¾ç½®å·¥å…·" class="headerlink" title="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite Borderè‡ªåŠ¨è®¾ç½®å·¥å…·"></a>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…«ï¼šSprite Borderè‡ªåŠ¨è®¾ç½®å·¥å…·</h1><h3 id="1-0-åŠŸèƒ½ä»‹ç»"><a href="#1-0-åŠŸèƒ½ä»‹ç»" class="headerlink" title="1.0 åŠŸèƒ½ä»‹ç»"></a>1.0 åŠŸèƒ½ä»‹ç»</h3><p>è‡ªåŠ¨è®¡ç®—å‡ºä¹å®«æ ¼Sprite çš„borderæ•°æ®å¹¶ç›´æ¥èµ‹å€¼ä¿å­˜çš„å·¥å…·ã€‚ã€çº¯å±å·æ‡’ï¼Œå¯èƒ½å„ä½è§‰å¾—æ²¡å•¥ç”¨å§ï¼Œå“ˆå“ˆã€‘</p><p>å½“éœ€è¦ä¸ºä¸€ä¸ªä¹å®«æ ¼Sprite è®¾ç½®Borderæ•°æ®æ—¶ï¼Œéœ€è¦æ‰“å¼€Sprite Editorï¼Œç„¶åè¾“å…¥Borderæ•°æ®ã€‚</p><p>å·¥å…·ä¼šç›´æ¥è®¡ç®—æ¨ªå‘ã€çºµå‘è¿ç»­å®Œå…¨ç›¸åŒçš„åˆ—æ•°ã€è¡Œæ•°ï¼ˆå½“ç„¶è¿ç»­åŒºåŸŸå–æœ€å¤§çš„ï¼‰ï¼Œå½“è®¡ç®—å‡ºçš„ä¹å®«åŒºåŸŸæ»¡è¶³æ¡ä»¶æ—¶ï¼ˆæˆ‘è®¾å®šçš„æ¡ä»¶æ˜¯è¿ç»­åˆ—æ•°æˆ–è€…è¡Œæ•°æœ‰ä¸ªæœ€å°å€¼è®¾å®šï¼‰ï¼Œå°±ä»»åŠ¡è¯¥å›¾å¯ä»¥å¤„ç†ä¸ºä¹å®«æ ¼Spriteã€‚</p><p>ä»¥ä¸Šä¹å®«æ ¼Spriteï¼Œåˆç§°ä¸º ç‚¹ä¹å›¾ã€åºŸè¯ã€‘ã€‚</p><h3 id="2-0-æºç "><a href="#2-0-æºç " class="headerlink" title="2.0 æºç "></a>2.0 æºç </h3><p>è„šæœ¬æ”¾ç½®åœ¨Editoræ–‡ä»¶å¤¹ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line">using System.IO;</span><br><span class="line">using UnityEditor;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class SpriteImporterTool : UnityEditor.Editor</span><br><span class="line">&#123;</span><br><span class="line">    public static int continuousColNum &#x3D; 10; &#x2F;&#x2F;continuousColNum:è¿ç»­çš„åˆ—æ•°ï¼Œå¤§äºç­‰äºè¿™ä¸ªå€¼åˆ¤å®šä¸ºæ¨ªå‘å¯ä»¥ä¹å®«å¤„ç†</span><br><span class="line">    public static int continuousRowNum &#x3D; 10; &#x2F;&#x2F;continuousRowNum:è¿ç»­çš„è¡Œæ•°ï¼Œå¤§äºç­‰äºè¿™ä¸ªå€¼åˆ¤å®šä¸ºçºµå‘å¯ä»¥ä¹å®«å¤„ç†</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;è‡ªåŠ¨è®¡ç®—Sprite Borderæ•°æ®</span><br><span class="line">    [MenuItem(&quot;Assets&#x2F;SpriteBorder&#x2F;AutoSetSpriteBorder&quot;, false, 500)]</span><br><span class="line">    public static void AutoSetSpriteBorder()</span><br><span class="line">    &#123;</span><br><span class="line">        foreach (var spriteAsset in Selection.objects)</span><br><span class="line">        &#123;</span><br><span class="line">            AutoSetSpriteBorder(AssetDatabase.GetAssetPath(spriteAsset));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F;è®¾ç½®Sprite Borderä¸ºZero</span><br><span class="line">    [MenuItem(&quot;Assets&#x2F;SpriteBorder&#x2F;Reset Zero&quot;, false)]</span><br><span class="line">    public static void AutoSetSpriteBorderZero()</span><br><span class="line">    &#123;</span><br><span class="line">        foreach (var spriteAsset in Selection.objects)</span><br><span class="line">        &#123;</span><br><span class="line">            SetSpriteBorder(AssetDatabase.GetAssetPath(spriteAsset), Vector4.zero);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static void AutoSetSpriteBorder(string spriteAssetPath)</span><br><span class="line">    &#123;</span><br><span class="line">        TextureImporter textureImporter &#x3D; AssetImporter.GetAtPath(spriteAssetPath) as TextureImporter;</span><br><span class="line">        if (textureImporter !&#x3D; null &amp;&amp; textureImporter.textureType &#x3D;&#x3D; TextureImporterType.Sprite)</span><br><span class="line">        &#123;</span><br><span class="line">            Sprite sprite &#x3D; AssetDatabase.LoadAssetAtPath&lt;Sprite&gt;(spriteAssetPath);</span><br><span class="line"></span><br><span class="line">            Vector4 border &#x3D; Vector4.zero;</span><br><span class="line">            GetBorderSliceInfo(sprite.texture, continuousColNum, continuousRowNum, ref border);</span><br><span class="line"></span><br><span class="line">            if (border !&#x3D; Vector4.zero)</span><br><span class="line">            &#123;</span><br><span class="line">                textureImporter.spriteBorder &#x3D; border;</span><br><span class="line">                EditorUtility.SetDirty(sprite);</span><br><span class="line">                AssetDatabase.SaveAssets();</span><br><span class="line">                AssetDatabase.Refresh();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static void SetSpriteBorder(string spriteAssetPath, Vector4 border)</span><br><span class="line">    &#123;</span><br><span class="line">        TextureImporter textureImporter &#x3D; AssetImporter.GetAtPath(spriteAssetPath) as TextureImporter;</span><br><span class="line">        if (textureImporter !&#x3D; null &amp;&amp; textureImporter.textureType &#x3D;&#x3D; TextureImporterType.Sprite)</span><br><span class="line">        &#123;</span><br><span class="line">            Sprite sprite &#x3D; AssetDatabase.LoadAssetAtPath&lt;Sprite&gt;(spriteAssetPath);</span><br><span class="line"></span><br><span class="line">            textureImporter.spriteBorder &#x3D; border;</span><br><span class="line">            EditorUtility.SetDirty(sprite);</span><br><span class="line">            AssetDatabase.SaveAssets();</span><br><span class="line">            AssetDatabase.Refresh();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void GetBorderSliceInfo(Texture2D texture, int continuousColNum, int continuousRowNum,</span><br><span class="line">        ref Vector4 border)</span><br><span class="line">    &#123;</span><br><span class="line">        int width &#x3D; texture.width;</span><br><span class="line">        int height &#x3D; texture.height;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;å’³å’³ï¼Œè¿™é‡Œçš„å‘½åè§„åˆ™è¯·å¿½ç•¥ï¼Œä»å¦ä¸€ä¸ªpythonå·¥å…·æ‹·è´è¿‡æ¥</span><br><span class="line">        int cur_begin_col_index &#x3D; 0;</span><br><span class="line">        int cur_end_col_index &#x3D; 0;</span><br><span class="line">        int slice_begin_col_index &#x3D; 0;</span><br><span class="line">        int slice_end_col_index &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        Texture2D readTexture2D &#x3D; GetReadTexture2D(texture);</span><br><span class="line">        for (int col &#x3D; 0; col &lt; width - 1; col++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (EqualColPixel(readTexture2D, col, col + 1) &#x3D;&#x3D; false)</span><br><span class="line">            &#123;</span><br><span class="line">                if ((cur_begin_col_index !&#x3D; cur_end_col_index) &amp;&amp;</span><br><span class="line">                    (cur_end_col_index - cur_begin_col_index &gt;&#x3D; continuousColNum) &amp;&amp;</span><br><span class="line">                    (cur_end_col_index - cur_begin_col_index &gt; slice_end_col_index - slice_begin_col_index))</span><br><span class="line">                &#123;</span><br><span class="line">                    slice_begin_col_index &#x3D; cur_begin_col_index;</span><br><span class="line">                    slice_end_col_index &#x3D; cur_end_col_index;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                cur_begin_col_index &#x3D; col + 1;</span><br><span class="line">                cur_end_col_index &#x3D; col + 1;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                cur_end_col_index &#x3D; col + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int cur_begin_row_index &#x3D; 0;</span><br><span class="line">        int cur_end_row_index &#x3D; 0;</span><br><span class="line">        int slice_begin_row_index &#x3D; 0;</span><br><span class="line">        int slice_end_row_index &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        for (int row &#x3D; 0; row &lt; height - 1; row++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (EqualRowPixel(readTexture2D, row, row + 1) &#x3D;&#x3D; false)</span><br><span class="line">            &#123;</span><br><span class="line">                if ((cur_begin_row_index !&#x3D; cur_end_row_index) &amp;&amp;</span><br><span class="line">                    (cur_end_row_index - cur_begin_row_index &gt;&#x3D; continuousRowNum) &amp;&amp;</span><br><span class="line">                    (cur_end_row_index - cur_begin_row_index &gt; slice_end_row_index - slice_begin_row_index))</span><br><span class="line">                &#123;</span><br><span class="line">                    slice_begin_row_index &#x3D; cur_begin_row_index;</span><br><span class="line">                    slice_end_row_index &#x3D; cur_end_row_index;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                cur_begin_row_index &#x3D; row + 1;</span><br><span class="line">                cur_end_row_index &#x3D; row + 1;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                cur_end_row_index &#x3D; row + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (slice_end_col_index - slice_begin_col_index &lt; continuousColNum)</span><br><span class="line">        &#123;</span><br><span class="line">            slice_begin_col_index &#x3D; 0;</span><br><span class="line">            slice_end_col_index &#x3D; width - 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (slice_end_row_index - slice_begin_row_index &lt; continuousRowNum)</span><br><span class="line">        &#123;</span><br><span class="line">            slice_begin_row_index &#x3D; 0;</span><br><span class="line">            slice_end_row_index &#x3D; height - 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;LTRB</span><br><span class="line">        &#x2F;&#x2F;row æ˜¯çºµå‘çš„  T B</span><br><span class="line">        &#x2F;&#x2F;col æ˜¯æ¨ªå‘çš„  L R</span><br><span class="line">        border &#x3D; new Vector4(slice_begin_col_index, slice_begin_row_index, width - slice_end_col_index - 1,</span><br><span class="line">            height - slice_end_row_index - 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static string GetAssetFullPath(UnityEngine.Object asset)</span><br><span class="line">    &#123;</span><br><span class="line">        return System.Environment.CurrentDirectory + Path.DirectorySeparatorChar +</span><br><span class="line">               AssetDatabase.GetAssetPath(asset);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static Texture2D GetReadTexture2D(Texture texture)</span><br><span class="line">    &#123;</span><br><span class="line">        string textureFilePath &#x3D; GetAssetFullPath(texture);</span><br><span class="line">        FileStream fileStream &#x3D; new FileStream(textureFilePath, FileMode.Open, FileAccess.Read);</span><br><span class="line">        fileStream.Seek(0, SeekOrigin.Begin);</span><br><span class="line">        byte[] bytes &#x3D; new byte[fileStream.Length];</span><br><span class="line">        fileStream.Read(bytes, 0, (int) fileStream.Length);</span><br><span class="line">        fileStream.Close();</span><br><span class="line">        fileStream.Dispose();</span><br><span class="line">        Texture2D new_texture &#x3D; new Texture2D(texture.width, texture.height);</span><br><span class="line">        new_texture.LoadImage(bytes);</span><br><span class="line">        return new_texture;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ¯”è¾ƒä¸¤è¡Œåƒç´ æ˜¯å¦å®Œå…¨ç›¸ç­‰</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;texture&quot;&gt;isReadableä¸ºtrueï¼Œå¯è¯»çš„texture&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;row1&quot;&gt;&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;row2&quot;&gt;&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;</span><br><span class="line">    public static bool EqualRowPixel(Texture2D texture, int row1, int row2)</span><br><span class="line">    &#123;</span><br><span class="line">        Color[] row1Colors &#x3D; texture.GetPixels(0, row1, texture.width, 1);</span><br><span class="line">        Color[] row2Colors &#x3D; texture.GetPixels(0, row2, texture.width, 1);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; row1Colors.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (!row1Colors[i].Equals(row2Colors[i]))</span><br><span class="line">            &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ¯”è¾ƒä¸¤åˆ—åƒç´ æ˜¯å¦å®Œå…¨ç›¸ç­‰</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;texture&quot;&gt;isReadableä¸ºtrueï¼Œå¯è¯»çš„texture&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;col1&quot;&gt;&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;col2&quot;&gt;&lt;&#x2F;param&gt;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;</span><br><span class="line">    public static bool EqualColPixel(Texture2D texture, int col1, int col2)</span><br><span class="line">    &#123;</span><br><span class="line">        Color[] col1Colors &#x3D; texture.GetPixels(col1, 0, 1, texture.height);</span><br><span class="line">        Color[] col2Colors &#x3D; texture.GetPixels(col2, 0, 1, texture.height);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; col1Colors.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (!col1Colors[i].Equals(col2Colors[i]))</span><br><span class="line">            &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpriteBorderè‡ªåŠ¨è®¾ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP-SpriteAssetå›¾æ–‡æ··æ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·</title>
      <link href="/2019/08/09/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-qi-textmeshpro-de-tmp-spriteasset-tu-wen-hun-pai-tu-ji-kuai-jie-geng-xin-gong-ju/"/>
      <url>/2019/08/09/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-qi-textmeshpro-de-tmp-spriteasset-tu-wen-hun-pai-tu-ji-kuai-jie-geng-xin-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP-SpriteAssetå›¾æ–‡æ··æ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·"><a href="#Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP-SpriteAssetå›¾æ–‡æ··æ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·" class="headerlink" title="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP_SpriteAssetå›¾æ–‡æ··æ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·"></a>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸ƒï¼šTextMeshProçš„TMP_SpriteAssetå›¾æ–‡æ··æ’å›¾é›†å¿«æ·æ›´æ–°å·¥å…·</h1><h2 id="1-TextMeshProçš„SpriteAssetåˆ¶ä½œ"><a href="#1-TextMeshProçš„SpriteAssetåˆ¶ä½œ" class="headerlink" title="1.TextMeshProçš„SpriteAssetåˆ¶ä½œ"></a>1.TextMeshProçš„SpriteAssetåˆ¶ä½œ</h2><p>æ­¤æ–‡ä¸å†èµ˜è¿°ï¼Œå‚è€ƒæ­¤æ–‡ï¼š<a href="https://blog.csdn.net/qq_37057633/article/details/81120583" target="_blank" rel="noopener">https://blog.csdn.net/qq_37057633/article/details/81120583</a></p><h2 id="2-å·¥å…·ä½¿ç”¨åœºæ™¯"><a href="#2-å·¥å…·ä½¿ç”¨åœºæ™¯" class="headerlink" title="2.å·¥å…·ä½¿ç”¨åœºæ™¯"></a>2.å·¥å…·ä½¿ç”¨åœºæ™¯</h2><p>å½“å›¾æ–‡æ··æ’å›¾é›†éœ€è¦åŠ ä¸€ä¸ªæ–°å›¾æ—¶ï¼Œéœ€è¦é‡æ–°æŒ‰ç…§ä¸Šæ–‡çš„æµç¨‹é‡æ–°æ‰“ä¸€éJson(Array)æ ¼å¼å’Œä¸€éUnity-Texture2D Spriteæ ¼å¼çš„ï¼Œæ‰“å®Œä¹‹åï¼Œå›¾é›†é‡Œçš„å›¾æ–‡ä½ç½®å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼ŒTMP_SpriteAsseté‡Œå­˜å‚¨çš„spriteGlyphTableå’ŒspriteCharacterTableå¹¶ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼ˆåŒ…æ‹¬æ—§çš„spriteç›¸å…³æ•°æ®å’Œæ–°å¢çš„spriteæ•°æ®ï¼‰ï¼Œè€Œä¸”æ—§çš„å›¾æ–‡æ··æ’å›¾é›†é‡Œçš„Sprite IDä¹Ÿåº”è¯¥ä¿æŒä¸å˜ï¼Œå¦‚æœæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹äº†Spriteçš„GlyphMetricsæ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¹Ÿä¼šè¢«é‡æ‰“çš„è¦†ç›–æ‰ï¼Œä½¿å¾—ä¹‹å‰çš„æ•°æ®ä¸¢å¤±ã€‚é‚£ä¹ˆï¼Œå¼€å‘ä¸€æ¬¾å¿«æ·æ›´æ–°å›¾æ–‡æ··æ’çš„å·¥å…·å°±ååˆ†æœ‰å¿…è¦ã€‚</p><h2 id="3-å·¥å…·ä»‹ç»"><a href="#3-å·¥å…·ä»‹ç»" class="headerlink" title="3.å·¥å…·ä»‹ç»"></a>3.å·¥å…·ä»‹ç»</h2><h2 id="3-1-å·¥å…·ç•Œé¢"><a href="#3-1-å·¥å…·ç•Œé¢" class="headerlink" title="3.1 å·¥å…·ç•Œé¢"></a>3.1 å·¥å…·ç•Œé¢</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190809104416516.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="3-2-å·¥å…·åŠŸèƒ½"><a href="#3-2-å·¥å…·åŠŸèƒ½" class="headerlink" title="3.2 å·¥å…·åŠŸèƒ½"></a>3.2 å·¥å…·åŠŸèƒ½</h2><p>1.ç¼“å­˜æ•°æ®</p><p>ä¸»è¦æ˜¯ç¼“å­˜æ—§çš„å›¾é›†æ•°æ®ï¼ŒspriteGlyphTableå’ŒspriteCharacterTable</p><p>2.ä¸€é”®æ‰“Jsonæ ¼å¼å›¾é›†</p><p>ä½¿ç”¨å‘½ä»¤è¡Œæ‰“å›¾é›†ï¼Œæ­¤æ–‡ä¸å†èµ˜è¿°ï¼Œå‚è€ƒï¼š<a href="https://blog.csdn.net/u014065445/article/details/54289787" target="_blank" rel="noopener">https://blog.csdn.net/u014065445/article/details/54289787</a></p><p>ä½¿ç”¨å‘½ä»¤è¡Œæ‰“jsonæ ¼å¼æ–‡ä»¶</p><p>3.ä¸€é”®æ‰“Unityæ ¼å¼å›¾é›†</p><p>ä½¿ç”¨å‘½ä»¤è¡Œæ‰“Unityæ ¼å¼å›¾é›†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">&#x2F;&#x2F;&#x2F; æ‰“Unityæ ¼å¼å›¾é›†</span><br><span class="line">&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">private void UnitySpriteTexturePacker()</span><br><span class="line">&#123;</span><br><span class="line">    curTime &#x3D; System.DateTime.Now;</span><br><span class="line">    &#x2F;&#x2F;è·å–æ‰“Unityæ ¼å¼çš„TexturePackerå‘½ä»¤</span><br><span class="line">    string cmd &#x3D; TexturePackerCommond.GetPackCommond(arangeSpritesFolderPath,arrangeIconAtlasPngPath,arrangeIconAtlasTpsheetFilePath);</span><br><span class="line">    &#x2F;&#x2F;ä½¿ç”¨ShellHelperç”Ÿæˆä¸€ä¸ªShellRequestå¯¹è±¡</span><br><span class="line">    ShellHelper.ShellRequest request &#x3D; ShellHelper.ProcessCommand(cmd,null);</span><br><span class="line">    EditorUtility.DisplayProgressBar(&quot;æ‰¹é‡å¤„ç†ä¸­...&quot;,&quot;Shellè„šæœ¬ç”ŸæˆJsonå›¾é›†ä¿¡æ¯...&quot;, 0);</span><br><span class="line">    &#x2F;&#x2F;æ³¨å†Œå‘½ä»¤æ‰§è¡Œå®Œå›è°ƒ</span><br><span class="line">    request.onDone  +&#x3D; ()&#x3D;&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F;æ‰“åŒ…ç»“æŸ</span><br><span class="line">            EditorUtility.DisplayProgressBar(&quot;æ‰¹é‡å¤„ç†ä¸­...&quot;,&quot;Shellè„šæœ¬æ‰§è¡Œå®Œæ¯•...å¼€å§‹æ‰“å›¾é›†...&quot;, 0);</span><br><span class="line">            AssetDatabase.SaveAssets();</span><br><span class="line">            AssetDatabase.Refresh();</span><br><span class="line">            CreateUIAtlas();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F;æ³¨å†Œå‘½ä»¤æ‰§è¡Œé”™è¯¯çš„å›è°ƒ</span><br><span class="line">    request.onError +&#x3D; ()&#x3D;&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(&quot;Texture Packer Error!!! Please Check Your Config&quot;);</span><br><span class="line">        EditorUtility.ClearProgressBar();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.æ•°æ®æ›´æ–°</p><p>è§£æTpsheetæ ¼å¼æ–‡ä»¶ï¼Œä»ä¸­æ‹¿åˆ°æ‰€æœ‰Spriteçš„GlyphRectæ•°æ®ï¼Œã€æ³¨æ„ã€‘Tpsheetæ–‡ä»¶ä¸­Spriteçš„GlyphRectæ•°æ®æ˜¯ä»¥SpriteNameåŒºåˆ†çš„ï¼Œå› æ­¤TMP_SpriteAsseté‡Œçš„spriteCharacterTableé‡Œçš„nameä¸€å®šè¦æ­£ç¡®ï¼Œä¸ç„¶æ•°æ®ä¼šé”™ä½ã€‚</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190809104455334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="4-ä½¿ç”¨è¯´æ˜"><a href="#4-ä½¿ç”¨è¯´æ˜" class="headerlink" title="4.ä½¿ç”¨è¯´æ˜"></a>4.ä½¿ç”¨è¯´æ˜</h2><p>1.TexturePacker_PATHæ›´æ”¹ä¸ºè‡ªå·±ç”µè„‘çš„TexturePackerè·¯å¾„</p><p>2.å·¥å…·å¼€å‘ç¯å¢ƒæ˜¯macç«¯ï¼Œwindowsç«¯ä¸‹è‡ªè¡Œç±»æ¯”ä¿®æ”¹</p><p>3.éœ€è¦å¯¼å…¥TexturePackerImporterå·¥å…·é…åˆTexturePackeræ‰“å‡ºæ¥çš„å›¾é›†ä½¿ç”¨</p><p>4.ä»£ç ä¸­çš„è·¯å¾„è‡ªè¡Œä¿®æ”¹</p><h2 id="5-å·¥å…·ä»“åº“åœ°å€"><a href="#5-å·¥å…·ä»“åº“åœ°å€" class="headerlink" title="5.å·¥å…·ä»“åº“åœ°å€"></a>5.å·¥å…·ä»“åº“åœ°å€</h2><p><a href="https://github.com/JingFengJi/UpdateSpriteAssetTool.git" target="_blank" rel="noopener">https://github.com/JingFengJi/UpdateSpriteAssetTool.git</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><p>æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="http://www.jingfengji.tech/">http://www.jingfengji.tech/</a><br>æ¬¢è¿å¤§å®¶å…³æ³¨ã€‚</p><p>æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼Œåç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾æ–‡æ··æ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå…­ï¼šåŸºäºUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢</title>
      <link href="/2019/03/19/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-liu-ji-yu-ugui-de-sprite-yin-yong-cha-xun/"/>
      <url>/2019/03/19/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-liu-ji-yu-ugui-de-sprite-yin-yong-cha-xun/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºäºUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢"><a href="#åŸºäºUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢" class="headerlink" title="åŸºäºUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢"></a>åŸºäºUGUIçš„Spriteå¼•ç”¨æŸ¥è¯¢</h1><p>ä½¿ç”¨TexturePackeræ‰“çš„å›¾é›†ï¼Œspriteå¼•ç”¨æŸ¥è¯¢å·¥å…·ç¤ºæ„å›¾å¦‚ä¸‹ã€‚<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190316204950284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>èœå•æ ï¼š<br>1ã€é€‰æ‹©å›¾é›†ï¼Œè¾“å…¥sprite nameï¼Œä¸€é”®æœç´¢æŒ‰é’®ï¼Œå¯¼å‡ºæœç´¢æ•°æ®æˆCSVæ ¼å¼ï¼Œä¸€é”®æ–­å¼€æ‰€æœ‰å¼•ç”¨<br>2ã€ç•Œé¢ä¸‹æ–¹æ˜¯æœç´¢ç»“æœçš„Treeè§†å›¾ã€‚</p><p>ä¸‹é¢æ˜¯æ“ä½œç¤ºæ„å›¾ã€‚<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190316210635180.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h1><p>å›¾ç‰‡ä»ä¸€ä¸ªå›¾é›†æ›´æ”¹åˆ°åˆ«çš„å›¾é›†ï¼Œå¦‚æœæ˜¯ç”¨Unityçš„æ‰“å›¾é›†æ–¹å¼ï¼ˆPackingTagï¼‰ï¼Œè¿™ç§åœºæ™¯å°±æ–¹ä¾¿å¤šäº†ï¼Œä¿®æ”¹PackingTagå³å¯ã€‚ä½¿ç”¨TexturePackeræ‰“çš„å›¾é›†ï¼Œå°±æ²¡åŠæ³•è¿™æ ·äº†ã€‚</p><h1 id="Codeåœ°å€"><a href="#Codeåœ°å€" class="headerlink" title="Codeåœ°å€"></a>Codeåœ°å€</h1><p><a href="https://github.com/JingFengJi/SpriteReferenceCheck" target="_blank" rel="noopener">https://github.com/JingFengJi/SpriteReferenceCheck</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><p>æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="http://www.jingfengji.tech/">http://www.jingfengji.tech/</a><br>æ¬¢è¿å¤§å®¶å…³æ³¨ã€‚</p><p>æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼Œåç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UGUI Spriteå¼•ç”¨æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäº”ï¼šå›¾é›†SpriteMetaDataæ•°æ®æ‹·è´</title>
      <link href="/2019/03/16/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-wu-tu-ji-spritemetadata-shu-ju-kao-bei/"/>
      <url>/2019/03/16/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-wu-tu-ji-spritemetadata-shu-ju-kao-bei/</url>
      
        <content type="html"><![CDATA[<h1 id="å›¾é›†SpriteMetaDataæ•°æ®æ‹·è´"><a href="#å›¾é›†SpriteMetaDataæ•°æ®æ‹·è´" class="headerlink" title="å›¾é›†SpriteMetaDataæ•°æ®æ‹·è´"></a>å›¾é›†SpriteMetaDataæ•°æ®æ‹·è´</h1><p>å…³äºSpriteMetaDataç±»ï¼š</p><p>ç”¨äºç”Ÿæˆç²¾çµçš„ç¼–è¾‘å™¨æ•°æ®ã€‚<br>å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼š<a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/SpriteMetaData.html" target="_blank" rel="noopener">https://docs.unity3d.com/2017.2/Documentation/ScriptReference/SpriteMetaData.html</a></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190316203159839.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å·¥å…·ç•Œé¢"><a href="#å·¥å…·ç•Œé¢" class="headerlink" title="å·¥å…·ç•Œé¢"></a>å·¥å…·ç•Œé¢</h2><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190316203347915.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å·¥å…·ä½¿ç”¨åœºæ™¯"><a href="#å·¥å…·ä½¿ç”¨åœºæ™¯" class="headerlink" title="å·¥å…·ä½¿ç”¨åœºæ™¯"></a>å·¥å…·ä½¿ç”¨åœºæ™¯</h2><p>é€‚ç”¨äºæ¸¸æˆä¸­å­˜åœ¨å¤šå¥—çš®è‚¤å›¾é›†</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>æ‹–å…¥æ•°æ®æºå›¾é›†çš„textureã€å…‹éš†å›¾é›†çš„textureï¼Œç„¶åç‚¹å‡»Copyï¼Œå°±ä¼šå°†clone texture çš„Sprite data æ‹·è´åˆ°clone texture ä¸­ï¼Œå¯¹åº”å…³ç³»æ˜¯æŒ‰ç…§sprite nameæ¥å¯¹æ¯”çš„ã€‚</p><h2 id="å…·ä½“ä»£ç "><a href="#å…·ä½“ä»£ç " class="headerlink" title="å…·ä½“ä»£ç "></a>å…·ä½“ä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEditor;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">namespace Editor.CopyAtlasDataTool</span><br><span class="line">&#123;</span><br><span class="line">    public class CopyAtlasDataTool : EditorWindow</span><br><span class="line">    &#123;</span><br><span class="line">        private static CopyAtlasDataTool window &#x3D; null;</span><br><span class="line">        </span><br><span class="line">        [MenuItem(&quot;Tools&#x2F;CopyAtlasDataTool&quot;)]</span><br><span class="line">        public static CopyAtlasDataTool ShowGameDataEditorWindow()</span><br><span class="line">        &#123;</span><br><span class="line">            if (window &#x3D;&#x3D; null)</span><br><span class="line">                window &#x3D; EditorWindow.GetWindow(typeof(CopyAtlasDataTool)) as CopyAtlasDataTool;</span><br><span class="line">            window.titleContent &#x3D; new GUIContent(&quot;CopyAtlasDataTool&quot;);</span><br><span class="line">            window.Show();</span><br><span class="line">            return window;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private UnityEngine.Object _originObject;</span><br><span class="line">        private UnityEngine.Object _cloneObject;</span><br><span class="line">        private void OnGUI()</span><br><span class="line">        &#123;</span><br><span class="line">            _originObject &#x3D; EditorGUILayout.ObjectField(&quot;æ•°æ®æºå›¾é›†&quot;, _originObject,typeof(Texture));</span><br><span class="line">            _cloneObject &#x3D; EditorGUILayout.ObjectField(&quot;å…‹éš†å›¾é›†&quot;, _cloneObject, typeof(Texture));</span><br><span class="line">            if (GUILayout.Button(&quot;Copy&quot;))</span><br><span class="line">            &#123;</span><br><span class="line">                if (_originObject !&#x3D; null &amp;&amp; _cloneObject !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    CopyData(_originObject, _cloneObject);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void CopyData(Object origin, Object clone)</span><br><span class="line">        &#123;</span><br><span class="line">            string originAssetPath &#x3D; AssetDatabase.GetAssetPath(origin);</span><br><span class="line">            string cloneAssetPath &#x3D; AssetDatabase.GetAssetPath(clone);</span><br><span class="line">            </span><br><span class="line">            TextureImporter originTi &#x3D; AssetImporter.GetAtPath(originAssetPath) as TextureImporter;</span><br><span class="line">            TextureImporter cloneTi &#x3D; AssetImporter.GetAtPath(cloneAssetPath) as TextureImporter;</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">            if (originTi !&#x3D; null &amp;&amp; cloneTi !&#x3D; null)</span><br><span class="line">            &#123;</span><br><span class="line">            &#x2F;&#x2F;æ‰“å¼€è¯»å†™ï¼Œæ‰èƒ½å†™å…¥æ•°æ®</span><br><span class="line">                cloneTi.isReadable &#x3D; true;</span><br><span class="line"></span><br><span class="line">                List &lt; SpriteMetaData &gt; newData &#x3D; new List &lt; SpriteMetaData &gt; ();</span><br><span class="line">                List&lt;string&gt; hasAddData &#x3D; new List&lt;string&gt;();</span><br><span class="line">                for (int i &#x3D; 0; i &lt; originTi.spritesheet.Length; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    for (int j &#x3D; 0; j &lt; cloneTi.spritesheet.Length; j++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        SpriteMetaData oSm &#x3D; originTi.spritesheet[i];</span><br><span class="line">                        SpriteMetaData cSm &#x3D; cloneTi.spritesheet[j];</span><br><span class="line">                        &#x2F;&#x2F;æ ¹ç»sprite nameè¿›è¡ŒåŒ¹é…çš„</span><br><span class="line">                        if (oSm.name &#x3D;&#x3D; cSm.name)</span><br><span class="line">                        &#123;</span><br><span class="line">                            cSm.border &#x3D; oSm.border;</span><br><span class="line">                            cSm.pivot &#x3D; oSm.pivot;</span><br><span class="line">                            cSm.alignment &#x3D; oSm.alignment;</span><br><span class="line">                            </span><br><span class="line">                            newData.Add(cSm);</span><br><span class="line">                            hasAddData.Add(cSm.name);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                for (int j &#x3D; 0; j &lt; cloneTi.spritesheet.Length; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    SpriteMetaData cSm &#x3D; cloneTi.spritesheet[j];</span><br><span class="line">                    if (!hasAddData.Contains(cSm.name))</span><br><span class="line">                    &#123;</span><br><span class="line">                        newData.Add(cSm);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                cloneTi.spritesheet &#x3D; newData.ToArray();</span><br><span class="line">                </span><br><span class="line">                AssetDatabase.ImportAsset(cloneAssetPath, ImportAssetOptions.ForceUpdate);</span><br><span class="line">                </span><br><span class="line">                cloneTi &#x3D; AssetImporter.GetAtPath(cloneAssetPath) as TextureImporter;</span><br><span class="line">                if(cloneTi !&#x3D; null)</span><br><span class="line">                    cloneTi.isReadable &#x3D; false;</span><br><span class="line">                </span><br><span class="line">                AssetDatabase.ImportAsset(cloneAssetPath, ImportAssetOptions.ForceUpdate);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h2><p>ï¼ˆ1ï¼‰å…‹éš†å›¾é›†çš„TextureImporterçš„isReadableè¦åœ¨å¤åˆ¶å‰æ‰“å¼€ï¼Œä¸ç„¶ä¸èƒ½å†™å…¥æ•°æ®<br>ï¼ˆ2ï¼‰SpriteMetaDataæ˜¯ç»“æ„ä½“ï¼Œè¦æ³¨æ„ç»“æ„ä½“å’Œç±»çš„åŒºåˆ«<br>ï¼ˆ3ï¼‰copyå®Œåï¼Œæ³¨æ„æ£€æŸ¥ä¸¤ä¸ªå›¾é›†çš„è¯»å†™æ˜¯å¦æ­£ç¡®å…³é—­äº†</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><p>æœ€è¿‘åœ¨ç”¨hexo å’Œ github pageæ­ ä¸ªäººåšå®¢ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="http://www.jingfengji.tech/">http://www.jingfengji.tech/</a><br>æ¬¢è¿å¤§å®¶å…³æ³¨ã€‚</p><p>æœ€è¿‘çš„ä¸€äº›åšå®¢ è¿˜æ˜¯ä¼šæ›´æ–°åœ¨ CSDNè¿™è¾¹ï¼Œåç»­ä»¥è‡ªå·±ä¸ªäººçš„åšå®¢ç«™ç‚¹ä¼šä¸»ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpriteMetaData </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåå››ï¼šåŸºäºUnity Node Editorã€ScriptableObjectçš„é…ç½®åŒ–æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ</title>
      <link href="/2019/02/01/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-si-ji-yu-unity-node-editor-scriptableobject-de-pei-zhi-hua-xin-shou-yin-dao-xi-tong/"/>
      <url>/2019/02/01/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-si-ji-yu-unity-node-editor-scriptableobject-de-pei-zhi-hua-xin-shou-yin-dao-xi-tong/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»æ ¹æ®ä¸€æ¬¾Node Editoråº“å¼€å‘çš„æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ<br>gitåœ°å€å¦‚ä¸‹ï¼š<br><a href="https://github.com/luis-l/UnityNodeEditorBase" target="_blank" rel="noopener"> https://github.com/luis-l/UnityNodeEditorBase</a></p><p>ä¸€ã€æ—§ç‰ˆæ–°æ‰‹å¼•å¯¼åšæ³•</p><p>GuideCheckManagerè´Ÿè´£checkå„ç§ç±»å‹çš„å¼•å¯¼ï¼Œåˆ¤æ–­æ˜¯å¦è¾¾åˆ°è§¦å‘æ¡ä»¶ï¼Œå¦‚æœè¾¾åˆ°æ¡ä»¶ï¼Œå½“å‰æ— å¼•å¯¼ï¼Œåˆ™ç›´æ¥è¿›è¡Œå¼•å¯¼ï¼Œå¦åˆ™å­˜å…¥ç¼“å­˜é˜Ÿåˆ—ä¸­ã€‚</p><p>GuideCheckManageræ³¨å†Œè·Ÿå¼•å¯¼æœ‰å…³çš„æ¶ˆæ¯é€šçŸ¥ï¼Œç­‰æ”¶åˆ°é€šçŸ¥ï¼Œåšä¸€äº›checkå·¥ä½œã€‚</p><p>ä¸€ä¸ªå¤§æ­¥å¼•å¯¼åŒ…å«å¤šä¸ªå•çº¿çš„å•æ­¥å¼•å¯¼ï¼Œæ¯ä¸ªå•æ­¥å¼•å¯¼åˆå¯æœ‰checkæ¡ä»¶ï¼Œå¦‚æœä¸­é—´æŸä¸€å•æ­¥å¼•å¯¼æœªchecké€šè¿‡ï¼Œåˆ™æ‰“æ–­å¼•å¯¼ã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>ï¼ˆ1ï¼‰é…ç½®é‡‡ç”¨CSVï¼Œå¯è¯»æ€§æå·®</p><p>ä½¿ç”¨CSVä½œä¸ºé…ç½®ï¼Œä¸ºäº†å°†è§¦å‘æ¡ä»¶ä¹Ÿé…ç½®åŒ–ï¼Œå°±å¿…é¡»åšä¸€äº›æ•°æ®è§£æçš„å·¥ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdnimg.cn/20190201142407883.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç„¶ååœ¨ç¨‹åºä¸­å®šä¹‰å„ç§ç±»å‹triggerçš„æ•°æ®è§£æå‡½æ•°ã€‚ä»CSVä¸­æ— æ³•å¾ˆç›´è§‚çš„çŸ¥é“è¿™ä¸€å•æ­¥å¼•å¯¼å…·ä½“æ˜¯å¼•å¯¼ä»€ä¹ˆã€‚</p><p>å¡«å……æ•°æ®ä¹Ÿè¾ƒä¸ºç¹çã€‚</p><p>äºŒã€åŸºäºç»“ç‚¹ç¼–è¾‘çš„é…ç½®åŒ–æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ</p><p>ï¼ˆ1ï¼‰åŸºäºScriptableObjectã€ç»“ç‚¹ç¼–è¾‘çš„é…ç½®</p><p>å·¥å…·æˆªå›¾å¦‚ä¸‹ï¼š<br>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/20190201142445605.png?x-oss-" target="_blank" rel="noopener">https://img-blog.csdnimg.cn/20190201142445605.png?x-oss-</a><br>process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)</p><p>GuideNodeGraphï¼šä¸€ä¸ªç»“ç‚¹æ ‘ç§°ä¸ºä¸€ä¸ªå¤§æ­¥å¼•å¯¼</p><p>GuideNodeï¼šä¸€ä¸ªç»“ç‚¹ç§°ä¸ºä¸€ä¸ªå•æ­¥å¼•å¯¼</p><p>ä¸€ä¸ªGuideNodeGraphå°±æ˜¯ä¸€ä¸ªScriptableObjectæ–‡ä»¶</p><p>ä¸€ä¸ªGuideNodeGraphåŒ…å«å¤šä¸ªNodeï¼Œè¿æ¥NextStepGuide-&gt; LastStepGuideï¼Œå½¢æˆç»“ç‚¹æ ‘ã€‚</p><p>æ¯ä¸ªGuideNodeï¼ŒåŒ…å«ä¸€ä¸ªInputï¼ˆLastStepGuideï¼Œç›®å‰æ— å®é™…ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†è¿æ¥ç»“ç‚¹æ ‘ï¼ŒOutPutå¿…ä¸Inputè¿æ¥)ï¼Œä¸‰ä¸ªOutputï¼ˆNextStepGuideã€Triggerã€Conditionï¼‰</p><p>NextStepGuideï¼šç”¨æ¥å­˜å‚¨ä¸‹ä¸€ä¸ªå•æ­¥å¼•å¯¼ç»“ç‚¹ï¼Œå¦‚æœæ— ä¸‹ä¸€å•æ­¥å¼•å¯¼ç»“ç‚¹ï¼Œåˆ™å½“å‰å¼•å¯¼ç»“ç‚¹å®Œæˆæ—¶ï¼Œå¼•å¯¼ç»“æŸã€‚</p><p>Triggerï¼šè¯¥å•æ­¥å¼•å¯¼ç»“ç‚¹è§¦å‘æ¡ä»¶ï¼Œå¦‚æœæœ‰å¤šä¸ªTriggerï¼Œåˆ™åªè¦æœ‰ä¸€ä¸ªTrigger Successï¼Œåˆ™è¯¥å¼•å¯¼åˆ™è§¦å‘ã€‚</p><p>Conditionï¼šå¼•å¯¼æ¡ä»¶ç»“ç‚¹ã€‚å•æ­¥å¼•å¯¼ç»“ç‚¹å¯åŒ…å«å¤šä¸ªConditionå¼•å¯¼æ¡ä»¶ï¼Œåªæœ‰å½“å¤šä¸ªConditionå‡æˆç«‹æ—¶ï¼Œæ‰ä¼šå¼•å¯¼ã€‚</p><p>Triggerå’ŒConditionå‡ä¸ºNode çš„å­ç±»ã€‚</p><p>åº“ä¸­ActionTriggerSystemç±»çš„setupNodeCreateMenuå‡½æ•°ï¼Œå®ç°äº†åœ¨NodeEditorä¸­çš„å³é”®èœå•ï¼Œè‡ªè¡Œä¿®æ”¹å¯ä»¥å®ç°æ’åºï¼ŒæŸä¸€ç±»nodeåœ¨å‰ï¼ŒæŸä¸€ç±»åœ¨å</p><p>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/20190201143046251.png?x-oss-" target="_blank" rel="noopener">https://img-blog.csdnimg.cn/20190201143046251.png?x-oss-</a><br>process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)</p><p>æ ¹æ®Guide Viewç•Œé¢ç±»å‹çš„ä¸åŒï¼Œå¯ä»¥å®šä¹‰å¤šç§Guide Nodeä¿å­˜æ•°æ®ï¼Œä¸€èˆ¬æœ‰å¯¹è¯æ¨¡å¼çš„ï¼Œä»¥åŠç‚¹å‡»UIæ¨¡å¼çš„ï¼Œæœ¬æ–‡ä¸»è¦è®²å¦‚ä½•ä½¿ç”¨Node<br>Editorã€ScriptableObjectè¿›è¡Œé…ç½®åŒ–ï¼Œå¦‚æœé¡¹ç›®ä¸­ä¸æ˜¯ä½¿ç”¨ScriptableObjectè¿›è¡Œé…ç½®å­˜å‚¨çš„è¯ï¼Œè¯¥æ–¹æ¡ˆå°±ä¸é€‚ç”¨äº†ã€‚</p><p>å¯ä»¥NodeEditorçš„ä¼˜ç‚¹ï¼š<br>é…ç½®å¼•å¯¼å¯è¯»æ€§é«˜ï¼Œå¹¶ä¸”ä¸å­˜åœ¨é…ç½®æ•°æ®è§£æé€»è¾‘ï¼Œæ›´æ”¹å¼•å¯¼å†…é¡ºåºä¹Ÿå¾ˆæ–¹ä¾¿å¿«æ·ã€‚</p><p>æœ€åæ„Ÿè°¢ä½œè€…æä¾›çš„Node Editoråº“<br>gitåœ°å€å¦‚ä¸‹ï¼š<br><a href="https://github.com/luis-l/UnityNodeEditorBase" target="_blank" rel="noopener"> https://github.com/luis-l/UnityNodeEditorBase</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–°æ‰‹å¼•å¯¼ </tag>
            
            <tag> Node Editor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity Shaderç¼–ç¨‹ä¹‹ä¸€ï¼šå¤šé¢œè‰²æ¡çº¹èƒŒæ™¯</title>
      <link href="/2018/12/22/unity-shader-bian-cheng-zhi-yi-duo-yan-se-tiao-wen-bei-jing/"/>
      <url>/2018/12/22/unity-shader-bian-cheng-zhi-yi-duo-yan-se-tiao-wen-bei-jing/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸¤ç§é¢œè‰²çš„æ¡çº¹çŠ¶èƒŒæ™¯"><a href="#ä¸¤ç§é¢œè‰²çš„æ¡çº¹çŠ¶èƒŒæ™¯" class="headerlink" title="ä¸¤ç§é¢œè‰²çš„æ¡çº¹çŠ¶èƒŒæ™¯"></a>ä¸¤ç§é¢œè‰²çš„æ¡çº¹çŠ¶èƒŒæ™¯</h1><pre><code>Shader &quot;Custom/Flag&quot;{    Properties    {        [PerRendererData]_MainTex (&quot;Texture&quot;, 2D) = &quot;white&quot; {}        _1stColor(&quot;1stColo&quot;,Color) = (0,0,0,1)        _2ndColor(&quot;2ndColor&quot;,Color) = (1,1,1,1)        _tileNum(&quot;tile num&quot;, Range (2, 20)) = 10    }    SubShader    {        Tags { &quot;RenderType&quot;=&quot;Opaque&quot; }        LOD 100        Pass        {            CGPROGRAM            #pragma vertex vert            #pragma fragment frag            // make fog work            #pragma multi_compile_fog            #include &quot;UnityCG.cginc&quot;            struct appdata            {                float4 vertex : POSITION;                float2 uv : TEXCOORD0;            };            struct v2f            {                float2 uv : TEXCOORD0;                float4 vertex : SV_POSITION;            };            sampler2D _MainTex;            fixed4 _1stColor;            fixed4 _2ndColor;            int _tileNum;            v2f vert (appdata v)            {                v2f o;                o.vertex = UnityObjectToClipPos(v.vertex);                o.uv = v.uv;                return o;            }            fixed4 frag (v2f i) : SV_Target            {                //i.uv * _tileNum å°†uvæ”¾å¤§                //fracå‡½æ•°ï¼Œå–å…¶å°æ•°éƒ¨åˆ†                float2 newuv = frac(i.uv*_tileNum);                //stepå‡½æ•°å°äº0.5è¿”å›0ï¼Œå¦åˆ™è¿”å›1ï¼Œå†lerpä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯uv.xå°äº0.5ï¼Œè¿”å›_1stColorï¼Œå¦åˆ™è¿”å›_2ndColor                fixed4 color = lerp(_1stColor,_2ndColor,step(0.5,newuv.x));                return color;            }            ENDCG        }    }}</code></pre><p>æ•ˆæœå›¾ï¼š</p><p>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/20181222145228919.png?x-oss-" target="_blank" rel="noopener">https://img-blog.csdnimg.cn/20181222145228919.png?x-oss-</a><br>process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unity Shader </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šé¢œè‰²æ¡çº¹èƒŒæ™¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸‰ï¼šåŸºäºObjectFieldçš„FileField</title>
      <link href="/2018/12/22/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-san-ji-yu-objectfield-de-filefield/"/>
      <url>/2018/12/22/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-san-ji-yu-objectfield-de-filefield/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h1><p>æœ€è¿‘åœ¨åšèµ„æºç®¡ç†æ¨¡å—æ—¶ï¼Œå…³äºèµ„æºå¼•ç”¨è¿™æ–¹é¢çš„é—®é¢˜ï¼Œå¹¶ä¸æƒ³ç›´æ¥å¼•ç”¨æŸä¸€ä¸ªasset<br>ï¼Œæ¯”å¦‚Prefabã€æˆ–è€…spriteã€materialç­‰èµ„æºï¼Œå½“ç„¶å¯ä»¥ç”±èµ„æºç®¡ç†æ¨¡å—ç»Ÿä¸€ç®¡ç†ï¼Œç„¶åå¯¹ä¸šåŠ¡å±‚æä¾›è·å–çš„æ¥å£ã€‚ç”±ä¸šåŠ¡å±‚ä¼ å…¥æ–‡ä»¶åã€æˆ–è€…AssetBundle<br>Nameã€pathä¹‹ç±»çš„æ•°æ®ï¼Œèµ„æºç®¡ç†æ¨¡å—å†…åŠ è½½å‡ºæ¥ç„¶åè¿”å›ã€‚ç»“åˆObjectFiledè¿™ä¸ªç¼–è¾‘å™¨ç±»æ¥ä»‹ç»ï¼Œæˆ‘ä»¬æ‹–å…¥æŸä¸€ä¸ªassetï¼Œç„¶ååºåˆ—åŒ–å­˜å‚¨å…¶guidå’Œasset<br>pathï¼Œè¡¨é¢ä¸Šçœ‹èµ·æ¥æ˜¯å¼•ç”¨äº†è¯¥assetï¼Œå®é™…ä¸Šåªæ˜¯å­˜ä½äº†guidå’Œpathï¼ˆç”¨äºloadï¼Œç»“åˆèµ„æºç®¡ç†æ¨¡å—è€Œå®šï¼‰ï¼Œguidç”¨äºç»å¯¹æŒ‡å‘assetèµ„æºï¼Œå°±ç®—è·¯å¾„æ›´æ”¹ï¼Œä¹Ÿä¸æ€•å¼•ç”¨ä¸¢å¤±ã€‚</p><p>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/20181222133749902.png?x-oss-" target="_blank" rel="noopener">https://img-blog.csdnimg.cn/20181222133749902.png?x-oss-</a><br>process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)</p><p>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/20181222133618421.png?x-oss-" target="_blank" rel="noopener">https://img-blog.csdnimg.cn/20181222133618421.png?x-oss-</a><br>process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5,size_16,color_FFFFFF,t_70)</p><h1 id="ObjectFieldä»‹ç»"><a href="#ObjectFieldä»‹ç»" class="headerlink" title="ObjectFieldä»‹ç»"></a>ObjectFieldä»‹ç»</h1><p><a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/EditorGUI.ObjectField.html" target="_blank" rel="noopener"><br>https://docs.unity3d.com/2017.2/Documentation/ScriptReference/EditorGUI.ObjectField.html</a></p><h1 id="FileFieldå®ç°"><a href="#FileFieldå®ç°" class="headerlink" title="FileFieldå®ç°"></a>FileFieldå®ç°</h1><pre><code>private string[] FileField(Rect position, string label, string guid,Type type)    {        string[] guidPath = new string[2];//å­˜å‚¨guidå’Œpathï¼Œè¿™é‡Œçš„pathæ˜¯assetPathï¼Œå®é™…å­˜å‚¨èµ·æ¥éœ€è¦åšä¸€æ­¥å¤„ç†ï¼Œå¤„ç†æˆèµ„æºç®¡ç†æ¨¡å—èƒ½loadçš„pathæˆ–è€…åˆ«çš„æ•°æ®        string path = AssetDatabase.GUIDToAssetPath(guid);        UnityEngine.Object file = AssetDatabase.LoadAssetAtPath(path,type);        EditorGUI.BeginChangeCheck();        {            //ç¼–è¾‘å™¨ä¸Šæ˜¾ç¤ºçš„æ˜¯ObjectFieldç»˜åˆ¶å‡ºæ¥çš„                                                                                              file = EditorGUI.ObjectField(position, label, file, type, false);        }        if (EditorGUI.EndChangeCheck())        {            path = AssetDatabase.GetAssetPath(file);            guid = AssetDatabase.AssetPathToGUID(path);        }        guidPath[0] = guid;        guidPath[1] = path;        return guidPath;    }</code></pre><p>ä¸ç®—å®Œæ•´çš„ä»£ç ï¼š</p><pre><code>using UnityEditor;using UnityEngine;using System;using System.IO;using IdleGames.Core.AssetManagement;[CustomPropertyDrawer(typeof(WeakReferenceAttribute), true)]public class WeakReferenceBaseDrawer : PropertyDrawer{    public override void OnGUI(Rect position, SerializedProperty property, GUIContent label)    {        WeakReferenceAttribute attribute = (WeakReferenceAttribute)base.attribute;        Type referenceType = typeof(GameObject);        if (attribute != null)        {            referenceType = attribute.AssetType;        }        SerializedProperty guidProperty = property.FindPropertyRelative(&quot;_guid&quot;);        SerializedProperty pathProperty = property.FindPropertyRelative(&quot;_path&quot;);        Rect guidRect = position;        string[] guidPath = FileField(guidRect, property.displayName, guidProperty.stringValue,referenceType);        guidProperty.stringValue = guidPath[0];        //è¿™é‡Œæ¼”ç¤ºçš„æ˜¯æŠŠpathå­˜æˆäº†Resourcesæ–‡ä»¶å¤¹ä¸‹çš„path        if (string.IsNullOrEmpty(guidPath[1]) == false &amp;&amp; guidPath[1].Contains(&quot;Resources/&quot;))        {            int index = guidPath[1].LastIndexOf(&quot;Resources/&quot;) + &quot;Resources/&quot;.Length;            string path = guidPath[1].Substring(index);            path = path.Remove(path.LastIndexOf(&quot;.&quot;));            pathProperty.stringValue = path;        }        property.serializedObject.ApplyModifiedProperties();    }    private string[] FileField(Rect position, string label, string guid,Type type)    {        string[] guidPath = new string[2];        string path = AssetDatabase.GUIDToAssetPath(guid);        UnityEngine.Object file = AssetDatabase.LoadAssetAtPath(path,type);        EditorGUI.BeginChangeCheck();        {                                                                                              file = EditorGUI.ObjectField(position, label, file, type, false);        }        if (EditorGUI.EndChangeCheck())        {            path = AssetDatabase.GetAssetPath(file);            guid = AssetDatabase.AssetPathToGUID(path);        }        guidPath[0] = guid;        guidPath[1] = path;        return guidPath;    }}</code></pre><p>ä¸Šè¿°ä»£ç ä»…ä¾›å‚è€ƒï¼Œæ‹–å…¥çš„objectä¸å®é™…åºåˆ—åŒ–å­˜å‚¨çš„ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿æ—¶ï¼Œå¯ä»¥ç”¨ä¸Šè¿°ç±»ä¼¼çš„æ€è·¯</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·</title>
      <link href="/2018/09/09/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-er-ji-yu-texturepacker-de-yi-jian-da-tu-ji-gong-ju/"/>
      <url>/2018/09/09/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-er-ji-yu-texturepacker-de-yi-jian-da-tu-ji-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·"><a href="#Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·" class="headerlink" title="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·"></a>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåäºŒï¼šåŸºäºTexturePackerçš„ä¸€é”®æ‰“å›¾é›†å·¥å…·</h1><p>NGUIä½¿ç”¨TexturePackeræ‰“å›¾é›†æ˜¯ä¸€ä»¶é¢‘ç¹ä¸”è´¹æ—¶çš„å·¥ä½œï¼Œåªè¦ç¾æœ¯ç¨ä¸€æ›´æ–°å›¾ç‰‡ï¼Œå°±éœ€è¦é‡æ–°æ‰“å›¾é›†ï¼Œè€Œä¸”æ¯æ¬¡æ‰“å›¾é›†çš„æ“ä½œå…¶å®éƒ½æ˜¯ä¸€æ ·çš„é‡å¤åŠ³åŠ¨ï¼ŒåŸºäºæ­¤ï¼Œå¼€å‘å·¥å…·æ‰¹é‡æ‰“å›¾é›†æ—¶å¾ˆæœ‰å¿…è¦çš„ã€‚</p><p>ä½¿ç”¨TexturePackeræ‰“å›¾é›†ï¼Œä¼šè¾“å‡ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªPNGåˆå›¾ï¼Œä¸€ä¸ªtxtå›¾é›†ä¿¡æ¯æ–‡ä»¶ï¼Œè€Œåˆ°Unityä¸­ä½¿ç”¨UIAtlasï¼Œåˆ™éœ€è¦ä¸€ä¸ªMaterialæè´¨æ–‡ä»¶å’Œä¸€ä¸ªPrefabé¢„åˆ¶ä½“æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ä¹Ÿç”±å·¥å…·ç”Ÿæˆã€‚</p><p>é‰´äºé¡¹ç›®ä¸æ˜¯ä»ä¸€å¼€å§‹å°±ç”¨è¯¥å·¥å…·è¿›è¡Œæ‰“å›¾é›†å·¥ä½œçš„ï¼Œå› æ­¤è¿™äº›æ–‡ä»¶çš„å‘½åä¸å…·æœ‰ç»Ÿä¸€çš„è§„èŒƒï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥è®°å½•æ¯ä¸ªå›¾é›†çš„è¾“å‡ºæ–‡ä»¶ä¿¡æ¯ã€‚</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180909133119352?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h3 id="Atlas-iniå›¾é›†é…ç½®æ–‡ä»¶"><a href="#Atlas-iniå›¾é›†é…ç½®æ–‡ä»¶" class="headerlink" title="Atlas.iniå›¾é›†é…ç½®æ–‡ä»¶"></a>Atlas.iniå›¾é›†é…ç½®æ–‡ä»¶</h3><p>è¯¥æ–‡ä»¶ä»¥CSVæ ¼å¼è¿›è¡Œé…ç½®ï¼Œå…±æœ‰5åˆ—ï¼Œå›¾ç‰‡æ–‡ä»¶å¤¹ç›¸å¯¹è·¯å¾„ã€PNGåˆå›¾è¾“å‡ºè·¯å¾„ã€txtå›¾é›†ä¿¡æ¯æ–‡ä»¶è¾“å‡ºè·¯å¾„ã€UIAtlasPrefabè¾“å‡ºè·¯å¾„ã€Materialæè´¨è¾“å‡ºè·¯å¾„ï¼Œåé¢å››ä¸ªè¾“å‡ºè·¯å¾„éƒ½æ˜¯åŸºäºUnityå·¥ç¨‹çš„Assetsç›®å½•ã€‚</p><h3 id="å‘½ä»¤è¡Œæ‰“å›¾é›†"><a href="#å‘½ä»¤è¡Œæ‰“å›¾é›†" class="headerlink" title="å‘½ä»¤è¡Œæ‰“å›¾é›†"></a>å‘½ä»¤è¡Œæ‰“å›¾é›†</h3><p>TexturePackeræ”¯æŒä½¿ç”¨å‘½ä»¤è¡Œæ‰“å›¾é›†</p><pre><code>$TexturePacker_PATH $imgDir --max-size 4096 --allow-free-size --format unity --size-constraints POT --shape-padding 2 --border-padding 2 --common-divisor-x 1 --common-divisor-y 1 --disable-rotation --algorithm MaxRects --opt RGBA8888 --scale 1 --scale-mode Smooth --smart-update --sheet $ASSETS_PATH$atlasPng --data $ASSETS_PATH$atlasData</code></pre><p>è¯¦ç»†å‘½ä»¤è¡Œä»‹ç»è¯·è‡ªè¡Œæœç´¢ç›¸å…³æ–‡æ¡£</p><h3 id="ä¸€é”®æ‰¹é‡è®¾ç½®å›¾ç‰‡èµ„æºè®¾ç½®"><a href="#ä¸€é”®æ‰¹é‡è®¾ç½®å›¾ç‰‡èµ„æºè®¾ç½®" class="headerlink" title="ä¸€é”®æ‰¹é‡è®¾ç½®å›¾ç‰‡èµ„æºè®¾ç½®"></a>ä¸€é”®æ‰¹é‡è®¾ç½®å›¾ç‰‡èµ„æºè®¾ç½®</h3><p>PNGåˆå›¾æ–‡ä»¶è¾“å‡ºåˆ°Unityåï¼Œé€šè¿‡ä½¿ç”¨Unityæä¾›çš„TextureImporterç±»å’ŒTextImporterPlatformSettingç±»è¿›è¡Œå›¾ç‰‡è®¾ç½®</p><h3 id="ç”Ÿæˆæè´¨å’ŒPrefabé—®é˜¿é‡‘å¹¶è‡ªåŠ¨å…³è”å¼•ç”¨"><a href="#ç”Ÿæˆæè´¨å’ŒPrefabé—®é˜¿é‡‘å¹¶è‡ªåŠ¨å…³è”å¼•ç”¨" class="headerlink" title="ç”Ÿæˆæè´¨å’ŒPrefabé—®é˜¿é‡‘å¹¶è‡ªåŠ¨å…³è”å¼•ç”¨"></a>ç”Ÿæˆæè´¨å’ŒPrefabé—®é˜¿é‡‘å¹¶è‡ªåŠ¨å…³è”å¼•ç”¨</h3><p>æè´¨ä½¿ç”¨çš„Shaderæ˜¯â€œUnlit/Transparent<br>Coloredâ€ï¼ŒmainTextureåˆ™ä¸ºTexturePackerè¾“å‡ºçš„åˆå›¾ï¼Œåˆ›å»ºPrefabï¼Œå¹¶Add UIAtlas<br>Componentï¼Œç»™UIAtlasç»„ä»¶å¯¼å…¥textureå’Œtxtå›¾é›†ä¿¡æ¯æ–‡ä»¶</p><pre><code>NGUIEditorTools.ImportTexture(uiAtlas.texture, false, false, !uiAtlas.premultipliedAlpha);NGUIJson.LoadSpriteData(uiAtlas, atlasTextAsset);</code></pre><h3 id="UIAtlasä¿¡æ¯æ‹·è´"><a href="#UIAtlasä¿¡æ¯æ‹·è´" class="headerlink" title="UIAtlasä¿¡æ¯æ‹·è´"></a>UIAtlasä¿¡æ¯æ‹·è´</h3><p>åˆ›å»ºå›¾é›†åï¼Œæœ‰æ—¶éœ€è¦æ‹·è´å¦ä¸€ä¸ªå›¾é›†çš„borderå’Œpaddingä¿¡æ¯ï¼Œä¾‹å¦‚ä¸¤ä¸ªå›¾é›†å†…å®¹å…¶å®æ˜¯ä¸€ç›´çš„ï¼Œåªæ˜¯çš®è‚¤é¢œè‰²ä¸ä¸€æ ·ï¼ˆæ¢è‚¤å›¾é›†ï¼‰ï¼Œå› æ­¤è¿™ä¸¤ä¸ªå›¾é›†çš„borderå’Œpaddingæ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œæä¾›å·¥å…·è¿›è¡Œæ•°æ®æ‹·è´ã€‚</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180909131827960?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h3 id="æ¸…ç†Editorè¿›åº¦æ¡"><a href="#æ¸…ç†Editorè¿›åº¦æ¡" class="headerlink" title="æ¸…ç†Editorè¿›åº¦æ¡"></a>æ¸…ç†Editorè¿›åº¦æ¡</h3><p>ä¸ºé¿å…Atlas.inié…ç½®é”™è¯¯ï¼Œå¯¼è‡´æ‰“å›¾é›†ä¸­æ–­ï¼Œè€ŒEditorUtility.DisplayProgressBarè¿›åº¦æ¡æ— æ³•æ¸…é™¤ï¼Œæä¾›Editorè¿›åº¦æ¡æ¸…ç†åŠŸèƒ½ï¼Œèœå•æ Tools-&gt;æ¸…ç†è¿›åº¦æ¡</p><h3 id="å·¥ç¨‹ä¸‹è½½"><a href="#å·¥ç¨‹ä¸‹è½½" class="headerlink" title="å·¥ç¨‹ä¸‹è½½"></a>å·¥ç¨‹ä¸‹è½½</h3><p>GitHubåœ°å€ï¼š <a href="https://github.com/JingFengJi/CreateAtlas" target="_blank" rel="noopener"> https://github.com/JingFengJi/CreateAtlas</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¸€é”®æ‰“å›¾é›†å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåä¸€ï¼šæ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰</title>
      <link href="/2018/08/22/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-yi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-er/"/>
      <url>/2018/08/22/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-yi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-er/</url>
      
        <content type="html"><![CDATA[<h1 id="æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰"><a href="#æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰" class="headerlink" title="æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰"></a>æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆäºŒï¼‰</h1><h2 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h2><p>ä¸Šä¸€ç¯‡ï¼Œå®ç°äº†åŸºæœ¬Unityæ¨¡å—æ‹“å±•çš„åŠŸèƒ½ï¼Œæœ¬ç¯‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡åå°„æ¥å®ç°å¯¼å…¥UnityPackage</p><h2 id="Gifç¤ºæ„å›¾"><a href="#Gifç¤ºæ„å›¾" class="headerlink" title="Gifç¤ºæ„å›¾"></a>Gifç¤ºæ„å›¾</h2><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180822230440180?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="ç¨‹åºå¯¼å…¥UnityPackage"><a href="#ç¨‹åºå¯¼å…¥UnityPackage" class="headerlink" title="ç¨‹åºå¯¼å…¥UnityPackage"></a>ç¨‹åºå¯¼å…¥UnityPackage</h2><p>é€šè¿‡æŸ¥é˜…UnityEditoræºä»£ç å‘ç°ï¼ŒUnityEditorå‘½åç©ºé—´ä¸‹æœ‰ä¸ªEditorWindowçš„å­ç±»PackageImportï¼Œè¯¥ç±»æœ‰ä¸ªé™æ€å‡½æ•°ShowImportPackageå¦‚ä¸‹ï¼š</p><pre><code>public static void ShowImportPackage(string packagePath, ImportPackageItem[] items, string packageIconPath, bool allowReInstall){    if (PackageImport.ValidateInput(items))    {        PackageImport window = EditorWindow.GetWindow&lt;PackageImport&gt;(true, &quot;Import Unity Package&quot;);        window.Init(packagePath, items, packageIconPath, allowReInstall);    }}</code></pre><p>è¯¥å‡½æ•°é™¤äº†éœ€è¦ä¼ å…¥package çš„è·¯å¾„å¤–ï¼Œè¿˜éœ€è¦ä¼ å…¥<br>ImportPackageItem[]ï¼ˆä¹Ÿå°±æ˜¯è¯¥packageçš„å†…å®¹ï¼‰ï¼Œé€šè¿‡åœ¨UnityEditorä¸­æœç´¢ShowImportPackageå‡½æ•°è°ƒç”¨ï¼Œå‘ç°åœ¨AssetDataBaseç±»ä¸­æœ‰ä¸€ä¸ªé™æ€å‡½æ•°ImportPackageç”¨æ¥å¯¼å…¥Packageçš„ï¼Œè¯¥å‡½æ•°ä¸­å…ˆè°ƒç”¨PackageUtility.ExtractAndPrepareAssetListå‡½æ•°è·å–åˆ°packageé‡Œå†…å®¹çš„åˆ—è¡¨ï¼Œç„¶ååœ¨è°ƒç”¨çš„å¯¼å…¥ï¼Œå½“ç„¶æ­¤å¤„è¿˜ç”¨åˆ°äº†interactiveå˜é‡æ¥æ§åˆ¶æ˜¯å¦æ‰“å¼€Import<br>Windowã€‚è€ŒPackageUtility.ExtractAndPrepareAssetListè¯¦ç»†ä»£ç åˆ™æ˜¯çœ‹ä¸åˆ°äº†ã€‚</p><pre><code>public static void ImportPackage(string packagePath, bool interactive){    if (string.IsNullOrEmpty(packagePath))    {        throw new ArgumentException(&quot;Path can not be empty or null&quot;, &quot;packagePath&quot;);    }    string packageIconPath;    bool allowReInstall;    ImportPackageItem[] array = PackageUtility.ExtractAndPrepareAssetList(packagePath, out packageIconPath, out allowReInstall);    if (array != null)    {        if (interactive)        {            PackageImport.ShowImportPackage(packagePath, array, packageIconPath, allowReInstall);        }        else        {            string fileNameWithoutExtension = Path.GetFileNameWithoutExtension(packagePath);            PackageUtility.ImportPackageAssets(fileNameWithoutExtension, array, false);        }    }}</code></pre><p>é€šè¿‡å°è¯•ï¼Œä¸€æ¬¡å¯¼å…¥å¤šä¸ªUnityPackageæ—¶ï¼Œåä¸€ä¸ªä¼šå°†å‰ä¸€ä¸ªè¦†ç›–æ‰ï¼ˆä¼°è®¡æ˜¯å¯¼å…¥èµ„æºUnityéœ€è¦åŠ è½½å¹¶ä¸”ç¼–è¯‘å§ï¼‰ï¼Œæ‰€ä»¥ç›®å‰å·¥å…·åªèƒ½å•ä¸ªå¯¼å…¥ã€‚</p><p>å°è£…ä¸€ä¸ªPackage2Folderç±»ï¼Œç”¨æ¥å¯¼å…¥UnityPackageï¼Œåªéœ€è°ƒç”¨ImportPackageToFolderå‡½æ•°å³å¯ã€‚</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180822232606973?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><pre><code>public class Package2Folder    {        #region reflection stuff        private delegate AssetsItem[] ImportPackageStep1Delegate(string packagePath, out string packageIconPath);        private static Type assetServerType;        private static Type AssetServerType        {            get            {                if (assetServerType == null)                {                    assetServerType = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.AssetServer&quot;);                }                return assetServerType;            }        }        private static ImportPackageStep1Delegate importPackageStep1;        private static ImportPackageStep1Delegate ImportPackageStep1        {            get            {                if (importPackageStep1 == null)                {                    importPackageStep1 = (ImportPackageStep1Delegate)Delegate.CreateDelegate(                        typeof(ImportPackageStep1Delegate),                        null,                        AssetServerType.GetMethod(&quot;ImportPackageStep1&quot;));                }                return importPackageStep1;            }        }        private static MethodInfo importPackageStep2MethodInfo;        private static MethodInfo ImportPackageStep2MethodInfo        {            get            {                if (importPackageStep2MethodInfo == null)                {                    importPackageStep2MethodInfo = AssetServerType.GetMethod(&quot;ImportPackageStep2&quot;);                }                return importPackageStep2MethodInfo;            }        }        private delegate object[] ExtractAndPrepareAssetListDelegate(string packagePath, out string packageIconPath,            out bool allowReInstall);        private static Type packageUtilityType;        private static Type PackageUtilityType        {            get            {                if (packageUtilityType == null)                {                    packageUtilityType                        = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.PackageUtility&quot;);                }                return packageUtilityType;            }        }        private static ExtractAndPrepareAssetListDelegate extractAndPrepareAssetList;        private static ExtractAndPrepareAssetListDelegate ExtractAndPrepareAssetList        {            get            {                if (extractAndPrepareAssetList == null)                {                    extractAndPrepareAssetList                        = (ExtractAndPrepareAssetListDelegate)Delegate.CreateDelegate(                            typeof(ExtractAndPrepareAssetListDelegate),                            null,                            PackageUtilityType.GetMethod(&quot;ExtractAndPrepareAssetList&quot;));                }                return extractAndPrepareAssetList;            }        }        private static FieldInfo destinationAssetPathFieldInfo;        private static FieldInfo DestinationAssetPathFieldInfo        {            get            {                if (destinationAssetPathFieldInfo == null)                {                    Type importPackageItem                        = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.ImportPackageItem&quot;);                    destinationAssetPathFieldInfo                        = importPackageItem.GetField(&quot;destinationAssetPath&quot;);                }                return destinationAssetPathFieldInfo;            }        }        private static MethodInfo importPackageAssetsMethodInfo;        private static MethodInfo ImportPackageAssetsMethodInfo        {            get            {                if (importPackageAssetsMethodInfo == null)                {                    // ImportPackageAssetsImmediately æ˜¯åŒæ­¥çš„å¯¼å…¥5.4ä»¥ä¸Šç‰ˆæœ¬å¯ç”¨                    importPackageAssetsMethodInfo                        = PackageUtilityType.GetMethod(&quot;ImportPackageAssetsImmediately&quot;) ??                          PackageUtilityType.GetMethod(&quot;ImportPackageAssets&quot;);                }                return importPackageAssetsMethodInfo;            }        }        private static MethodInfo showImportPackageMethodInfo;        private static MethodInfo ShowImportPackageMethodInfo        {            get            {                if (showImportPackageMethodInfo == null)                {                    Type packageImport = typeof(MenuItem).Assembly.GetType(&quot;UnityEditor.PackageImport&quot;);                    showImportPackageMethodInfo = packageImport.GetMethod(&quot;ShowImportPackage&quot;);                }                return showImportPackageMethodInfo;            }        }        #endregion reflection stuff        public static void ImportPackageToFolder(string packagePath, string selectedFolderPath, bool interactive)        {            string packageIconPath;            bool allowReInstall;            if (AssetServerType != null &amp;&amp; AssetServerType.GetMethod(&quot;ImportPackageStep1&quot;) != null)                IsOlder53VersionAPI = true;            else                IsOlder53VersionAPI = false;            //IsOlder53VersionAPI = false;            object[] assetsItems = ExtractAssetsFromPackage(packagePath, out packageIconPath, out allowReInstall);            if (assetsItems == null) return;            foreach (object item in assetsItems)            {                ChangeAssetItemPath(item, selectedFolderPath);            }            if (interactive)            {                ShowImportPackageWindow(packagePath, assetsItems, packageIconPath, allowReInstall);            }            else            {                ImportPackageSilently(assetsItems);            }        }        private static bool IsOlder53VersionAPI = false;        public static object[] ExtractAssetsFromPackage(string path, out string packageIconPath,            out bool allowReInstall)        {            if (IsOlder53VersionAPI)            {                AssetsItem[] array = ImportPackageStep1(path, out packageIconPath);                allowReInstall = false;                return array;            }            else            {                object[] array = ExtractAndPrepareAssetList(path, out packageIconPath, out allowReInstall);                return array;            }        }        private static void ChangeAssetItemPath(object assetItem, string selectedFolderPath)        {            if (IsOlder53VersionAPI)            {                AssetsItem item = (AssetsItem)assetItem;                item.exportedAssetPath = selectedFolderPath + item.exportedAssetPath.Remove(0, 6);                item.pathName = selectedFolderPath + item.pathName.Remove(0, 6);            }            else            {                string destinationPath                    = (string)DestinationAssetPathFieldInfo.GetValue(assetItem);                destinationPath                    = selectedFolderPath + destinationPath.Remove(0, 6);                DestinationAssetPathFieldInfo.SetValue(assetItem, destinationPath);            }        }        public static void ShowImportPackageWindow(string path, object[] array, string packageIconPath,            bool allowReInstall)        {            if (IsOlder53VersionAPI)            {                ShowImportPackageMethodInfo.Invoke(null, new object[] { path, array, packageIconPath });            }            else            {                ShowImportPackageMethodInfo.Invoke(null, new object[] { path, array, packageIconPath, allowReInstall });            }        }        public static void ImportPackageSilently(object[] assetsItems)        {            if (IsOlder53VersionAPI)            {                ImportPackageStep2MethodInfo.Invoke(null, new object[] { assetsItems, false });            }            else            {                ImportPackageAssetsMethodInfo.Invoke(null, new object[] { assetsItems, false });            }        }        private static string GetSelectedFolderPath()        {            UnityEngine.Object obj = Selection.activeObject;            if (obj == null) return null;            string path = AssetDatabase.GetAssetPath(obj.GetInstanceID());            return !Directory.Exists(path) ? null : path;        }    }</code></pre><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>ã€UnityEditor ç¼–è¾‘å™¨é—´å¿«é€Ÿå¤åˆ¶ç²˜è´´ã€‘ï¼š <a href="https://539go.com/2018/02/04/Unity-QuickCopy/" target="_blank" rel="noopener"> https://539go.com/2018/02/04/Unity-QuickCopy/</a><br>å¼•ç”¨äº†è¯¥æ–‡ç« ä¸­çš„UnityPackageå¯¼å…¥ä»£ç ã€‚</p><h2 id="å·¥å…·ä¸‹è½½"><a href="#å·¥å…·ä¸‹è½½" class="headerlink" title="å·¥å…·ä¸‹è½½"></a>å·¥å…·ä¸‹è½½</h2><p>gitä»“åº“ï¼š</p><p><a href="https://github.com/JingFengJi/UnityCenterTool" target="_blank" rel="noopener"> https://github.com/JingFengJi/UnityCenterTool</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§äººå·¥å…·åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒåï¼šæ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰</title>
      <link href="/2018/08/20/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-yi/"/>
      <url>/2018/08/20/unity-bian-ji-qi-tuo-zhan-zhi-er-shi-tuo-zhan-unity-mo-kuai-da-zao-si-ren-gong-ju-ku-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰"><a href="#æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰" class="headerlink" title="æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰"></a>æ‹“å±•Unityæ¨¡å—ï¼Œæ‰“é€ ç§äººå·¥å…·åº“ï¼ˆä¸€ï¼‰</h1><h2 id="åŠŸèƒ½ä»‹ç»"><a href="#åŠŸèƒ½ä»‹ç»" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h2><p>ç»è¿‡å¹³æ—¶çš„é¡¹ç›®ç§¯ç´¯ï¼Œä½¿ç”¨ä»¥åŠè‡ªå·±ç¼–å†™çš„ç¼–è¾‘å™¨å·¥å…·è¶Šæ¥è¶Šå¤šï¼Œæœ‰äº›å·¥å…·åœ¨åˆ«çš„é¡¹ç›®ä¸­åŒæ ·ç”¨çš„ä¸Šï¼Œä½†æ˜¯ä¸å¸Œæœ›æ¯æ¬¡éƒ½é‡æ–°æ‹·è´æ–°ä»£ç åˆ°é¡¹ç›®ä¸­ï¼Œäºæ˜¯å°±å¸Œæœ›èƒ½å¤Ÿæ‹“å±•Unityæ¨¡å—ï¼Œå®ç°è‡ªå·±çš„å·¥å…·åº“ï¼Œæ–¹ä¾¿å¯¼å…¥å·¥å…·åˆ°é¡¹ç›®ä¸­ã€‚</p><p>é€šè¿‡æŸ¥é˜…èµ„æ–™å‘ç°ï¼Œåœ¨Unityçš„å®‰è£…ç›®å½• Unity2017.3.1f1\Editor\Data\UnityExtensions\Unity<br>(æˆ‘çš„ç‰ˆæœ¬æ˜¯2017.3.1f1)ä¸‹ï¼Œæœ‰ä¸€äº›Unityè‡ªå¸¦çš„æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡åœ¨è¯¥è·¯å¾„ä¸‹æ”¾å…¥è‡ªå·±çš„æ¨¡å—ï¼Œå°±å¯ä»¥å®ç°Unityæ–°å»ºçš„é¡¹ç›®éƒ½æ‹¥æœ‰è¯¥æ‹“å±•æ¨¡å—çš„åŠŸèƒ½ã€‚é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å°±å†™ä¸€ä¸ªå·¥å…·å¯¼å…¥æ¨¡å—æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚</p><h2 id="UnityExtensionsæ–‡ä»¶ç»“æ„åŸºæœ¬ä»‹ç»"><a href="#UnityExtensionsæ–‡ä»¶ç»“æ„åŸºæœ¬ä»‹ç»" class="headerlink" title="UnityExtensionsæ–‡ä»¶ç»“æ„åŸºæœ¬ä»‹ç»"></a>UnityExtensionsæ–‡ä»¶ç»“æ„åŸºæœ¬ä»‹ç»</h2><p>1ã€ivy.xmlæ–‡ä»¶</p><p>å…¶ä¸­ï¼šversionã€unityVersionå‡ä¸ºå½“å‰Unityçš„ç‰ˆæœ¬å·ï¼›artifact name æ ‡ç­¾ä¸ºæˆ‘ä»¬çš„DLLæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;ivy-module version=&quot;2.0&quot;&gt;  &lt;info version=&quot;2017.3.1&quot; organisation=&quot;Unity&quot; module=&quot;UnityToolCenter&quot; e:packageType=&quot;UnityExtension&quot; e:unityVersion=&quot;2017.3.1f1&quot; xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot; /&gt;  &lt;publications xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot;&gt;    &lt;artifact name=&quot;Editor/UnityToolCenter&quot; type=&quot;dll&quot; ext=&quot;dll&quot; e:guid=&quot;adebbd281f1a4ef3a30be7f21937e02f&quot; /&gt;  &lt;/publications&gt;&lt;/ivy-module&gt;</code></pre><p>2ã€Editoræ–‡ä»¶å¤¹<br>æ”¾å…¥dll ä»£ç ä¸­å±äºç¼–è¾‘å™¨æ‹“å±•çš„ä»£ç </p><h2 id="é€»è¾‘è¯´æ˜"><a href="#é€»è¾‘è¯´æ˜" class="headerlink" title="é€»è¾‘è¯´æ˜"></a>é€»è¾‘è¯´æ˜</h2><p>å·¥å…·åˆç‰ˆç¤ºæ„å›¾ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180820223019383?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>é€šè¿‡å‹¾é€‰UnityPackageï¼Œç›´æ¥å¯¼å…¥åˆ°é¡¹ç›®ä¸­ï¼Œç®€å•å¿«æ·ã€‚</p><p>ä¸ºäº†ä¸ç›´æ¥å°†UnityPackageæ–‡ä»¶æ”¾å…¥åˆ°Unityå®‰è£…ç›®å½•ä¸‹ï¼Œå› æ­¤æ–°å¢ä¸€ä¸ªconfig.iniæ–‡ä»¶ï¼Œé‡Œé¢é…ç½®UnityPackageæ–‡ä»¶çš„è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018082022321790?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018082022325173?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>é€šè¿‡è¯»å–è¯¥é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½é…ç½®ä¸‹æ‰€æœ‰è·¯å¾„çš„æ‰€æœ‰åç¼€åä¸ºunitypackageæ–‡ä»¶ï¼Œç„¶åæ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨ä¸­ã€‚</p><h2 id="ä½¿ç”¨ä»‹ç»"><a href="#ä½¿ç”¨ä»‹ç»" class="headerlink" title="ä½¿ç”¨ä»‹ç»"></a>ä½¿ç”¨ä»‹ç»</h2><p>å°†è„šæœ¬æ‰“æˆdllåï¼Œå°†UnityToolCenter.dllå’ŒUnityToolCenter.pdbæ–‡ä»¶æ”¾å…¥å®‰è£…ç›®å½•ä¸‹</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018082022350796?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>ä¿®æ”¹ivy.xmlæ–‡ä»¶ä¸º</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;ivy-module version=&quot;2.0&quot;&gt;  &lt;info version=&quot;2017.3.1&quot; organisation=&quot;Unity&quot; module=&quot;UnityToolCenter&quot; e:packageType=&quot;UnityExtension&quot; e:unityVersion=&quot;2017.3.1f1&quot; xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot; /&gt;  &lt;publications xmlns:e=&quot;http://ant.apache.org/ivy/extra&quot;&gt;    &lt;artifact name=&quot;Editor/UnityToolCenter&quot; type=&quot;dll&quot; ext=&quot;dll&quot; e:guid=&quot;adebbd281f1a4ef3a30be7f21937e02f&quot; /&gt;  &lt;/publications&gt;&lt;/ivy-module&gt;</code></pre><p>ã€æ³¨æ„ã€‘ç‰ˆæœ¬å·ï¼Œä»¥åŠdllçš„è·¯å¾„</p><p>æ­¤æ—¶ï¼Œæ–°å»ºå¦ä¸€ä¸ªUnityå·¥ç¨‹ï¼ˆåŒç‰ˆæœ¬ï¼‰ï¼Œå°±ä¼šå‘ç°èœå•æ ä¹Ÿå¸¦æœ‰Tools/UnityToolCenterï¼Œå…·ä½“å¯¼å…¥UnityPackageé€»è¾‘è§ä¸‹æœŸ</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="https://539go.com/2017/10/20/UnityEditor-Unity%E7%9A%84%E6%A8%A1%E5%9D%97/" target="_blank" rel="noopener"> https://539go.com/2017/10/20/UnityEditor-Unity%E7%9A%84%E6%A8%A1%E5%9D%97/</a></p><h2 id="å·¥å…·ç»ˆç‰ˆè§ä¸‹æœŸ"><a href="#å·¥å…·ç»ˆç‰ˆè§ä¸‹æœŸ" class="headerlink" title="å·¥å…·ç»ˆç‰ˆè§ä¸‹æœŸ"></a>å·¥å…·ç»ˆç‰ˆè§ä¸‹æœŸ</h2><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¹ï¼šNGUI UISpriteé¢„è§ˆå›¾Previewæ‹“å±•</title>
      <link href="/2018/08/10/unity-bian-ji-qi-tuo-zhan-zhi-shi-jiu-ngui-uisprite-yu-lan-tu-preview-tuo-zhan/"/>
      <url>/2018/08/10/unity-bian-ji-qi-tuo-zhan-zhi-shi-jiu-ngui-uisprite-yu-lan-tu-preview-tuo-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="NGUI-UISpriteé¢„è§ˆå›¾Previewæ‹“å±•"><a href="#NGUI-UISpriteé¢„è§ˆå›¾Previewæ‹“å±•" class="headerlink" title="NGUI UISpriteé¢„è§ˆå›¾Previewæ‹“å±•"></a>NGUI UISpriteé¢„è§ˆå›¾Previewæ‹“å±•</h1><h2 id="åŠŸèƒ½è¯´æ˜"><a href="#åŠŸèƒ½è¯´æ˜" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p>1ã€æ‹“å±•UISpriteçš„Previewè§†å›¾ï¼ŒåŒæ—¶æ˜¾ç¤ºUIAtlas Textureå’ŒSprite<br>2ã€æ”¯æŒåœ¨UIAtlasä¸Šç›´æ¥ç‚¹é€‰Sprite<br>3ã€æ— éœ€æ‰“å¼€Atlasé€‰æ‹©æ¡†å’ŒSpriteé€‰æ‹©æ¡†ä¸¤æ­¥æ“ä½œ</p><h2 id="Gifç¤ºæ„å›¾"><a href="#Gifç¤ºæ„å›¾" class="headerlink" title="Gifç¤ºæ„å›¾"></a>Gifç¤ºæ„å›¾</h2><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180810224120831?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="é€»è¾‘ä»‹ç»"><a href="#é€»è¾‘ä»‹ç»" class="headerlink" title="é€»è¾‘ä»‹ç»"></a>é€»è¾‘ä»‹ç»</h2><p>1ã€æ‰¾åˆ°UISpriteInspectorè„šæœ¬ï¼Œå…¶è„šæœ¬çš„OnPreViewå‡½æ•°é€»è¾‘ï¼Œæºç å¦‚ä¸‹ï¼š</p><pre><code>public override void OnPreviewGUI (Rect rect, GUIStyle background){    UISprite sprite = target as UISprite;    if (sprite == null || !sprite.isValid) return;    Texture2D tex = sprite.mainTexture as Texture2D;    if (tex == null) return;    UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName);    NGUIEditorTools.DrawSprite(tex, rect, sd, sprite.color);}</code></pre><p>å…¶ä¸­NGUIEditorTools.DrawSpriteå‡½æ•°è´Ÿè´£ç»˜åˆ¶Spriteï¼ŒåŒ…æ‹¬èƒŒæ™¯ã€border lineã€out lineã€size<br>labelç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>2ã€PreViewåŒºåŸŸä¸ºå·¦å³ä¸¤è¾¹ï¼Œåˆ†åˆ«ç»˜åˆ¶Atlas Textureå’ŒSpriteï¼Œå¹¶ä¸”Atlas<br>Textureåœ¨ç»˜åˆ¶æ—¶ä¾ç„¶é‡‡ç”¨spriteçš„ç»˜åˆ¶æ ·å¼ï¼Œåº•å›¾èƒŒæ™¯ + é»‘è‰²è½®å»“ï¼Œå†æ¬¡åŸºç¡€ä¸Šä½¿ç”¨çš„Spriteé‡‡ç”¨ç»¿è‰²è½®å»“</p><pre><code>public override void OnPreviewGUI (Rect rect, GUIStyle background){    UISprite sprite = target as UISprite;    if (sprite == null || !sprite.isValid) return;    Texture2D tex = sprite.mainTexture as Texture2D;    if (tex == null) return;    float interval = 10f;    float width = (rect.width - interval) / 2;    Rect leftRect = new Rect(rect.x,rect.y,width,rect.height);    Rect rightRect = new Rect(rect.x + width + interval,rect.y,width,rect.height);    UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName);    NGUIEditorTools.DrawAtlas(tex,leftRect,sd);     NGUIEditorTools.DrawSprite(tex, rightRect, sd, sprite.color);}    static public void DrawAtlas(Texture2D tex,Rect drawRect,UISpriteData sprite)    {        if (!tex) return;        // Create the texture rectangle that is centered inside rect.        Rect outerRect = drawRect;        outerRect.width = tex.width;        outerRect.height = tex.height;        if (tex.width &gt; 0)        {            float f = drawRect.width / outerRect.width;            outerRect.width *= f;            outerRect.height *= f;        }        if (drawRect.height &gt; outerRect.height)        {            outerRect.y += (drawRect.height - outerRect.height) * 0.5f;        }        else if (outerRect.height &gt; drawRect.height)        {            float f = drawRect.height / outerRect.height;            outerRect.width *= f;            outerRect.height *= f;        }        if (drawRect.width &gt; outerRect.width) outerRect.x += (drawRect.width - outerRect.width) * 0.5f;        // Draw the background        NGUIEditorTools.DrawTiledTexture(outerRect, NGUIEditorTools.backdropTexture);        Handles.color = Color.black;        Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMin), new Vector3(outerRect.xMin, outerRect.yMax));        Handles.DrawLine(new Vector3(outerRect.xMax, outerRect.yMin), new Vector3(outerRect.xMax, outerRect.yMax));        Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMin), new Vector3(outerRect.xMax, outerRect.yMin));        Handles.DrawLine(new Vector3(outerRect.xMin, outerRect.yMax), new Vector3(outerRect.xMax, outerRect.yMax));        if(sprite != null)        {            Handles.color = Color.green;            Rect spriteOutlineRect = outerRect;            float r = outerRect.width / tex.width;            spriteOutlineRect.x = outerRect.xMin + sprite.x * r;            spriteOutlineRect.y = outerRect.yMin + sprite.y * r;            spriteOutlineRect.width = sprite.width * r;            spriteOutlineRect.height = sprite.height * r;            Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMax));            Handles.DrawLine(new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMax));            Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMin), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMin));            Handles.DrawLine(new Vector3(spriteOutlineRect.xMin, spriteOutlineRect.yMax), new Vector3(spriteOutlineRect.xMax, spriteOutlineRect.yMax));        }        Rect uv = new Rect(0, 0, tex.width, tex.height);        uv = NGUIMath.ConvertToTexCoords(uv, tex.width, tex.height);        GUI.DrawTextureWithTexCoords(outerRect, tex, uv, true);        // Sprite size label        string text = string.Format(&quot;Atlas Size: {0}x{1}&quot;, Mathf.RoundToInt(tex.width), Mathf.RoundToInt(tex.height));        EditorGUI.DropShadowLabel(GUILayoutUtility.GetRect(Screen.width, 18f), text);    }</code></pre><p>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180810223913392?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>3ã€ç‚¹é€‰åŠŸèƒ½å®ç°</p><pre><code>public override void OnPreviewGUI (Rect rect, GUIStyle background){    UISprite sprite = target as UISprite;    if (sprite == null || !sprite.isValid) return;    Texture2D tex = sprite.mainTexture as Texture2D;    if (tex == null) return;    float interval = 10f;    float width = (rect.width - interval) / 2;    Rect leftRect = new Rect(rect.x,rect.y,width,rect.height);    Rect rightRect = new Rect(rect.x + width + interval,rect.y,width,rect.height);    UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName);    NGUIEditorTools.DrawAtlas(tex,leftRect,sd);    NGUIEditorTools.DrawSprite(tex, rightRect, sd, sprite.color);    //ç‚¹é€‰å›¾ç‰‡    Event e = Event.current;    if(e.type == EventType.MouseDown)    {        //ä¸‹é¢å‡½æ•°é€šè¿‡ç‚¹å‡»çš„åæ ‡ï¼Œå’Œtextureã€texture draw rectç­‰ä¿¡æ¯è®¡ç®—å‡ºè¢«ç‚¹é€‰çš„sprite        UISpriteData click = NGUIEditorTools.GetUISpriteData(tex,sprite.atlas,leftRect,e.mousePosition);        if(click != null)        {            sprite.spriteName = click.name;            EditorUtility.SetDirty(sprite);        }    }}//è·å–spriteåœ¨previewä¸­çš„åŒºåŸŸstatic public Rect GetAreaInPreview(Texture2D tex,Rect drawRect,UISpriteData sprite){    // Create the texture rectangle that is centered inside rect.    Rect outerRect = drawRect;    outerRect.width = tex.width;    outerRect.height = tex.height;    if (tex.width &gt; 0)    {        float f = drawRect.width / outerRect.width;        outerRect.width *= f;        outerRect.height *= f;    }    if (drawRect.height &gt; outerRect.height)    {        outerRect.y += (drawRect.height - outerRect.height) * 0.5f;    }    else if (outerRect.height &gt; drawRect.height)    {        float f = drawRect.height / outerRect.height;        outerRect.width *= f;        outerRect.height *= f;    }    if (drawRect.width &gt; outerRect.width) outerRect.x += (drawRect.width - outerRect.width) * 0.5f;    Rect spriteOutlineRect = outerRect;    float r = outerRect.width / tex.width;    spriteOutlineRect.x = outerRect.xMin + sprite.x * r;    spriteOutlineRect.y = outerRect.yMin + sprite.y * r;    spriteOutlineRect.width = sprite.width * r;    spriteOutlineRect.height = sprite.height * r;    return spriteOutlineRect;}//æ ¹æ®ç‚¹å‡»çš„åæ ‡ï¼Œå¾ªç¯éå†å‡ºå“ªä¸ªSpriteçš„AreaåŒ…å«äº†è¯¥poså³å¯static public UISpriteData GetUISpriteData(Texture2D tex, UIAtlas atlas,Rect drawRect,Vector2 pos){    List&lt;UISpriteData&gt; sprites = atlas.spriteList;    if(sprites == null || sprites.Count &lt;= 0) return null;    for (int i = 0; i &lt; sprites.Count; i++)    {        UISpriteData sprite = sprites[i];        Rect area = GetAreaInPreview(tex,drawRect,sprite);        if(area.Contains(pos))        {            return sprite;        }    }    return null;}</code></pre><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UISpriteç»„ä»¶é¢„è§ˆæ‹“å±• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨è½¯ä»¶é›†é”¦</title>
      <link href="/2018/08/06/chang-yong-ruan-jian-ji-jin/"/>
      <url>/2018/08/06/chang-yong-ruan-jian-ji-jin/</url>
      
        <content type="html"><![CDATA[<h1 id="1ã€å›¾ç‰‡æŸ¥é‡"><a href="#1ã€å›¾ç‰‡æŸ¥é‡" class="headerlink" title="1ã€å›¾ç‰‡æŸ¥é‡"></a>1ã€å›¾ç‰‡æŸ¥é‡</h1><p>æ–‡ä»¶æŸ¥é‡ï¼Œå¦‚æœåªæ˜¯æ–‡ä»¶åæˆ–è€…md5ç çš„åŒ¹é…æŸ¥é‡ï¼ŒåŠŸèƒ½å°±ä¸å…¨é¢äº†ï¼Œå°¤å…¶æ˜¯å›¾ç‰‡æŸ¥é‡ã€‚å›¾ç‰‡æŸ¥é‡åº”è¯¥æ›´ä¾§é‡äºå›¾ç‰‡å†…å®¹ç›¸ä¼¼åº¦æŸ¥é‡ã€‚æœ€è¿‘é¡¹ç›®ä¸­ä½¿ç”¨TexturePacker<br>&amp; NGUIï¼Œå‘ç°å­˜åœ¨ä¸€äº›å›¾ç‰‡é‡å¤ï¼Œæ–°äººå¯¹ä¸šåŠ¡é€»è¾‘ä¸ç†Ÿæ‚‰ï¼Œå¯¼è‡´å›¾ç‰‡ä¹±æ”¾ç­‰é—®é¢˜ï¼Œä½¿å¾—å›¾ç‰‡å­˜åœ¨é‡å¤ã€æµªè´¹èµ„æºç­‰ã€‚å› æ­¤æ”¶é›†äº†Windows å’ŒMac<br>ä¸‹ä½¿ç”¨çš„ä¸¤æ¬¾å›¾ç‰‡æŸ¥é‡è½¯ä»¶ã€‚</p><h4 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h4><p><a href="http://www.newrain.cn/app/info/1" target="_blank" rel="noopener"> http://www.newrain.cn/app/info/1 </a></p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180806211702519?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>æ”¯æŒä¿®æ”¹ç›¸ä¼¼åº¦è¿›è¡ŒåŒ¹é…æŸ¥é‡</p><h4 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h4><p>SnapSelectè½¯ä»¶</p><p>å®˜ç½‘ï¼š <a href="https://skylum.com/snapselect" target="_blank" rel="noopener"> https://skylum.com/snapselect </a><br>pojieç‰ˆè¯·è‡ªè¡Œä¸‹è½½</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180806212314576?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>æ”¯æŒå››ä¸ªçº§åˆ«çš„ç›¸ä¼¼åº¦æŸ¥é‡ ï¼ˆLowã€Highã€ã€ã€ï¼‰</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> å¸¸ç”¨è½¯ä»¶ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå…«ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· 2.0ç‰ˆæœ¬</title>
      <link href="/2018/08/04/unity-bian-ji-qi-tuo-zhan-zhi-shi-ba-ngui-pi-liang-ti-huan-tu-ji-gong-ju-2.0-ban-ben/"/>
      <url>/2018/08/04/unity-bian-ji-qi-tuo-zhan-zhi-shi-ba-ngui-pi-liang-ti-huan-tu-ji-gong-ju-2.0-ban-ben/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·-2-0ç‰ˆæœ¬"><a href="#Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·-2-0ç‰ˆæœ¬" class="headerlink" title="Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· 2.0ç‰ˆæœ¬"></a>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· 2.0ç‰ˆæœ¬</h1><h1 id="1-0ç‰ˆæœ¬"><a href="#1-0ç‰ˆæœ¬" class="headerlink" title="1.0ç‰ˆæœ¬"></a>1.0ç‰ˆæœ¬</h1><p><a href="https://blog.csdn.net/qq_26999509/article/details/81256493" target="_blank" rel="noopener"> https://blog.csdn.net/qq_26999509/article/details/81256493</a></p><h1 id="æ–°å¢å†…å®¹"><a href="#æ–°å¢å†…å®¹" class="headerlink" title="æ–°å¢å†…å®¹"></a>æ–°å¢å†…å®¹</h1><p>å·¥å…·1.0ç‰ˆæœ¬ï¼ŒåŒäº‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°æ‰¹é‡æ›¿æ¢å›¾é›†æ—¶ï¼Œä¸ä¸€å®šæ˜¯å…¨éƒ¨éƒ½æ›¿æ¢ï¼Œè¿™æ ·çš„è¯ï¼Œå·¥å…·å°±æ²¡æ³•ä½¿ç”¨äº†ã€‚<br>2.0ç‰ˆæœ¬æ–°å¢åŠŸèƒ½ï¼šå¯¹äºæ›¿æ¢å›¾é›†çš„Spriteæ”¯æŒå¯é€‰æ‹©æ€§çš„æ˜¯å¦æ›¿æ¢ã€‚</p><h1 id="å·¥å…·æˆªå›¾"><a href="#å·¥å…·æˆªå›¾" class="headerlink" title="å·¥å…·æˆªå›¾"></a>å·¥å…·æˆªå›¾</h1><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180804224118848?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>åœ¨ä¹‹å‰çš„å³ä¸‹è§’ç©ºç™½åŒºåŸŸï¼Œå¢åŠ äº†é¢„åˆ¶ä½“æ‰€æœ‰UISpriteçš„åˆ—è¡¨æ˜¾ç¤ºï¼Œä½¿ç”¨çš„TreeViewç¼–å†™çš„ã€‚</p><h1 id="TreeViewä»‹ç»"><a href="#TreeViewä»‹ç»" class="headerlink" title="TreeViewä»‹ç»"></a>TreeViewä»‹ç»</h1><p>ç›®å‰ï¼ŒTreeViewæˆ‘è¿˜æ²¡æœ‰å•ç‹¬å†™æ–‡å­—æ¥ä»‹ç»è¯¥å†…å®¹ï¼Œåç»­ä¼šæ›´æ–°ã€‚<br>å®˜æ–¹æ–‡æ¡£ï¼š <a href="https://docs.unity3d.com/Manual/TreeViewAPI.html" target="_blank" rel="noopener"> https://docs.unity3d.com/Manual/TreeViewAPI.html</a></p><h1 id="ä»£ç Gitåœ°å€"><a href="#ä»£ç Gitåœ°å€" class="headerlink" title="ä»£ç Gitåœ°å€"></a>ä»£ç Gitåœ°å€</h1><p><a href="https://github.com/JingFengJi/ReplaceAtlas" target="_blank" rel="noopener"> https://github.com/JingFengJi/ReplaceAtlas</a></p><p>æ¬¢è¿åŠ æ˜Ÿ</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><hr><h1 id="2018-8-5æ—¥æ›´æ–°"><a href="#2018-8-5æ—¥æ›´æ–°" class="headerlink" title="2018.8.5æ—¥æ›´æ–°"></a>2018.8.5æ—¥æ›´æ–°</h1><h1 id="æ›´æ–°å†…å®¹"><a href="#æ›´æ–°å†…å®¹" class="headerlink" title="æ›´æ–°å†…å®¹"></a>æ›´æ–°å†…å®¹</h1><p>1ã€æ”¯æŒSpriteé¢„è§ˆ</p><h1 id="Gifç¤ºä¾‹å›¾"><a href="#Gifç¤ºä¾‹å›¾" class="headerlink" title="Gifç¤ºä¾‹å›¾"></a>Gifç¤ºä¾‹å›¾</h1><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180805211815279?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h1 id="é‡è¦ä»£ç ä»‹ç»"><a href="#é‡è¦ä»£ç ä»‹ç»" class="headerlink" title="é‡è¦ä»£ç ä»‹ç»"></a>é‡è¦ä»£ç ä»‹ç»</h1><p>Spriteçš„ç»˜åˆ¶ï¼Œæ˜¯é€šè¿‡æŸ¥çœ‹UISpriteInspectorç±»ï¼ˆNGUIï¼‰å‘ç°çš„ï¼Œè¯¥ç±»ä¸­åœ¨ä½¿ç”¨OnPreviewGUIæ¥å£ç»˜åˆ¶ç¤ºæ„å›¾çš„æ—¶å€™ï¼Œè°ƒç”¨äº†NGUIEdiotrTools.DrawSpriteæ¥å£</p><pre><code>public override void OnPreviewGUI (Rect rect, GUIStyle background){    UISprite sprite = target as UISprite;    if (sprite == null || !sprite.isValid) return;    Texture2D tex = sprite.mainTexture as Texture2D;    if (tex == null) return;    UISpriteData sd = sprite.atlas.GetSprite(sprite.spriteName);    NGUIEditorTools.DrawSprite(tex, rect, sd, sprite.color);}</code></pre><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180805212237230?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>é‚£é‡Œè¿™æ¬¡æ›´æ–°çš„å†…å®¹ï¼Œä¹Ÿä½¿ç”¨è¯¥æ¥å£è¿›è¡Œç»˜åˆ¶ã€‚è¯¦æƒ…è¯·çœ‹NGUIæºç ã€‚</p><p>ä½†æ˜¯ï¼Œè¯¥å¤„PreviewGUIåœ¨åº•éƒ¨ç»˜åˆ¶äº† Sprite<br>Sizeçš„Labelï¼Œè€Œæœ¬å·¥å…·ä¸éœ€è¦å°†å›¾å’Œå°ºå¯¸ä¿¡æ¯ç»˜åˆ¶åœ¨ä¸€èµ·ï¼Œå› æ­¤ä¿®æ”¹äº†æºç ï¼Œå¢åŠ äº†ä¸€ä¸ªboolç±»å‹çš„needSizeLabelå‚æ•°ï¼Œæ¥æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºå°ºå¯¸ä¿¡æ¯</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180805212621503?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h1 id="ä»£ç Gitåœ°å€-1"><a href="#ä»£ç Gitåœ°å€-1" class="headerlink" title="ä»£ç Gitåœ°å€"></a>ä»£ç Gitåœ°å€</h1><p><a href="https://github.com/JingFengJi/ReplaceAtlas" target="_blank" rel="noopener"> https://github.com/JingFengJi/ReplaceAtlas</a></p><p>æ¬¢è¿åŠ æ˜Ÿ</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰¹é‡æ›¿æ¢NGUIé¢„åˆ¶å›¾é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸ƒï¼šNGUI ComponentSelectorå¢åŠ æœç´¢æ¡†</title>
      <link href="/2018/07/31/unity-bian-ji-qi-tuo-zhan-zhi-shi-qi-ngui-componentselector-zeng-jia-sou-suo-kuang/"/>
      <url>/2018/07/31/unity-bian-ji-qi-tuo-zhan-zhi-shi-qi-ngui-componentselector-zeng-jia-sou-suo-kuang/</url>
      
        <content type="html"><![CDATA[<h1 id="NGUI-ComponentSelectorå¢åŠ æœç´¢æ¡†"><a href="#NGUI-ComponentSelectorå¢åŠ æœç´¢æ¡†" class="headerlink" title="NGUI ComponentSelectorå¢åŠ æœç´¢æ¡†"></a>NGUI ComponentSelectorå¢åŠ æœç´¢æ¡†</h1><h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>æœ€è¿‘åœ¨ä½¿ç”¨NGUIï¼Œç»™Spriteé€‰æ‹©å›¾é›†çš„æ—¶å€™ï¼Œæ²¡æœ‰æœç´¢æ¡†è¦æŒ¨ä¸ªæ‰¾æŒºéº»çƒ¦ï¼Œå› æ­¤ä¿®æ”¹ä¸€ä¸‹ComponentSelectorç»„ä»¶ï¼Œå¢åŠ ä¸€ä¸ªæœç´¢æ¡†ï¼Œä¾¿äºæœç´¢å›¾é›†</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180731230908117?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="GifåŠ¨å›¾å±•ç¤º"><a href="#GifåŠ¨å›¾å±•ç¤º" class="headerlink" title="GifåŠ¨å›¾å±•ç¤º"></a>GifåŠ¨å›¾å±•ç¤º</h2><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180731232015407?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="SearchFieldä»‹ç»"><a href="#SearchFieldä»‹ç»" class="headerlink" title="SearchFieldä»‹ç»"></a>SearchFieldä»‹ç»</h2><p>å…³äºSearchFieldä»‹ç»è¯·çœ‹ <a href="https://blog.csdn.net/qq_26999509/article/details/80301320%20Unity%E7%BC%96%E8%BE%91%E5%99%A8%E6%8B%93%E5%B1%95%E4%B9%8B%E4%B9%9D%EF%BC%9ASearchField" target="_blank" rel="noopener"> Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¹</a></p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ä»¥ä¸‹ä»£ç æ˜¯ä¿®æ”¹çš„NGUIé‡Œçš„ComponentSelectorè„šæœ¬</p><pre><code>private SearchField search;private bool isInit = false;private string searchStr = &quot;&quot;;private void IfNeedInit(){    if(isInit == false)        search = new SearchField();    isInit = true;}void OnGUI (){    IfNeedInit();    searchStr = search.OnGUI(new Rect(10,10,200,10),searchStr);    searchStr = searchStr.ToLower();    //çœç•¥åé¢æºç     }bool DrawObject (Object obj){    if (obj == null) return false;    //æœç´¢    if(!string.IsNullOrEmpty(searchStr) &amp;&amp; !obj.name.ToLower().Contains(searchStr)) return false;    bool retVal = false;    Component comp = obj as Component;    GUILayout.BeginHorizontal();    {        string path = AssetDatabase.GetAssetPath(obj);        if (string.IsNullOrEmpty(path))        {            path = &quot;[Embedded]&quot;;            GUI.contentColor = new Color(0.7f, 0.7f, 0.7f);        }        else if (comp != null &amp;&amp; EditorUtility.IsPersistent(comp.gameObject))            GUI.contentColor = new Color(0.6f, 0.8f, 1f);        retVal |= GUILayout.Button(obj.name, &quot;AS TextArea&quot;, GUILayout.Width(160f), GUILayout.Height(20f));        retVal |= GUILayout.Button(path.Replace(&quot;Assets/&quot;, &quot;&quot;), &quot;AS TextArea&quot;, GUILayout.Height(20f));        GUI.contentColor = Color.white;        retVal |= GUILayout.Button(&quot;Select&quot;, &quot;ButtonLeft&quot;, GUILayout.Width(60f), GUILayout.Height(16f));    }    GUILayout.EndHorizontal();    return retVal;}</code></pre><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NGUI ComponentSelectorå¢åŠ æœç´¢æ¡† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå…­ï¼šç›‘å¬Scene Dragäº‹ä»¶</title>
      <link href="/2018/07/30/unity-bian-ji-qi-tuo-zhan-zhi-shi-liu-jian-ting-scene-drag-shi-jian/"/>
      <url>/2018/07/30/unity-bian-ji-qi-tuo-zhan-zhi-shi-liu-jian-ting-scene-drag-shi-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›‘å¬Scene-Dragäº‹ä»¶"><a href="#ç›‘å¬Scene-Dragäº‹ä»¶" class="headerlink" title="ç›‘å¬Scene Dragäº‹ä»¶"></a>ç›‘å¬Scene Dragäº‹ä»¶</h1><h2 id="GifåŠ¨å›¾å±•ç¤º"><a href="#GifåŠ¨å›¾å±•ç¤º" class="headerlink" title="GifåŠ¨å›¾å±•ç¤º"></a>GifåŠ¨å›¾å±•ç¤º</h2><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180730212155553?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>é€šè¿‡è¯¥ç›‘å¬ï¼Œè·å–åˆ°è¢«Dragè¿›Sceneçš„ç‰©ä½“çš„ç±»å‹ï¼Œå¯ä»¥åšä¸€äº›é¢„å¤„ç†ï¼Œä¾‹å¦‚ï¼šDragä¸€å¼ å›¾ç‰‡ï¼Œç›´æ¥ç”Ÿæˆä¸€ä¸ªGameObjectï¼ˆå¸¦Imageï¼Œå‰ææ˜¯UGUIï¼‰çš„æ”¾åœ¨Canvasä¸‹</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;public class SceneManager{    [InitializeOnLoadMethod]    static void Init()    {        SceneView.onSceneGUIDelegate += OnSceneGUI;    }    private static void OnSceneGUI(SceneView sceneView)    {        Event e = Event.current;        if(e.type == EventType.DragUpdated || e.type == EventType.DragPerform)        {            DragAndDrop.visualMode = DragAndDropVisualMode.Copy;            if(e.type == EventType.DragPerform)            {                DragAndDrop.AcceptDrag();                for (int i = 0; i &lt; DragAndDrop.objectReferences.Length; i++)                {                    Object handleObj = DragAndDrop.objectReferences[i];                    if(handleObj != null)                    {                        Debug.LogError(handleObj.GetType());                    }                }            }        }    }}</code></pre><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneDrag </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäº”ï¼šNGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·</title>
      <link href="/2018/07/28/unity-bian-ji-qi-tuo-zhan-zhi-shi-wu-ngui-pi-liang-ti-huan-tu-ji-gong-ju/"/>
      <url>/2018/07/28/unity-bian-ji-qi-tuo-zhan-zhi-shi-wu-ngui-pi-liang-ti-huan-tu-ji-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·"><a href="#NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·" class="headerlink" title="NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·"></a>NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…·</h1><h2 id="å·¥å…·ç›®çš„"><a href="#å·¥å…·ç›®çš„" class="headerlink" title="å·¥å…·ç›®çš„"></a>å·¥å…·ç›®çš„</h2><p>å› é¡¹ç›®éœ€è¦å®ç°æ¢è‚¤çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å¤šå¥—UIå›¾é›†ï¼Œæä¾›å·¥å…·æ‰¹é‡æ¢å›¾é›†ï¼Œæ–¹ä¾¿æŸ¥çœ‹Prebabå„çš®è‚¤ï¼ˆå›¾é›†ï¼‰ä¸‹çš„æ•ˆæœ</p><h2 id="ç¤ºæ„å›¾"><a href="#ç¤ºæ„å›¾" class="headerlink" title="ç¤ºæ„å›¾"></a>ç¤ºæ„å›¾</h2><p>Gif æ“ä½œåŠ¨å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728004232812?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>å·¥å…·æˆªå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728004352956?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>å·¥å…·å·¦ä¾§æ˜¯å·¥ç¨‹æ‰€æœ‰Prefabåˆ—è¡¨ï¼Œå³ä¾§æ˜¯æ›¿æ¢å›¾é›†çš„åŠŸèƒ½èœå•ï¼Œä»æŒ‡å®šåŸå›¾é›†æ›¿æ¢æˆç›®æ ‡å›¾é›†</p><h2 id="é€»è¾‘"><a href="#é€»è¾‘" class="headerlink" title="é€»è¾‘"></a>é€»è¾‘</h2><p>ä¸ä¸Šæ–‡ï¼šUnityç¼–è¾‘å™¨ä¹‹åå››ï¼šå­—ä½“æ›¿æ¢å·¥å…· <a href="https://blog.csdn.net/qq_26999509/article/details/81106083" target="_blank" rel="noopener"><br>https://blog.csdn.net/qq_26999509/article/details/81106083</a><br>ä¸€æ ·ï¼Œå…¶å®æ‰¾åˆ°Prebfabä¸‹æ‰€æœ‰UISpriteï¼Œå¹¶å°†å…¶æ‰€æœ‰æŒ‡å®šåŸå›¾é›† æ›¿æ¢æˆ<br>æŒ‡å®šçš„ç›®æ ‡å›¾é›†ï¼Œä»¥æ­¤å®ç°æ¢è‚¤çš„åŠŸèƒ½ï¼Œå½“ç„¶ä¸¤å›¾é›†çš„SpriteNameåº”è¯¥ä¿æŒä¸€è‡´ï¼Œä¸ç„¶æ²¡åŠæ³•çŸ¥é“è¦æ¢æˆç›®æ ‡å›¾é›†é‡Œçš„é‚£å¼ å›¾ã€‚</p><h2 id="é‡ç‚¹ä»£ç "><a href="#é‡ç‚¹ä»£ç " class="headerlink" title="é‡ç‚¹ä»£ç "></a>é‡ç‚¹ä»£ç </h2><pre><code>private void ReplacePrefabAtalas(GameObject prefab , UIAtlas atlas,UIAtlas targetAtlas){    if(prefab == null || atlas == null) return;    UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true);    if(sprites != null &amp;&amp; sprites.Length &gt; 0)    {        int num = sprites.Length;        for (int i = 0; i &lt; num; i++)        {            UISprite s = sprites[i];            if(s != null &amp;&amp; s.atlas == atlas)            {                s.atlas = targetAtlas;                EditorUtility.SetDirty(s);            }        }    }    AssetDatabase.SaveAssets();}</code></pre><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>1ã€Tools-&gt;ReplaceAtalas æ‰“å¼€å·¥å…·</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728005410396?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>2ã€é€‰ä¸­å¾…å¤„ç†é¢„åˆ¶ä½“ï¼Œé¼ æ ‡å³é”®-&gt;æ›¿æ¢å›¾é›†</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728005536617?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>3ã€<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728005711218?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>4ã€ ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180728010026779?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h2 id="å·¥å…·ä»£ç "><a href="#å·¥å…·ä»£ç " class="headerlink" title="å·¥å…·ä»£ç "></a>å·¥å…·ä»£ç </h2><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;using System.IO;using UnityEditor.IMGUI.Controls;public class ReplaceAtalas : EditorWindow {    private static ReplaceAtalas window = null;    private static List&lt;string&gt; prefabPathList = new List&lt;string&gt; ();    private static string assetPath;    Rect SearchFieldRect    {        get        {            return new Rect(interval,interval,position.width * 0.3f,20f);        }    }    Rect prefabListRect     {        get { return new Rect (interval, interval + SearchFieldRect.yMax, SearchFieldRect.width, window.position.height - SearchFieldRect.yMax - 2 * interval); }    }    Rect replaceAtalsRect    {        get{return new Rect(prefabListRect.xMax + interval,interval,window.position.width - SearchFieldRect.width - 3 * interval,window.position.height - 2 * interval);}    }    private Vector2 scrollWidgetPos;    private float interval = 20f;    private string searchStr = &quot;&quot;;    private SearchField searchField;    private bool initialized = false;    [MenuItem(&quot;Assets/æ›¿æ¢å›¾é›†&quot;, false, 2001)]    public static void OpenWindow()    {        string selectedAssetPath = AssetDatabase.GetAssetPath (Selection.activeObject);        if(!string.IsNullOrEmpty(selectedAssetPath) &amp;&amp; selectedAssetPath.EndsWith(&quot;.prefab&quot;))        {            ReplaceAtalas window = ShowWindow();            if(window != null)            {                window.AutoSelctPrefab(selectedAssetPath);            }        }    }    [MenuItem(&quot;Tools/ReplaceAtalas&quot;)]    public static ReplaceAtalas ShowWindow()     {        prefabPathList.Clear ();        assetPath = Application.dataPath;        GetFiles (new DirectoryInfo (assetPath), &quot;*.prefab&quot;, ref prefabPathList);        if (window == null)            window = EditorWindow.GetWindow(typeof(ReplaceAtalas)) as ReplaceAtalas;        window.titleContent = new GUIContent(&quot;ReplaceAtalas&quot;);        window.Show();        return window;    }    public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList)     {        if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) {            try {                foreach (FileInfo info in directory.GetFiles (pattern)) {                    string path = info.FullName.ToString ();                    fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;)));                }            } catch (System.Exception)             {                throw;            }            foreach (DirectoryInfo info in directory.GetDirectories ())             {                GetFiles (info, pattern, ref fileList);            }        }    }    private void OnGUI()     {        InitIfNeeded();        DrawWindow();    }    private void DrawWindow()    {        DrawSearchField();        DrawPrefabList();        DrawReplaceAtalasTool();    }    private void InitIfNeeded()    {        if(!initialized)        {            if (null == searchField)                searchField = new SearchField ();        }        initialized = true;    }    private void DrawSearchField()    {        GUI.backgroundColor = Color.white;        searchStr = searchField.OnGUI (SearchFieldRect, searchStr);        searchStr = searchStr.ToLower();    }    private void DrawPrefabList()    {        GUI.backgroundColor = Color.white;        GUI.Box(prefabListRect,&quot;&quot;);        GUILayout.BeginArea(prefabListRect);        scrollWidgetPos = EditorGUILayout.BeginScrollView(scrollWidgetPos);        for (int i = 0; i &lt; prefabPathList.Count; i++)        {            if(CheckShowPrefab(prefabPathList[i],searchStr))            {                if(GUILayout.Button(prefabPathList[i]))                {                    curReplacePrefabPath = prefabPathList[i];                    curPrefabAtlas = GetPrefabAllAtlas(curReplacePrefabPath);                }            }        }        EditorGUILayout.EndScrollView();        GUILayout.EndArea();    }    private string curReplacePrefabPath = &quot;&quot;;    private bool CheckShowPrefab(string path,string searchstr)    {        if(string.IsNullOrEmpty(searchStr)) return true;        if(string.IsNullOrEmpty(path)) return false;        return GetFileNameWithSuffix(path.ToLower()).Contains(searchStr);    }    //åŒ…æ‹¬åç¼€å    private string GetFileNameWithSuffix(string path)    {        if(string.IsNullOrEmpty(path)) return string.Empty;        return path.Substring(path.LastIndexOf(&quot;/&quot;)+1);    }    private UIAtlas curAtlas;    private UIAtlas targetAtlas;    void OnSelectAtlas (Object obj)    {        UIAtlas atlas = obj as UIAtlas;        if(isSelectCurAtlas)        {            curAtlas = obj as UIAtlas;        }        else if(isSelectTargetAtlas)        {            targetAtlas = obj as UIAtlas;        }        isSelectCurAtlas = false;        isSelectTargetAtlas = false;    }    private bool isSelectCurAtlas = false;    private bool isSelectTargetAtlas = false;    private List&lt;UIAtlas&gt; curPrefabAtlas = new List&lt;UIAtlas&gt;();    private void DrawReplaceAtalasTool()    {        GUI.backgroundColor = Color.white;        GUILayout.BeginArea(replaceAtalsRect);        EditorGUILayout.LabelField(curReplacePrefabPath);        GUILayout.BeginHorizontal();        EditorGUILayout.LabelField(&quot;è¯¥é¢„åˆ¶ä½“å«æœ‰çš„æ‰€æœ‰å›¾é›†:&quot;,GUILayout.Width(150));        if(curPrefabAtlas.Count &gt; 0)        {            for (int i = 0; i &lt; curPrefabAtlas.Count; i++)            {                if(GUILayout.Button(curPrefabAtlas[i].name))                {                    curAtlas = curPrefabAtlas[i];                }                if(GUILayout.Button(&quot;Edit&quot;))                {                    //NGUISettings.atlas = mFont.atlas;                    //NGUISettings.selectedSprite = sym.spriteName;                    NGUIEditorTools.Select(curPrefabAtlas[i].gameObject);                }            }        }        GUILayout.EndHorizontal();        //åŸå›¾é›†        GUILayout.BeginHorizontal();        curAtlas = (UIAtlas)EditorGUILayout.ObjectField(&quot;è¢«æ›¿æ¢å›¾é›†&quot;, curAtlas, typeof(UIAtlas), true);        if (NGUIEditorTools.DrawPrefixButton(&quot;é€‰æ‹©Atlas&quot;,GUILayout.Width(200)))        {            isSelectCurAtlas = true;            ComponentSelector.Show&lt;UIAtlas&gt;(OnSelectAtlas);        }        GUILayout.EndHorizontal();        //ç›®æ ‡å›¾é›†        GUILayout.BeginHorizontal();        targetAtlas = (UIAtlas)EditorGUILayout.ObjectField(&quot;ç›®æ ‡å›¾é›†&quot;, targetAtlas, typeof(UIAtlas), true);             if (NGUIEditorTools.DrawPrefixButton(&quot;é€‰æ‹©Atlas&quot;,GUILayout.Width(200)))        {            isSelectTargetAtlas = true;            ComponentSelector.Show&lt;UIAtlas&gt;(OnSelectAtlas);        }        GUILayout.EndHorizontal();        if(GUILayout.Button(&quot;äº’æ¢&quot;))        {            UIAtlas tmpCurAtlas = curAtlas;            curAtlas = targetAtlas;            targetAtlas = tmpCurAtlas;        }        //æ›¿æ¢æŒ‰é’®        if(GUILayout.Button(&quot;æ›¿æ¢å›¾é›†&quot;))        {            if(string.IsNullOrEmpty(curReplacePrefabPath))            {                EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé¢„åˆ¶ä½“!&quot;, &quot;ç¡®å®š&quot;);            }            else if (curAtlas == null)            {                EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;è¯·å…ˆæŒ‡å®šè¢«æ›¿æ¢å›¾é›†!&quot;, &quot;ç¡®å®š&quot;);            }            else            {                if(targetAtlas == null)                {                    if(EditorUtility.DisplayDialog(&quot;æç¤º&quot;, &quot;åŸå›¾é›†å°†è¢«æ¸…ç©ºï¼Œç¡®å®šæ›¿æ¢å—ï¼Ÿ&quot;, &quot;ç¡®å®š&quot;,&quot;å–æ¶ˆ&quot;))                    {                        ReplacePrefabAtalas(curReplacePrefabPath);                    }                }                else                {                    ReplacePrefabAtalas(curReplacePrefabPath);                }            }        }        //ä¿å­˜æŒ‰é’®        //æ’¤é”€æŒ‰é’®        GUILayout.EndArea();    }    private void ReplacePrefabAtalas(string path)    {        if(string.IsNullOrEmpty(path)) return;        GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(path);        ReplacePrefabAtalas(gameObj,curAtlas,targetAtlas);    }       private List&lt;UIAtlas&gt; GetPrefabAllAtlas(string path)    {        if(string.IsNullOrEmpty(path)) return null;        GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(path);        return GetPrefabAllAtlas(gameObj);    }    private List&lt;UIAtlas&gt; GetPrefabAllAtlas(GameObject prefab)    {        if(null == prefab) return null;        List&lt;UIAtlas&gt; atlass = new List&lt;UIAtlas&gt;();        UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true);        if(sprites != null &amp;&amp; sprites.Length &gt; 0)        {            int num = sprites.Length;            for (int i = 0; i &lt; num; i++)            {                UISprite s = sprites[i];                if(s != null &amp;&amp; !atlass.Contains(s.atlas))                {                    atlass.Add(s.atlas);                }            }        }        return atlass;    }    private void ReplacePrefabAtalas(GameObject prefab , UIAtlas atlas,UIAtlas targetAtlas)    {        if(prefab == null || atlas == null) return;        UISprite[] sprites = prefab.GetComponentsInChildren&lt;UISprite&gt;(true);        if(sprites != null &amp;&amp; sprites.Length &gt; 0)        {            int num = sprites.Length;            for (int i = 0; i &lt; num; i++)            {                UISprite s = sprites[i];                if(s != null &amp;&amp; s.atlas == atlas)                {                    s.atlas = targetAtlas;                    EditorUtility.SetDirty(s);                }            }        }        AssetDatabase.SaveAssets();    }    public void AutoSelctPrefab(string prefabPath)    {        if(string.IsNullOrEmpty(prefabPath)) return;        curReplacePrefabPath = prefabPath;        curPrefabAtlas = GetPrefabAllAtlas(curReplacePrefabPath);        curAtlas = null;        targetAtlas = null;    }}</code></pre><h2 id="ä»£ç Gitåœ°å€"><a href="#ä»£ç Gitåœ°å€" class="headerlink" title="ä»£ç Gitåœ°å€"></a>ä»£ç Gitåœ°å€</h2><p><a href="https://github.com/JingFengJi/ReplaceAtlas" target="_blank" rel="noopener"> https://github.com/JingFengJi/ReplaceAtlas</a><br>æ¬¢è¿åŠ æ˜Ÿ</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NGUIæ‰¹é‡æ›¿æ¢å›¾é›†å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åå››ï¼šå­—ä½“æ›¿æ¢å·¥å…·</title>
      <link href="/2018/07/18/unity-bian-ji-qi-tuo-zhan-zhi-shi-si-zi-ti-ti-huan-gong-ju/"/>
      <url>/2018/07/18/unity-bian-ji-qi-tuo-zhan-zhi-shi-si-zi-ti-ti-huan-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="å­—ä½“æ›¿æ¢å·¥å…·"><a href="#å­—ä½“æ›¿æ¢å·¥å…·" class="headerlink" title="å­—ä½“æ›¿æ¢å·¥å…·"></a>å­—ä½“æ›¿æ¢å·¥å…·</h1><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180718215424988?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>é€‰æ‹©NGUIè¿˜æ˜¯UGUIï¼Œé€‰æ‹©æ›¿æ¢çš„å­—ä½“ä»¥åŠå­—å·æ¯”ä¾‹ï¼Œå°±å¯ä»¥æ›¿æ¢å·¥ç¨‹ç›®å½•ä¸‹æ‰€æœ‰é¢„åˆ¶ä½“çš„å­—ä½“äº†</p><h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;using System.IO;using UnityEngine.UI;public class ReplaceFont : EditorWindow  {    private static ReplaceFont window = null;    private static List&lt;string&gt; prefafbPathList = new List&lt;string&gt;();    private static Font targetFont;    private static Font curFont;    private static float fontSizeRatio = 1f;    private static bool isUGUI = true;    [MenuItem(&quot;Tools/æ›¿æ¢å­—ä½“&quot;)]    public static void CSVCode()    {        if (window == null)        window = EditorWindow.GetWindow(typeof(ReplaceFont)) as ReplaceFont;        GetFiles(new DirectoryInfo(Application.dataPath), &quot;*.prefab&quot;, ref prefafbPathList);        window.titleContent = new GUIContent(&quot;ReplaceFont&quot;);        window.Show();    }    public static void GetFiles(DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList)    {        if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty(pattern))         {            try             {                foreach (FileInfo info in directory.GetFiles(pattern))                 {                    string path = info.FullName.ToString();                    fileList.Add(path.Substring (path.IndexOf (&quot;Assets&quot;)));                }            }             catch (System.Exception)             {                throw;            }            foreach (DirectoryInfo info in directory.GetDirectories())             {                GetFiles(info, pattern, ref fileList);            }        }    }    void OnGUI()    {        EditorGUILayout.BeginHorizontal();        isUGUI = EditorGUILayout.Toggle(&quot;UGUI&quot;,isUGUI);        isUGUI = EditorGUILayout.Toggle(&quot;NGUI&quot;, !isUGUI);        EditorGUILayout.EndHorizontal();        curFont = (Font) EditorGUILayout.ObjectField(&quot;è¢«æ›¿æ¢å­—ä½“&quot;, curFont, typeof(Font), true);        targetFont = (Font) EditorGUILayout.ObjectField(&quot;ç›®æ ‡å­—ä½“&quot;, targetFont, typeof(Font), true);        EditorGUILayout.BeginHorizontal();        EditorGUILayout.LabelField(&quot;å­—å·æ¯”ä¾‹ï¼š&quot;);        fontSizeRatio = EditorGUILayout.FloatField(fontSizeRatio);        EditorGUILayout.EndHorizontal();        if(GUILayout.Button(&quot;ä¸€é”®æ›¿æ¢&quot;))        {            for (int i = 0; i&lt;prefafbPathList.Count; i++)            {                GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt;(prefafbPathList[i]);                Change(gameObj);            }        AssetDatabase.SaveAssets();        }    }    public static void Change(GameObject prefab)    {        if(null != prefab)        {            Component[] labels = null;            if(isUGUI)            {                labels = prefab.GetComponentsInChildren&lt;Text&gt;(true);            }            else            {                //labels = prefab.GetComponentsInChildren&lt;UILabel&gt;(true);            }            if(null != labels)            foreach (Object item in labels)            {                if(isUGUI)                {                    Text text = (Text)item;                    int newFontSize = (int)(text.fontSize * fontSizeRatio);                    if (text.font.name == curFont.name)                    {                        text.font = targetFont;                        text.fontSize = newFontSize;                    }                }                else                {                    // UILabel label = (UILabel)item;                    // int newFontSize = (int)(label.fontSize * fontSizeRatio);                    // if (label.trueTypeFont.name == curFont.name)                    // {                    //      label.trueTypeFont = targetFont;                    //      label.fontSize = newFontSize;                    // }                }                EditorUtility.SetDirty(item);            }        }    }}</code></pre><h1 id="ä»£ç ä¸‹è½½"><a href="#ä»£ç ä¸‹è½½" class="headerlink" title="ä»£ç ä¸‹è½½"></a>ä»£ç ä¸‹è½½</h1><p><a href="https://github.com/JingFengJi/ReplaceFont.git" target="_blank" rel="noopener"> https://github.com/JingFengJi/ReplaceFont.git</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­—ä½“æ›¿æ¢å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸‰ï¼šCSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…·</title>
      <link href="/2018/07/17/unity-bian-ji-qi-tuo-zhan-zhi-shi-san-csv-wen-jian-jie-xi-dai-ma-sheng-cheng-gong-ju/"/>
      <url>/2018/07/17/unity-bian-ji-qi-tuo-zhan-zhi-shi-san-csv-wen-jian-jie-xi-dai-ma-sheng-cheng-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="CSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…·"><a href="#CSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…·" class="headerlink" title="CSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…·"></a>CSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…·</h1><h3 id="å·¥å…·ç¤ºæ„å›¾"><a href="#å·¥å…·ç¤ºæ„å›¾" class="headerlink" title="å·¥å…·ç¤ºæ„å›¾"></a>å·¥å…·ç¤ºæ„å›¾</h3><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180717221145417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>å·¦ä¾§æ˜¯å·¥ç¨‹ä¸‹æ‰€æœ‰çš„CSVæ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶æä¾›æœç´¢æ¡†ï¼Œå³ä¾§æ˜¯è§£æéƒ¨åˆ†ï¼Œä¸Šè¾¹æä¾›äº†ä¿å­˜ä»£ç æ–‡ä»¶å’Œæ‹·è´ä»£ç çš„èœå•ï¼Œä¸­é—´æ˜¯CSVæ–‡ä»¶é¢„è§£æå‡ºæ¥çš„å­—æ®µã€æ•°æ®ç±»å‹ï¼ˆå¯é€‰ï¼‰ç­‰ï¼Œä¸‹é¢æ˜¯ä»£ç é¢„è§ˆåŒºåŸŸã€‚</p><h3 id="è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„"><a href="#è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„" class="headerlink" title="è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„"></a>è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„</h3><p>ä½¿ç”¨é€’å½’è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„ï¼Œå¹¶ç»˜åˆ¶åœ¨å·¦ä¾§</p><pre><code>[MenuItem(&quot;Tools/CreateCSVParseCode&quot;)]public static void CSVCode(){    csvFilesPathList.Clear ();    assetPath = Application.dataPath;    //è·å–æ‰€æœ‰CSVæ–‡ä»¶çš„è·¯å¾„    GetFiles (new DirectoryInfo (assetPath), &quot;*.csv&quot;, ref csvFilesPathList);    if (window == null)        window = EditorWindow.GetWindow(typeof(CreateCSVParseCode)) as CreateCSVParseCode;    window.titleContent = new GUIContent(&quot;CreateCSVParseCode&quot;);    if(isLimitSize)    {        window.minSize = new Vector2(1420,674);        window.maxSize = new Vector2(1420,674);    }    window.Show();}public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) {    if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) {        try {            foreach (FileInfo info in directory.GetFiles (pattern)) {                string path = info.FullName.ToString ();                fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;)));            }        } catch (System.Exception)         {            throw;        }        foreach (DirectoryInfo info in directory.GetDirectories ())         {            GetFiles (info, pattern, ref fileList);        }    }}</code></pre><h3 id="é¢„è§£æCSVæ–‡ä»¶"><a href="#é¢„è§£æCSVæ–‡ä»¶" class="headerlink" title="é¢„è§£æCSVæ–‡ä»¶"></a>é¢„è§£æCSVæ–‡ä»¶</h3><p>å®šä¹‰ä¸€ä¸ªç±»å­˜å‚¨é¢„è§£ææ•°æ®</p><pre><code>public class CsvData{    public string header;    public DataType dataType;    public bool isParse = true;}public enum DataType{    Int = 0,    String = 1,    Double = 2,    Bool = 3,    //åç»­æ›´æ–°ä¸‹é¢ä¸‰ç§ç±»å‹æ•°æ®çš„è§£æ    //Vector3 = 4,    //Vector2 = 5,    //Color = 6,}</code></pre><p>è¯¦ç»†ä»£ç å‚è€ƒåé¢ä»£ç å·¥ç¨‹gitåœ°å€</p><h3 id="ä»£ç æ ¼å¼åŒ–"><a href="#ä»£ç æ ¼å¼åŒ–" class="headerlink" title="ä»£ç æ ¼å¼åŒ–"></a>ä»£ç æ ¼å¼åŒ–</h3><p>å°†è§£æä»£ç æ ¼å¼åŒ–å­˜å‚¨åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œä»¥string formatçš„å½¢å¼å­˜åœ¨ã€‚</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;public class CSVCodeConfig {    public static string DataClassFormat = @&quot;public class {0}{{    {1}}}&quot;;    //å¦‚æœæ˜¯å¸¦Vector3æˆ–è€…Vector3ç±»å‹çš„æ•°æ®éœ€è¦ä½¿ç”¨å¸¦æœ‰UnityEngiineå‘½åç©ºé—´    public static string DataClassNameSpaceFormat = @&quot;using UnityEngine;public class {0}{{    {1}    }}&quot;;    public static string FieldFormat = &quot;\tpubilc {0} {1} {{ set; get; }}&quot;;    public static string ClassNameFormat = &quot;{0}Model&quot;;    public static string ModelListPrivateStatementFormat = &quot;private List&lt;{0}&gt; {1}&quot;;    public static string ModelListPublicPropertyFormat = @&quot;public List&lt;{0}&gt; {1}{{        get        {{            if({2} == null)            {{                {3}();            }}        return {4};    }}}}&quot;;    public static string parseMethodNameFormat = &quot;Init{0}&quot;;    public static string methodFormat = &quot;{0}();&quot;;    public static string ModelDataParseMethodFormat = @&quot;private void {0}(){{        {1} = new List<{2}>;        string path = DEFAULT_CSV_PATH + {3};        CSVTable csvTable = CsvLoader.LoadCSV(path);        foreach (CSVRecord record in csvTable.Records)        {{            {4} temp = new {5}();            foreach (string header in csvTable.Headers)            {{                {6}            }}        {7}.Add(temp);    }}}}&quot;;    public static string ModelDataHeaderEqualFormat_1 = @&quot;if (string.Equals(header, {0}))            {{                    {1}                }}&quot;;    public static string ModelDataHeaderEqualFormat_2 = @&quot;            else if (string.Equals(header, {0}))            {{                    {1}                }}&quot;;    public static string ModelDataFieldValuationFormat_String = &quot;temp.{0} = record.GetField(header);&quot;;    public static string ModelDataFieldValuationFormat_Int = &quot;temp.{0} = ConvertUtil.Str2Int(record.GetField(header));&quot;;    public static string ModelDataFieldValuationFormat_Double = &quot;temp.{0} = ConvertUtil.Str2Double(record.GetField(header));&quot;;    public static string ModelDataFieldValuationFormat_Bool = &quot;temp.{0} = ConvertUtil.Str2Int(record.GetField(header)) != 0;&quot;;}</{2}></code></pre><h3 id="å®Œæ•´å·¥ç¨‹"><a href="#å®Œæ•´å·¥ç¨‹" class="headerlink" title="å®Œæ•´å·¥ç¨‹"></a>å®Œæ•´å·¥ç¨‹</h3><p><a href="https://github.com/JingFengJi/CSVParseCodeCreate" target="_blank" rel="noopener"> https://github.com/JingFengJi/CSVParseCodeCreate</a></p><h3 id="ç¬¬ä¸‰æ–¹ReorderableListç¼–è¾‘å™¨å·¥å…·"><a href="#ç¬¬ä¸‰æ–¹ReorderableListç¼–è¾‘å™¨å·¥å…·" class="headerlink" title="ç¬¬ä¸‰æ–¹ReorderableListç¼–è¾‘å™¨å·¥å…·"></a>ç¬¬ä¸‰æ–¹ReorderableListç¼–è¾‘å™¨å·¥å…·</h3><p>Rotorz</p><p>ä¸‹è½½åœ°å€ï¼š <a href="https://bitbucket.org/rotorz/reorderable-list-editor-field-for-unity" target="_blank" rel="noopener"> https://bitbucket.org/rotorz/reorderable-list-editor-field-for-unity</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSVæ–‡ä»¶è§£æä»£ç ç”Ÿæˆå·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸¸æˆåŠŸèƒ½æ¨¡å—â€”â€”æ–°æ‰‹å¼•å¯¼</title>
      <link href="/2018/07/06/you-xi-gong-neng-mo-kuai-xin-shou-yin-dao/"/>
      <url>/2018/07/06/you-xi-gong-neng-mo-kuai-xin-shou-yin-dao/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–°æ‰‹å¼•å¯¼"><a href="#æ–°æ‰‹å¼•å¯¼" class="headerlink" title="æ–°æ‰‹å¼•å¯¼"></a>æ–°æ‰‹å¼•å¯¼</h1><h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180706225632527?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h3 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h3><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180706225847458?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><h5 id="é®ç½©Shader"><a href="#é®ç½©Shader" class="headerlink" title="é®ç½©Shader"></a>é®ç½©Shader</h5><p>1ã€åœ†å½¢é®ç½©</p><pre><code>// Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt)Shader &quot;UI/BeginnerGuidance/CircleGuidance&quot;{    Properties    {        [PerRendererData] _MainTex (&quot;Sprite Texture&quot;, 2D) = &quot;white&quot; {}        _Color (&quot;Tint&quot;, Color) = (1,1,1,1)        _StencilComp (&quot;Stencil Comparison&quot;, Float) = 8        _Stencil (&quot;Stencil ID&quot;, Float) = 0        _StencilOp (&quot;Stencil Operation&quot;, Float) = 0        _StencilWriteMask (&quot;Stencil Write Mask&quot;, Float) = 255        _StencilReadMask (&quot;Stencil Read Mask&quot;, Float) = 255        _ColorMask (&quot;Color Mask&quot;, Float) = 15        [Toggle(UNITY_UI_ALPHACLIP)] _UseUIAlphaClip (&quot;Use Alpha Clip&quot;, Float) = 0        _Center(&quot;Center&quot;,vector) = (0,0,0,0)        _Slider(&quot;Slider&quot;,Range(0,1500)) = 1500    }    SubShader    {        Tags        {            &quot;Queue&quot;=&quot;Transparent&quot;            &quot;IgnoreProjector&quot;=&quot;True&quot;            &quot;RenderType&quot;=&quot;Transparent&quot;            &quot;PreviewType&quot;=&quot;Plane&quot;            &quot;CanUseSpriteAtlas&quot;=&quot;True&quot;        }        Stencil        {            Ref [_Stencil]            Comp [_StencilComp]            Pass [_StencilOp]            ReadMask [_StencilReadMask]            WriteMask [_StencilWriteMask]        }        Cull Off        Lighting Off        ZWrite Off        ZTest [unity_GUIZTestMode]        Blend SrcAlpha OneMinusSrcAlpha        ColorMask [_ColorMask]        Pass        {            Name &quot;Default&quot;        CGPROGRAM            #pragma vertex vert            #pragma fragment frag            #pragma target 2.0            #include &quot;UnityCG.cginc&quot;            #include &quot;UnityUI.cginc&quot;            #pragma multi_compile __ UNITY_UI_CLIP_RECT            #pragma multi_compile __ UNITY_UI_ALPHACLIP            struct appdata_t            {                float4 vertex   : POSITION;                float4 color    : COLOR;                float2 texcoord : TEXCOORD0;                UNITY_VERTEX_INPUT_INSTANCE_ID            };            struct v2f            {                float4 vertex   : SV_POSITION;                fixed4 color    : COLOR;                float2 texcoord  : TEXCOORD0;                float4 worldPosition : TEXCOORD1;                UNITY_VERTEX_OUTPUT_STEREO            };            fixed4 _Color;            fixed4 _TextureSampleAdd;            float4 _ClipRect;            float2 _Center;            float _Slider;            v2f vert(appdata_t v)            {                v2f OUT;                UNITY_SETUP_INSTANCE_ID(v);                UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(OUT);                OUT.worldPosition = v.vertex;                OUT.vertex = UnityObjectToClipPos(OUT.worldPosition);                OUT.texcoord = v.texcoord;                OUT.color = v.color * _Color;                return OUT;            }            sampler2D _MainTex;            fixed4 frag(v2f IN) : SV_Target            {                half4 color = (tex2D(_MainTex, IN.texcoord) + _TextureSampleAdd) * IN.color;                #ifdef UNITY_UI_CLIP_RECT                color.a *= UnityGet2DClipping(IN.worldPosition.xy, _ClipRect);                #endif                #ifdef UNITY_UI_ALPHACLIP                clip (color.a - 0.001);                #endif                color.a *= (distance(IN.worldPosition.xy, _Center.xy) &gt; _Slider);                color.rgb *= color.a;                return color;            }        ENDCG        }    }}</code></pre><p>2ã€çŸ©å½¢é®ç½©</p><pre><code>// Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt)Shader &quot;UI/BeginnerGuidance/Rect&quot;{    Properties    {        [PerRendererData] _MainTex (&quot;Sprite Texture&quot;, 2D) = &quot;white&quot; {}        _Color (&quot;Tint&quot;, Color) = (1,1,1,1)        _StencilComp (&quot;Stencil Comparison&quot;, Float) = 8        _Stencil (&quot;Stencil ID&quot;, Float) = 0        _StencilOp (&quot;Stencil Operation&quot;, Float) = 0        _StencilWriteMask (&quot;Stencil Write Mask&quot;, Float) = 255        _StencilReadMask (&quot;Stencil Read Mask&quot;, Float) = 255        _ColorMask (&quot;Color Mask&quot;, Float) = 15        [Toggle(UNITY_UI_ALPHACLIP)] _UseUIAlphaClip (&quot;Use Alpha Clip&quot;, Float) = 0        _Center(&quot;Center&quot;,vector) = (0,0,0,0)        _SliderX(&quot;SliderX&quot;,Range(0,1500)) = 1500        _SliderY(&quot;SliderY&quot;,Range(0,1500)) = 1500    }    SubShader    {        Tags        {            &quot;Queue&quot;=&quot;Transparent&quot;            &quot;IgnoreProjector&quot;=&quot;True&quot;            &quot;RenderType&quot;=&quot;Transparent&quot;            &quot;PreviewType&quot;=&quot;Plane&quot;            &quot;CanUseSpriteAtlas&quot;=&quot;True&quot;        }        Stencil        {            Ref [_Stencil]            Comp [_StencilComp]            Pass [_StencilOp]            ReadMask [_StencilReadMask]            WriteMask [_StencilWriteMask]        }        Cull Off        Lighting Off        ZWrite Off        ZTest [unity_GUIZTestMode]        Blend SrcAlpha OneMinusSrcAlpha        ColorMask [_ColorMask]        Pass        {            Name &quot;Default&quot;        CGPROGRAM            #pragma vertex vert            #pragma fragment frag            #pragma target 2.0            #include &quot;UnityCG.cginc&quot;            #include &quot;UnityUI.cginc&quot;            #pragma multi_compile __ UNITY_UI_CLIP_RECT            #pragma multi_compile __ UNITY_UI_ALPHACLIP            struct appdata_t            {                float4 vertex   : POSITION;                float4 color    : COLOR;                float2 texcoord : TEXCOORD0;                UNITY_VERTEX_INPUT_INSTANCE_ID            };            struct v2f            {                float4 vertex   : SV_POSITION;                fixed4 color    : COLOR;                float2 texcoord  : TEXCOORD0;                float4 worldPosition : TEXCOORD1;                UNITY_VERTEX_OUTPUT_STEREO            };            fixed4 _Color;            fixed4 _TextureSampleAdd;            float4 _ClipRect;            float2 _Center;            float _SliderX;            float _SliderY;            v2f vert(appdata_t v)            {                v2f OUT;                UNITY_SETUP_INSTANCE_ID(v);                UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(OUT);                OUT.worldPosition = v.vertex;                OUT.vertex = UnityObjectToClipPos(OUT.worldPosition);                OUT.texcoord = v.texcoord;                OUT.color = v.color * _Color;                return OUT;            }            sampler2D _MainTex;            fixed4 frag(v2f IN) : SV_Target            {                half4 color = (tex2D(_MainTex, IN.texcoord) + _TextureSampleAdd) * IN.color;                #ifdef UNITY_UI_CLIP_RECT                color.a *= UnityGet2DClipping(IN.worldPosition.xy, _ClipRect);                #endif                #ifdef UNITY_UI_ALPHACLIP                clip (color.a - 0.001);                #endif                float2 dis = IN.worldPosition.xy - _Center.xy;                color.a *= (abs(dis.x) &gt; _SliderX) || (abs(dis.y) &gt; _SliderY);                color.rgb *= color.a;                return color;            }        ENDCG        }    }}</code></pre><p>æŒç»­æ›´æ–°ä¸­â€¦â€¦</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> æ¸¸æˆåŠŸèƒ½æ¨¡å— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–°æ‰‹å¼•å¯¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åäºŒï¼šé¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ</title>
      <link href="/2018/06/24/unity-bian-ji-qi-tuo-zhan-zhi-shi-er-yu-zhi-ti-ceng-ji-quan-yu-lan/"/>
      <url>/2018/06/24/unity-bian-ji-qi-tuo-zhan-zhi-shi-er-yu-zhi-ti-ceng-ji-quan-yu-lan/</url>
      
        <content type="html"><![CDATA[<h1 id="é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ"><a href="#é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ" class="headerlink" title="é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ"></a>é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ</h1><h3 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h3><p>Asseté¢æ¿ä¸‹é¢„åˆ¶ä½“å¹¶ä¸ä¼šæ˜¾ç¤ºå…¨ï¼Œåˆ¶ä½œä¸€ä¸ªå·¥å…·æ˜¾ç¤ºé¢„åˆ¶ä½“çš„å…¨éƒ¨å±‚çº§ï¼Œè¿™ç®—æ˜¯TreeViewçš„ä¸€ä¸ªåº”ç”¨</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018062422144114?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>ä»£ç ä¸­ç”¨äº† <a href="https://blog.csdn.net/qq_26999509/article/details/80794973" target="_blank" rel="noopener"> Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸€ï¼šé€šè¿‡Image NameåæŸ¥Prefab</a><br>ä¸­çš„ä¸€ä¸ªç±»PrefabTreeView</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEditor.IMGUI.Controls;using UnityEngine;public class GameObjectTreeViewItem {    public TreeViewItem viewItem;    public Transform treeViewTrans;    public Transform parent;    public List&lt;Transform&gt; childs = new List&lt;Transform&gt; ();    public bool IsChild (Transform tran) {        if (null == tran) return false;        if (tran.parent == treeViewTrans) return true;        return false;    }    public void AddChildTransform (Transform childTransform) {        if (null != childTransform)            childs.Add (childTransform);    }    public bool HasChildTransform (Transform tran) {        if (null == tran) return false;        return childs.Contains (tran);    }}public class PrefabTreeView : TreeView {    private Transform[] childs;    private GameObjectTreeViewItem[] items;    public PrefabTreeView (TreeViewState state, GameObject go) : base (state) {        treeGameObject = go;        childs = treeGameObject.GetComponentsInChildren&lt;Transform&gt; (true);        items = new GameObjectTreeViewItem[childs.Length];        #region Init Items Parent        for (int i = 0; i &lt; childs.Length; i++) {            items[i] = new GameObjectTreeViewItem ();            items[i].treeViewTrans = childs[i];            if (childs[i].parent != null)                items[i].parent = childs[i].parent;        }        #endregion        #region Init Child Transform        for (int i = 0; i &lt; childs.Length; i++) {            for (int j = 0; j &lt; items.Length; j++) {                if (items[j].IsChild (childs[i])) {                    items[j].AddChildTransform (childs[i]);                    break;                }            }        }        #endregion        Reload ();    }    private GameObject treeGameObject;    private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, Transform trans) {        if (null == items || items.Length == 0 || trans == null)            return null;        for (int i = 0; i &lt; items.Length; i++) {            if (items[i] != null &amp;&amp; items[i].treeViewTrans == trans)                return items[i];        }        return null;    }    private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, TreeViewItem viewItem) {        if (null == items || items.Length == 0 || viewItem == null)            return null;        for (int i = 0; i &lt; items.Length; i++) {            if (null != items &amp;&amp; items[i].viewItem == viewItem)                return items[i];        }        return null;    }    protected override TreeViewItem BuildRoot () {        TreeViewItem root = new TreeViewItem { id = 0, depth = -1, displayName = &quot;root&quot; };        TreeViewItem[] childItems = new TreeViewItem[childs.Length];        for (int i = 0; i &lt; childs.Length; i++) {            childItems[i] = new TreeViewItem { id = i + 1, displayName = childs[i].name };            GameObjectTreeViewItem item = GetGameObjectTreeViewItem (items, childs[i]);            if (null != item) {                item.viewItem = childItems[i];            }        }        root.AddChild (childItems[0]);        for (int i = 0; i &lt; childItems.Length; i++) {            GameObjectTreeViewItem temp = GetGameObjectTreeViewItem (items, childItems[i]);            if (temp != null &amp;&amp; temp.childs != null) {                for (int j = 0; j &lt; temp.childs.Count; j++) {                    GameObjectTreeViewItem childItem = GetGameObjectTreeViewItem (items, temp.childs[j]);                    if (childItem != null &amp;&amp; childItem.viewItem != null) {                        childItems[i].AddChild (childItem.viewItem);                    }                }            }        }        SetupDepthsFromParentsAndChildren (root);        return root;    }}using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEditor.IMGUI.Controls;using UnityEngine;public class PrefabViewWindow : EditorWindow {    private GameObject selectPrefab = null;    [SerializeField]    TreeViewState treeViewState;    PrefabTreeView prefabTreeView;    void OnEnable () {        if (null == treeViewState)            treeViewState = new TreeViewState ();    }    [MenuItem (&quot;PrefabView/PrefabViewWindow&quot;)]    private static void ShowWindow () {        GetWindow&lt;PrefabViewWindow&gt; ().Show ();    }    private void OnGUI () {        if (null != selectPrefab) {            Rect rect = GUILayoutUtility.GetRect (0, 100000, 0, 100000);            prefabTreeView = new PrefabTreeView (treeViewState, selectPrefab);            prefabTreeView.OnGUI (rect);            prefabTreeView.ExpandAll ();        } else {        }    }    void OnSelectionChange () {        selectPrefab = Selection.activeObject as GameObject;        Repaint();    }}</code></pre><h3 id="Codeä¸‹è½½"><a href="#Codeä¸‹è½½" class="headerlink" title="Codeä¸‹è½½"></a>Codeä¸‹è½½</h3><p><a href="https://github.com/JingFengJi/PrefabViewWindow" target="_blank" rel="noopener"> https://github.com/JingFengJi/PrefabViewWindow</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢„åˆ¶ä½“å±‚çº§å…¨é¢„è§ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åä¸€ï¼šé€šè¿‡Image NameåæŸ¥Prefab</title>
      <link href="/2018/06/24/unity-bian-ji-qi-tuo-zhan-zhi-shi-yi-tong-guo-image-name-fan-cha-prefab/"/>
      <url>/2018/06/24/unity-bian-ji-qi-tuo-zhan-zhi-shi-yi-tong-guo-image-name-fan-cha-prefab/</url>
      
        <content type="html"><![CDATA[<h1 id="é€šè¿‡Image-Nameå¿«é€ŸåæŸ¥Prefab"><a href="#é€šè¿‡Image-Nameå¿«é€ŸåæŸ¥Prefab" class="headerlink" title="é€šè¿‡Image Nameå¿«é€ŸåæŸ¥Prefab"></a>é€šè¿‡Image Nameå¿«é€ŸåæŸ¥Prefab</h1><h3 id="å¼€å‘æ€è·¯"><a href="#å¼€å‘æ€è·¯" class="headerlink" title="å¼€å‘æ€è·¯"></a>å¼€å‘æ€è·¯</h3><p>1ã€è·å–åˆ°å·¥ç¨‹ä¸­æ‰€æœ‰Prefab<br>2ã€è·å–Prefabçš„æ‰€æœ‰Imageå’ŒRawImage<br>3ã€æ£€æµ‹Prefabä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šåç§°çš„Image</p><h3 id="ç¼–è¾‘å™¨ç¤ºæ„å›¾"><a href="#ç¼–è¾‘å™¨ç¤ºæ„å›¾" class="headerlink" title="ç¼–è¾‘å™¨ç¤ºæ„å›¾"></a>ç¼–è¾‘å™¨ç¤ºæ„å›¾</h3><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018062421264348?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>ç¼–è¾‘å™¨åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š<br>1ã€æœç´¢æ¡†<br>2ã€é¢„åˆ¶ä½“åˆ—è¡¨<br>3ã€é¢„åˆ¶ä½“å±‚çº§</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><pre><code>using System.Collections;using System.Collections.Generic;using System.IO;using UnityEditor;using UnityEditor.IMGUI.Controls;using UnityEngine;using UnityEngine.UI;public class FindPrefabByImage : EditorWindow {        private static string assetPath;        private static List&lt;string&gt; prefabPaths = new List&lt;string&gt; ();        private bool initialized = false;        private SearchField searchField;        private string searchStr;        Rect toolbarRect {            get { return new Rect (20f, 10f, position.width - 40f, 20f); }        }        Rect searchResultViewRect {            get { return new Rect (20f, 40f, (position.width - 40) / 2, position.height - 40f); }        }        Rect selectPrefabHierarchyViewRect {            get { return new Rect (position.width / 2, 40, (position.width - 40) / 2, position.height - 40f); }        }        Vector2 searchResultScrollViewPos = Vector2.zero;        [SerializeField]        TreeViewState treeViewState;        PrefabTreeView prefabTreeView;        private GameObject curSelectPrefab;        void OnEnable () {            if (null == treeViewState)                treeViewState = new TreeViewState ();        }        [MenuItem (&quot;CommonTools/å›¾ç‰‡åæŸ¥é¢„åˆ¶ä½“å¼•ç”¨å·¥å…·&quot;)]        public static FindPrefabByImage GetWindow () {            prefabPaths.Clear ();            assetPath = Application.dataPath;            GetFiles (new DirectoryInfo (assetPath), &quot;*.prefab&quot;, ref prefabPaths);            var window = GetWindow&lt;FindPrefabByImage&gt; ();            window.titleContent = new GUIContent (&quot;FindPrefab&quot;);            window.Focus ();            window.Repaint ();            return window;        }        public static void GetFiles (DirectoryInfo directory, string pattern, ref List&lt;string&gt; fileList) {            if (directory != null &amp;&amp; directory.Exists &amp;&amp; !string.IsNullOrEmpty (pattern)) {                try {                    foreach (FileInfo info in directory.GetFiles (pattern)) {                        string path = info.FullName.ToString ();                        fileList.Add (path.Substring (path.IndexOf (&quot;Assets&quot;)));                    }                } catch (System.Exception) {                    throw;                }                foreach (DirectoryInfo info in directory.GetDirectories ()) {                    GetFiles (info, pattern, ref fileList);                }            }        }        /// &lt;summary&gt;        /// æ£€æµ‹é¢„åˆ¶ä½“æ˜¯å¦åŒ…å«Imageç»„ä»¶        /// &lt;/summary&gt;        /// &lt;param name=&quot;prefab&quot;&gt;æ£€æµ‹çš„é¢„åˆ¶ä½“&lt;/param&gt;        /// &lt;param name=&quot;imageName&quot;&gt;Imageåç§°ï¼Œå¯ä¸ºç©º&lt;/param&gt;        /// &lt;returns&gt;å¦‚æœImageåç§°ä¸ºç©ºä¸”é¢„åˆ¶ä½“åŒ…å«Imageç»„ä»¶ï¼Œæˆ–è€…Imageä¸ä¸ºç©ºé¢„åˆ¶ä½“åŒ…å«è¯¥æŒ‡å®šImageï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false&lt;/returns&gt;        public static bool CheckPrefabHasImage (GameObject prefab, string imageName = null) {            if (!string.IsNullOrEmpty (imageName))                imageName = imageName.ToLower ();            if (null == prefab) return false;            Image[] images = prefab.GetComponentsInChildren&lt;Image&gt; (true);            if (null != images &amp;&amp; images.Length &gt; 0) {                if (string.IsNullOrEmpty (imageName)) {                    return true;                } else {                    for (int i = 0; i &lt; images.Length; i++) {                        if (null != images[i] &amp;&amp; images[i].sprite != null &amp;&amp; images[i].sprite.name.ToLower() == imageName) {                            return true;                        }                    }                }            }            RawImage[] rawImages = prefab.GetComponentsInChildren&lt;RawImage&gt; (true);            if (null != rawImages &amp;&amp; rawImages.Length &gt; 0) {                if (string.IsNullOrEmpty (imageName)) {                    return true;                } else {                    for (int i = 0; i &lt; rawImages.Length; i++) {                        if (null != rawImages[i] &amp;&amp; null != rawImages[i].texture &amp;&amp; rawImages[i].texture.name.ToLower() == imageName) {                            return true;                        }                    }                }            }            return false;        }        private void InitIfNeeded () {            if (!initialized) {                if (null == searchField)                    searchField = new SearchField ();                initialized = true;            }        }        void OnGUI () {            InitIfNeeded ();            DoSearchField ();            DoSearchResultView ();            DoSelectPrefabHierarchyVieww ();        }        private void DoSearchField () {            searchStr = searchField.OnGUI (toolbarRect, searchStr);        }        private void DoSearchResultView () {            GUILayout.BeginArea (searchResultViewRect);            searchResultScrollViewPos = GUILayout.BeginScrollView (searchResultScrollViewPos);            for (int i = 0; i &lt; prefabPaths.Count; i++) {                 GameObject gameObj = AssetDatabase.LoadAssetAtPath&lt;GameObject&gt; (@prefabPaths[i]);                if (gameObj != null)                {                    bool result = CheckPrefabHasImage (gameObj,searchStr);                    if (result)                    {                        if (GUILayout.Button (prefabPaths[i]))                        {                            curSelectPrefab = gameObj;                        }                    }                }            }            GUILayout.EndScrollView ();            GUILayout.EndArea ();        }    private void DoSelectPrefabHierarchyVieww () {        GUILayout.BeginArea (selectPrefabHierarchyViewRect);        if (null != curSelectPrefab) {            Rect rect = GUILayoutUtility.GetRect (0, 100000, 0, 100000);            prefabTreeView = new PrefabTreeView (treeViewState, curSelectPrefab);            prefabTreeView.OnGUI (rect);            prefabTreeView.ExpandAll ();        } else {        }        GUILayout.EndArea ();    }}using System.Collections;using System.Collections.Generic;using UnityEditor.IMGUI.Controls;using UnityEngine;public class GameObjectTreeViewItem {    public TreeViewItem viewItem;    public Transform treeViewTrans;    public Transform parent;    public List&lt;Transform&gt; childs = new List&lt;Transform&gt; ();    public bool IsChild (Transform tran) {        if (null == tran) return false;        if (tran.parent == treeViewTrans) return true;        return false;    }    public void AddChildTransform (Transform childTransform) {        if (null != childTransform)            childs.Add (childTransform);    }    public bool HasChildTransform (Transform tran) {        if (null == tran) return false;        return childs.Contains (tran);    }}public class PrefabTreeView : TreeView {    private Transform[] childs;    private GameObjectTreeViewItem[] items;    public PrefabTreeView (TreeViewState state, GameObject go) : base (state) {        treeGameObject = go;        childs = treeGameObject.GetComponentsInChildren&lt;Transform&gt; (true);        items = new GameObjectTreeViewItem[childs.Length];        #region Init Items Parent        for (int i = 0; i &lt; childs.Length; i++) {            items[i] = new GameObjectTreeViewItem ();            items[i].treeViewTrans = childs[i];            if (childs[i].parent != null)                items[i].parent = childs[i].parent;        }        #endregion        #region Init Child Transform        for (int i = 0; i &lt; childs.Length; i++) {            for (int j = 0; j &lt; items.Length; j++) {                if (items[j].IsChild (childs[i])) {                    items[j].AddChildTransform (childs[i]);                    break;                }            }        }        #endregion        Reload ();    }    private GameObject treeGameObject;    private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, Transform trans) {        if (null == items || items.Length == 0 || trans == null)            return null;        for (int i = 0; i &lt; items.Length; i++) {            if (items[i] != null &amp;&amp; items[i].treeViewTrans == trans)                return items[i];        }        return null;    }    private GameObjectTreeViewItem GetGameObjectTreeViewItem (GameObjectTreeViewItem[] items, TreeViewItem viewItem) {        if (null == items || items.Length == 0 || viewItem == null)            return null;        for (int i = 0; i &lt; items.Length; i++) {            if (null != items &amp;&amp; items[i].viewItem == viewItem)                return items[i];        }        return null;    }    protected override TreeViewItem BuildRoot () {        TreeViewItem root = new TreeViewItem { id = 0, depth = -1, displayName = &quot;root&quot; };        TreeViewItem[] childItems = new TreeViewItem[childs.Length];        for (int i = 0; i &lt; childs.Length; i++) {            childItems[i] = new TreeViewItem { id = i + 1, displayName = childs[i].name };            GameObjectTreeViewItem item = GetGameObjectTreeViewItem (items, childs[i]);            if (null != item) {                item.viewItem = childItems[i];            }        }        root.AddChild (childItems[0]);        for (int i = 0; i &lt; childItems.Length; i++) {            GameObjectTreeViewItem temp = GetGameObjectTreeViewItem (items, childItems[i]);            if (temp != null &amp;&amp; temp.childs != null) {                for (int j = 0; j &lt; temp.childs.Count; j++) {                    GameObjectTreeViewItem childItem = GetGameObjectTreeViewItem (items, temp.childs[j]);                    if (childItem != null &amp;&amp; childItem.viewItem != null) {                        childItems[i].AddChild (childItem.viewItem);                    }                }            }        }        SetupDepthsFromParentsAndChildren (root);        return root;    }}</code></pre><p>ä»£ç ä¸­ç”¨åˆ°äº†TreeViewçš„çŸ¥è¯†ï¼Œè¯·è‡ªè¡Œè¡¥å……ï¼Œåç»­ä¼šæ›´æ–°å…³ç³»TreeViewçš„çŸ¥è¯†ç‚¹</p><h3 id="Codeä¸‹è½½"><a href="#Codeä¸‹è½½" class="headerlink" title="Codeä¸‹è½½"></a>Codeä¸‹è½½</h3><p><a href="https://github.com/JingFengJi/FindPrefabByImage" target="_blank" rel="noopener"> https://github.com/JingFengJi/FindPrefabByImage</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹åï¼šUIå¯¹é½å·¥å…·</title>
      <link href="/2018/06/22/unity-bian-ji-qi-tuo-zhan-zhi-shi-ui-dui-qi-gong-ju/"/>
      <url>/2018/06/22/unity-bian-ji-qi-tuo-zhan-zhi-shi-ui-dui-qi-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¤ºä¾‹å›¾"><a href="#ç¤ºä¾‹å›¾" class="headerlink" title="ç¤ºä¾‹å›¾"></a>ç¤ºä¾‹å›¾</h1><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180622214023588?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180622214216448?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h1 id="å¼€å‘æ€è·¯"><a href="#å¼€å‘æ€è·¯" class="headerlink" title="å¼€å‘æ€è·¯"></a>å¼€å‘æ€è·¯</h1><p>1ã€è·å–é€‰ä¸­çš„UI<br>2ã€æ ¹æ®å¯¹é½è§„åˆ™ä¿®æ”¹æ‰€é€‰ä¸­UIçš„åæ ‡</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><h2 id="UGUIAlign-cs"><a href="#UGUIAlign-cs" class="headerlink" title="UGUIAlign.cs"></a>UGUIAlign.cs</h2><pre><code>using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEngine;public enum AlignType{    Top = 1,    Left = 2,    Right = 3,    Bottom = 4,    HorizontalCenter = 5,       //æ°´å¹³å±…ä¸­    VerticalCenter = 6,         //å‚ç›´å±…ä¸­    Horizontal = 7,             //æ¨ªå‘åˆ†å¸ƒ    Vertical = 8,               //çºµå‘åˆ†å¸ƒ}public class UGUIAlign : Editor{    [MenuItem(&quot;GameObject/UI/Align/Left ã€å·¦å¯¹é½ã€‘&quot;)]    static void AlignLeft()    {        Align(AlignType.Left);    }    [MenuItem(&quot;GameObject/UI/Align/HorizontalCenter ã€æ°´å¹³å±…ä¸­ã€‘&quot;)]    static void AlignHorizontalCenter()    {        Align(AlignType.HorizontalCenter);    }    [MenuItem(&quot;GameObject/UI/Align/Right ã€å³å¯¹é½ã€‘&quot;)]    static void AlignRight()    {        Align(AlignType.Right);    }    [MenuItem(&quot;GameObject/UI/Align/Top ã€é¡¶ç«¯å¯¹é½ã€‘&quot;)]    static void AlignTop()    {        Align(AlignType.Top);    }    [MenuItem(&quot;GameObject/UI/Align/VerticalCenter ã€å‚ç›´å±…ä¸­ã€‘&quot;)]    static void AlignVerticalCenter()    {        Align(AlignType.VerticalCenter);    }    [MenuItem(&quot;GameObject/UI/Align/Bottom ã€åº•ç«¯å¯¹é½ã€‘&quot;)]    static void AlignBottom()    {        Align(AlignType.Bottom);    }    [MenuItem(&quot;GameObject/UI/Align/Horizontal ã€æ¨ªå‘åˆ†å¸ƒã€‘&quot;)]    static void AlignHorizontal()    {        Align(AlignType.Horizontal);    }    [MenuItem(&quot;GameObject/UI/Align/Vertical ã€çºµå‘åˆ†å¸ƒã€‘&quot;)]    static void AlignVertical()    {        Align(AlignType.Vertical);    }    public static void Align(AlignType type)    {        List&lt;RectTransform&gt; rects = new List&lt;RectTransform&gt;();        GameObject[] objects = Selection.gameObjects;        if (objects != null &amp;&amp; objects.Length &gt; 0)        {            for (int i = 0; i &lt; objects.Length; i++)            {                RectTransform rect = objects[i].GetComponent&lt;RectTransform&gt;();                if (rect != null)                    rects.Add(rect);            }        }        if (rects.Count &gt; 1)        {            Align(type, rects);        }    }    public static void Align(AlignType type, List&lt;RectTransform&gt; rects)    {        RectTransform tenplate = rects[0];        float w = tenplate.sizeDelta.x * tenplate.lossyScale.x;        float h = tenplate.sizeDelta.y * tenplate.localScale.y;        float x = tenplate.position.x - tenplate.pivot.x * w;        float y = tenplate.position.y - tenplate.pivot.y * h;        switch (type)        {            case AlignType.Top:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float th = trans.sizeDelta.y * trans.localScale.y;                    Vector3 pos = trans.position;                    pos.y = y + h - th + trans.pivot.y * th;                    trans.position = pos;                }                break;            case AlignType.Left:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float tw = trans.sizeDelta.x * trans.lossyScale.x;                    Vector3 pos = trans.position;                    pos.x = x + tw * trans.pivot.x;                    trans.position = pos;                }                break;            case AlignType.Right:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float tw = trans.sizeDelta.x * trans.lossyScale.x;                    Vector3 pos = trans.position;                    pos.x = x + w - tw + tw * trans.pivot.x;                    trans.position = pos;                }                break;            case AlignType.Bottom:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float th = trans.sizeDelta.y * trans.localScale.y;                    Vector3 pos = trans.position;                    pos.y = y + th * trans.pivot.y;                    trans.position = pos;                }                break;            case AlignType.HorizontalCenter:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float tw = trans.sizeDelta.x * trans.lossyScale.x;                    Vector3 pos = trans.position;                    pos.x = x + 0.5f * w - 0.5f * tw + tw * trans.pivot.x;                    trans.position = pos;                }                break;            case AlignType.VerticalCenter:                for (int i = 1; i &lt; rects.Count; i++)                {                    RectTransform trans = rects[i];                    float th = trans.sizeDelta.y * trans.localScale.y;                    Vector3 pos = trans.position;                    pos.y = y + 0.5f * h - 0.5f * th + th * trans.pivot.y;                    trans.position = pos;                }                break;            case AlignType.Horizontal:                float minX = GetMinX(rects);                float maxX = GetMaxX(rects);                rects.Sort(SortListRectTransformByX);                float distance = (maxX - minX)/(rects.Count - 1);                for (int i = 1; i &lt; rects.Count - 1; i++)                {                    RectTransform trans = rects[i];                    Vector3 pos = trans.position;                    pos.x = minX + i * distance;                    trans.position = pos;                }                break;            case AlignType.Vertical:                float minY = GetMinY(rects);                float maxY = GetMaxY(rects);                rects.Sort(SortListRectTransformByY);                float distanceY = (maxY - minY)/(rects.Count - 1);                for (int i = 1; i &lt; rects.Count - 1; i++)                {                    RectTransform trans = rects[i];                    Vector3 pos = trans.position;                    pos.y = minY + i*distanceY;                    trans.position = pos;                }                break;        }    }    private static int SortListRectTransformByX(RectTransform r1, RectTransform r2)    {        float w = r1.sizeDelta.x * r1.lossyScale.x;        float x1 = r1.position.x - r1.pivot.x * w;        w = r2.sizeDelta.x * r2.lossyScale.x;        float x2 = r2.position.x - r2.pivot.x * w;        if (x1 &gt;= x2)            return 1;        else            return -1;    }    private static int SortListRectTransformByY(RectTransform r1, RectTransform r2)    {        float w = r1.sizeDelta.y * r1.lossyScale.y;        float y1 = r1.position.y - r1.pivot.y * w;        w = r2.sizeDelta.y * r2.lossyScale.y;        float y2 = r2.position.y - r2.pivot.y * w;        if (y1 &gt;= y2)            return 1;        else            return -1;    }    private static float GetMinX(List&lt;RectTransform&gt; rects)    {        if (null == rects || rects.Count == 0)            return 0;        RectTransform tenplate = rects[0];        float minx = tenplate.position.x;        float tempX = 0;        for (int i = 1; i &lt; rects.Count; i++)        {            tempX = rects[i].position.x;            if (tempX &lt; minx)                minx = tempX;        }        return minx;    }    private static float GetMaxX(List&lt;RectTransform&gt; rects)    {        if (null == rects || rects.Count == 0)            return 0;        RectTransform tenplate = rects[0];        float maxX = tenplate.position.x;        float tempX = 0;        for (int i = 1; i &lt; rects.Count; i++)        {            tempX = rects[i].position.x;            if (tempX &gt; maxX)                maxX = tempX;        }        return maxX;    }    private static float GetMinY(List&lt;RectTransform&gt; rects)    {        if (null == rects || rects.Count == 0)            return 0;        RectTransform tenplate = rects[0];        float minY = tenplate.position.y;        float tempX = 0;        for (int i = 1; i &lt; rects.Count; i++)        {            tempX = rects[i].position.y;            if (tempX &lt; minY)                minY = tempX;        }        return minY;    }    private static float GetMaxY(List&lt;RectTransform&gt; rects)    {        if (null == rects || rects.Count == 0)            return 0;        RectTransform tenplate = rects[0];        float maxY = tenplate.position.y;        float tempX = 0;        for (int i = 1; i &lt; rects.Count; i++)        {            tempX = rects[i].position.y;            if (tempX &gt; maxY)                maxY = tempX;        }        return maxY;    }}</code></pre><h2 id="UGUIAlignWindow-cs"><a href="#UGUIAlignWindow-cs" class="headerlink" title="UGUIAlignWindow.cs"></a>UGUIAlignWindow.cs</h2><p>ä¸ºäº†æ“ä½œæ›´åŠ ä¾¿æ·ï¼Œæä¾›ä¸€ä¸ªEditorWindowç±»</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEngine;public class UGUIAlignWindow : EditorWindow{    private Dictionary&lt;AlignType,Texture&gt; alignTexture = new Dictionary&lt;AlignType, Texture&gt;();     void OnEnable()    {        Texture leftTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Left&quot;);        Texture horizontalCenterTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/HorizontalCenter&quot;);        Texture rightTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Right&quot;);        Texture topTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Top&quot;);        Texture verticalCenterTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/VerticalCenter&quot;);        Texture bottomTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Bottom&quot;);        Texture horizontalTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Horizontal&quot;);        Texture verticalTexture = Resources.Load&lt;Texture&gt;(&quot;Textures/Vertical&quot;);        alignTexture.Add(AlignType.Left, leftTexture);        alignTexture.Add(AlignType.HorizontalCenter, horizontalCenterTexture);        alignTexture.Add(AlignType.Right, rightTexture);        alignTexture.Add(AlignType.Top, topTexture);        alignTexture.Add(AlignType.VerticalCenter, verticalCenterTexture);        alignTexture.Add(AlignType.Bottom, bottomTexture);        alignTexture.Add(AlignType.Horizontal, horizontalTexture);        alignTexture.Add(AlignType.Vertical, verticalTexture);    }    [MenuItem(&quot;UGUIAlign/Align&quot;)]    public static UGUIAlignWindow GetWindow()    {        var window = GetWindow&lt;UGUIAlignWindow&gt;();        window.titleContent = new GUIContent(&quot;UGUI Align&quot;);        window.Focus();        window.Repaint();        return window;    }    void OnGUI()    {        GUILayout.BeginHorizontal();        GUILayout.BeginVertical();        for (int i = (int)AlignType.Top; i &lt;= (int)AlignType.Vertical; i++)        {            if (GUILayout.Button(alignTexture[(AlignType)i], &quot;LargeButton&quot;))            {                UGUIAlign.Align((AlignType)i);            }            if (i%3 == 0)            {                GUILayout.EndVertical();                GUILayout.BeginVertical();            }        }        GUILayout.EndVertical();        GUILayout.EndHorizontal();    }}</code></pre><h1 id="å¯¹é½å›¾ç‰‡èµ„æº"><a href="#å¯¹é½å›¾ç‰‡èµ„æº" class="headerlink" title="å¯¹é½å›¾ç‰‡èµ„æº"></a>å¯¹é½å›¾ç‰‡èµ„æº</h1><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018062221455923?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><h1 id="Codeä¸‹è½½"><a href="#Codeä¸‹è½½" class="headerlink" title="Codeä¸‹è½½"></a>Codeä¸‹è½½</h1><p><a href="https://github.com/JingFengJi/UGUIAlign" target="_blank" rel="noopener"> https://github.com/JingFengJi/UGUIAlign</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIå¯¹é½å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¹ï¼šSearchField</title>
      <link href="/2018/05/13/unity-bian-ji-qi-tuo-zhan-zhi-jiu-searchfield/"/>
      <url>/2018/05/13/unity-bian-ji-qi-tuo-zhan-zhi-jiu-searchfield/</url>
      
        <content type="html"><![CDATA[<p>Unityå®˜æ–¹ä»‹ç»æ–‡æ¡£ï¼š</p><p><a href="https://docs.unity3d.com/ScriptReference/IMGUI.Controls.SearchField.html" target="_blank" rel="noopener"> https://docs.unity3d.com/ScriptReference/IMGUI.Controls.SearchField.html</a></p><h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><p>1ã€autoSetFocusOnFindCommandï¼šå½“ç”¨æˆ·æŒ‰ä¸‹â€œCtrl/Cmd + Fâ€æ—¶ï¼Œèšç„¦è¯¥æ§ä»¶ï¼Œé»˜è®¤å€¼ä¸ºtrue<br>ç›¸å…³ä»£ç ï¼š</p><pre><code>private bool m_AutoSetFocusOnFindCommand = true;public bool autoSetFocusOnFindCommand{    get    {        return this.m_AutoSetFocusOnFindCommand;    }    set    {        this.m_AutoSetFocusOnFindCommand = value;    }}private void CommandEventHandling(){    Event current = Event.current;    if (current.type == EventType.ExecuteCommand || current.type == EventType.ValidateCommand)    {        //UnityEngineå†…éƒ¨åº”è¯¥å»ºç«‹äº†commandNameä¸æŒ‰é”®çš„å¯¹åº”å…³ç³»        //https://docs.unity3d.com/ScriptReference/Event-commandName.html        if (this.m_AutoSetFocusOnFindCommand &amp;&amp; current.commandName == &quot;Find&quot;)        {            if (current.type == EventType.ExecuteCommand)            {                this.SetFocus();            }            current.Use();        }    }}</code></pre><p>2ã€searchFieldControlID<br>æ§ä»¶çš„ControllIDï¼Œå°±ä¸å¤šä»‹ç»äº†ï¼Œæ„é€ å‡½æ•°é‡Œä¼šä¸ºå®ƒèµ‹å€¼ã€‚</p><h1 id="å…¬æœ‰å‡½æ•°ï¼š"><a href="#å…¬æœ‰å‡½æ•°ï¼š" class="headerlink" title="å…¬æœ‰å‡½æ•°ï¼š"></a>å…¬æœ‰å‡½æ•°ï¼š</h1><p>æ„é€ å‡½æ•°ï¼š</p><pre><code>public SearchField(){    this.m_ControlID = GUIUtility.GetPermanentControlID();}</code></pre><p>HasFocusï¼š</p><pre><code>public bool HasFocus(){    return GUIUtility.keyboardControl == this.m_ControlID;}</code></pre><p>SetFocusï¼š</p><pre><code>public void SetFocus(){    this.m_WantsFocus = true;}</code></pre><p>OnGUI<br>æä¾›äº†ä¸‰ä¸ªé‡è½½ï¼š</p><pre><code>public string OnGUI(string text, params GUILayoutOption[] options);public string OnGUI(Rect rect, string text);public string OnGUI(Rect rect, string text, GUIStyle style, GUIStyle cancelButtonStyle, GUIStyle emptyCancelButtonStyle);public string OnGUI(Rect rect, string text, GUIStyle style, GUIStyle cancelButtonStyle, GUIStyle emptyCancelButtonStyle){    this.CommandEventHandling();    this.FocusAndKeyHandling();    float fixedWidth = cancelButtonStyle.fixedWidth;    Rect position = rect;    position.width -= fixedWidth;    text = EditorGUI.TextFieldInternal(this.m_ControlID, position, text, style);    Rect position2 = rect;    position2.x += rect.width - fixedWidth;    position2.width = fixedWidth;    //æœç´¢æ¡†çš„ X æŒ‰é’®    if (GUI.Button(position2, GUIContent.none, (!(text != &quot;&quot;)) ? emptyCancelButtonStyle : cancelButtonStyle) &amp;&amp; text != &quot;&quot;)    {        //æœç´¢æ–‡å­— ç½®ä¸º Emptyï¼Œå¹¶å–æ¶ˆå…¶èšç„¦        text = &quot;&quot;;        GUIUtility.keyboardControl = 0;    }    return text;}public string OnGUI(Rect rect, string text){    //EditorStyles.searchField = æœç´¢æ¡†æ ·å¼    //EditorStyles.searchFieldCancelButton= æœç´¢æ¡†å–æ¶ˆæŒ‰é’®æ ·å¼    //EditorStyles.searchFieldCancelButtonEmpty = æœç´¢æ¡† æœç´¢å…³é”®å­—ä¸ºç©ºæ—¶çš„ æ ·å¼    return this.OnGUI(rect, text, EditorStyles.searchField, EditorStyles.searchFieldCancelButton, EditorStyles.searchFieldCancelButtonEmpty);}public string OnGUI(string text, params GUILayoutOption[] options){    Rect rect = GUILayoutUtility.GetRect(36f, 1E+07f, 16f, 16f, EditorStyles.searchField, options);    return this.OnGUI(rect, text);}</code></pre><h1 id="ç§æœ‰å‡½æ•°ï¼š"><a href="#ç§æœ‰å‡½æ•°ï¼š" class="headerlink" title="ç§æœ‰å‡½æ•°ï¼š"></a>ç§æœ‰å‡½æ•°ï¼š</h1><p>FocusAndKeyHandlingï¼š</p><pre><code>private void FocusAndKeyHandling(){    Event current = Event.current;    //SetFocuså…¬æœ‰æ¥å£å°†ç§æœ‰å˜é‡m_WantsFocusç½®ä¸ºtrueï¼Œå°†controlIDèµ‹å€¼ç»™GUIUtility.keyboardControlä»¥æ­¤å®ç°Focus    if (this.m_WantsFocus &amp;&amp; current.type == EventType.Repaint)    {        GUIUtility.keyboardControl = this.m_ControlID;        EditorGUIUtility.editingTextField = true;        this.m_WantsFocus = false;    }    if (current.type == EventType.KeyDown &amp;&amp; (current.keyCode == KeyCode.DownArrow || current.keyCode == KeyCode.UpArrow) &amp;&amp; GUIUtility.keyboardControl == this.m_ControlID &amp;&amp; GUIUtility.hotControl == 0)    {        if (this.downOrUpArrowKeyPressed != null)        {            this.downOrUpArrowKeyPressed();            current.Use();        }    }}</code></pre><h1 id="Eventï¼š"><a href="#Eventï¼š" class="headerlink" title="Eventï¼š"></a>Eventï¼š</h1><p>downOrUpArrowKeyPressedï¼š<br>æœç´¢å­—æ®µæ—¶æ£€æµ‹åˆ°å‘ä¸Šæˆ–è€…å‘ä¸‹é”®è¢«æŒ‰ä¸‹æ—¶ï¼Œå¯ä»¥ç”¨æ¥æ”¹å˜é”®ç›˜ç„¦ç‚¹åˆ°å¦ä¸€ä¸ªæ§ä»¶ï¼Œä¾‹å¦‚TreeViewï¼Œå¦‚ä¸‹å›¾</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180513181705295?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><pre><code>public event SearchField.SearchFieldCallback downOrUpArrowKeyPressed{    add    {        SearchField.SearchFieldCallback searchFieldCallback = this.downOrUpArrowKeyPressed;        SearchField.SearchFieldCallback searchFieldCallback2;        do        {            searchFieldCallback2 = searchFieldCallback;            searchFieldCallback = Interlocked.CompareExchange&lt;SearchField.SearchFieldCallback&gt;(ref this.downOrUpArrowKeyPressed, (SearchField.SearchFieldCallback)Delegate.Combine(searchFieldCallback2, value), searchFieldCallback);        }        while (searchFieldCallback != searchFieldCallback2);    }    remove    {        SearchField.SearchFieldCallback searchFieldCallback = this.downOrUpArrowKeyPressed;        SearchField.SearchFieldCallback searchFieldCallback2;        do        {            searchFieldCallback2 = searchFieldCallback;            searchFieldCallback = Interlocked.CompareExchange&lt;SearchField.SearchFieldCallback&gt;(ref this.downOrUpArrowKeyPressed, (SearchField.SearchFieldCallback)Delegate.Remove(searchFieldCallback2, value), searchFieldCallback);        }        while (searchFieldCallback != searchFieldCallback2);    }}</code></pre><p>ä»¥ä¸Šä»£ç ä¸ºä½¿ç”¨ILSpyå·¥å…·åç¼–è¯‘å¾—æ¥ï¼Œä»…ä¾›å­¦ä¹ ä½¿ç”¨ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SearchField </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸ƒï¼šå¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢æ¡ç›®</title>
      <link href="/2018/04/06/unity-bian-ji-qi-tuo-zhan-zhi-qi-ru-he-zai-preferenceswindow-zhong-xin-zeng-tiao-mu/"/>
      <url>/2018/04/06/unity-bian-ji-qi-tuo-zhan-zhi-qi-ru-he-zai-preferenceswindow-zhong-xin-zeng-tiao-mu/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢æ¡ç›®"><a href="#æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢æ¡ç›®" class="headerlink" title="æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢æ¡ç›®"></a>æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨PreferencesWindowä¸­æ–°å¢æ¡ç›®</h2><p>åœ¨ <a href="https://blog.csdn.net/qq_26999509/article/details/79829670" target="_blank" rel="noopener"> Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ </a><br>ä¸­ï¼Œæœ‰ä»‹ç»åˆ°éƒ¨åˆ†PreferencesWindow.csçš„ä»£ç ï¼Œè€Œæœ¬æ–‡ä»æºç å¼€å§‹ç»™å¤§å®¶ä»‹ç»ã€‚</p><p>PreferencesWindow.csä¸­ï¼š</p><pre><code>private void AddCustomSections(){    Assembly[] loadedAssemblies = EditorAssemblies.loadedAssemblies;    for (int i = 0; i &lt; loadedAssemblies.Length; i++)    {        Assembly assembly = loadedAssemblies[i];        Type[] typesFromAssembly = AssemblyHelper.GetTypesFromAssembly(assembly);        Type[] array = typesFromAssembly;        for (int j = 0; j &lt; array.Length; j++)        {            Type type = array[j];            MethodInfo[] methods = type.GetMethods(BindingFlags.Static | BindingFlags.Public | BindingFlags.NonPublic);            for (int k = 0; k &lt; methods.Length; k++)            {                MethodInfo methodInfo = methods[k];                //å…³é”®åœ¨è¿™ä¸€è¡Œ                PreferenceItem preferenceItem = Attribute.GetCustomAttribute(methodInfo, typeof(PreferenceItem)) as PreferenceItem;                if (preferenceItem != null)                {                    PreferencesWindow.OnGUIDelegate onGUIDelegate = Delegate.CreateDelegate(typeof(PreferencesWindow.OnGUIDelegate), methodInfo) as PreferencesWindow.OnGUIDelegate;                    if (onGUIDelegate != null)                    {                        this.m_Sections.Add(new PreferencesWindow.Section(preferenceItem.name, onGUIDelegate));                    }                }            }        }    }}</code></pre><p>ä»£ç ç‰‡ä¸­æ ‡æ³¨çš„é‚£ä¸€è¡Œï¼ŒMSDNä¸­çš„ä»‹ç»æ˜¯ï¼š<br>â€œæ£€ç´¢åº”ç”¨äºç¨‹åºé›†ã€ æ¨¡å—ã€ ç±»å‹æˆå‘˜æˆ–æ–¹æ³•å‚æ•°çš„æŒ‡å®šç±»å‹çš„è‡ªå®šä¹‰å±æ€§ã€‚â€</p><p>[ MSDNä¸­å…³äºè¯¥æ¥å£çš„ä»‹ç» ](<a href="https://msdn.microsoft.com/zh-" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-</a><br>cn/library/system.attribute.getcustomattribute%28v=vs.110%29.aspx)</p><p>é‚£ä¹ˆï¼Œä¸Šè¿°ä»£ç ä¸­æ£€ç´¢äº†ç¨‹åºä¸­ä½¿ç”¨ PreferenceItem<br>çš„æ‰€æœ‰methodï¼Œéšåå°†å¸¦æœ‰PreferenceItemçš„methodInfoå®ä¾‹åŒ–æˆä¸€ä¸ªå§”æ‰˜ï¼Œè¿›è€Œæ„é€ ä¸€ä¸ªSectionå¯¹è±¡ï¼Œæ·»åŠ åˆ°m_Setionsé›†åˆä¸­ã€‚</p><p>æ¥ç€ï¼Œçœ‹Unity æ–‡æ¡£ï¼Œå…³äº PreferenceItem çš„ä»‹ç»ã€‚</p><p><a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/PreferenceItem.html" target="_blank" rel="noopener"><br>https://docs.unity3d.com/2017.2/Documentation/ScriptReference/PreferenceItem.html</a></p><p>PreferenceItemå±æ€§å…è®¸æ‚¨æ·»åŠ é¦–é€‰é¡¹åˆ°preferencesçª—å£ã€‚</p><p>è§£é‡Šè·Ÿæºç åˆ†æçš„ä¸€æ ·ï¼Œæ¥ä¸‹æ¥è¿›è¡Œä»£ç æµ‹è¯•ã€‚</p><pre><code>[PreferenceItem(&quot;Preference Item&quot;)]private static void SelfPreferenceItem(){    EditorGUILayout.LabelField(&quot;Self Preference Item&quot;, EditorStyles.boldLabel);    if (GUILayout.Button(&quot;Button&quot;))    {        Debug.LogError(&quot;Click&quot;);    }    EditorGUILayout.Space();}</code></pre><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180406153027300?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>ä½†æ˜¯ï¼Œå‘ç°æœ‰ç‚¹ä¸å¯¹åŠ²ï¼Œç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ä¸­æåˆ°çš„é€‰ä¸­å·¦ä¾§ï¼Œå‡ºç°é—®é¢˜äº†ã€‚æ²¡æœ‰è‡ªåŠ¨é€‰ä¸­æ–°å¢çš„é‚£ä¸€é¡¹ã€‚</p><p>ç„¶åé€šè¿‡æ–­ç‚¹ï¼ŒæŸ¥çœ‹åˆ°åå°„å‡ºæ¥çš„m_Sectionsé›†åˆé‡Œï¼Œå¹¶æ²¡æœ‰æ–°å¢çš„é‚£ä¸€é¡¹ï¼Œä½¿å¾—åœ¨éå†çš„æ—¶å€™ï¼Œæ²¡æ³•è‡ªåŠ¨é€‰ä¸­å®ƒã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒAddCustomSectionså‡½æ•°åœ¨æ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡Œåˆ°ï¼Œä½¿å¾—æ–°å¢çš„ â€œPreference Itemâ€<br>å¹¶æ²¡æœ‰è¢«æ·»åŠ åˆ°m_Sectionsè¿™ä¸ªé›†åˆé‡Œã€‚</p><p>æŸ¥çœ‹ä¸€ä¸‹æºç ä¸­æ˜¯åˆé€‚è°ƒç”¨çš„ AddCustomSectionså‡½æ•°ï¼Œ</p><pre><code>private void OnGUI(){    if (this.m_RefreshCustomPreferences)    {        this.AddCustomSections();        this.m_RefreshCustomPreferences = false;    }    //èŠ‚çœç¯‡å¹…ï¼Œåé¢ä»£ç çœç•¥}</code></pre><p>ä¹Ÿå°±æ˜¯å½“m_RefreshCustomPreferenceså€¼ä¸ºtrueæ—¶ï¼Œæ‰§è¡Œä¸€éAddCustomSectionså‡½æ•°ã€‚</p><p>å®Œå–„ä»£ç ï¼š</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;using System.Reflection;using System;public class OpenPreferencesWindow : EditorWindow{    [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)]    public static void Open()    {        OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;();    }    private void OnGUI()    {        if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;))        {            Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow));            Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;);            type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null);            EditorWindow window = EditorWindow.GetWindow(type);            //è§£å†³ä¸èƒ½è‡ªåŠ¨å®šä½ æ–°å¢æ¡ç›® çš„é—®é¢˜            //æ‰‹åŠ¨è°ƒç”¨ä¸€éAddCustomSectionså‡½æ•°            FieldInfo refreshField = type.GetField(&quot;m_RefreshCustomPreferences&quot;, BindingFlags.NonPublic | BindingFlags.Instance);            if ((bool)refreshField.GetValue(window))            {                type.GetMethod(&quot;AddCustomSections&quot;, BindingFlags.NonPublic | BindingFlags.Instance).Invoke(window, null);                refreshField.SetValue(window, false);            }            FieldInfo sectionsField = type.GetField(&quot;m_Sections&quot;, BindingFlags.Instance | BindingFlags.NonPublic);            IList sections = sectionsField.GetValue(window) as IList;            Type sectionType = sectionsField.FieldType.GetGenericArguments()[0];            FieldInfo sectionContentField = sectionType.GetField(&quot;content&quot;, BindingFlags.Instance | BindingFlags.Public);            for (int i = 0; i &lt; sections.Count; i++)            {                GUIContent sectionContent = sectionContentField.GetValue(sections[i]) as GUIContent;                if (sectionContent.text == &quot;Preference Item&quot;)                {                    FieldInfo sectionIndexField = type.GetField(&quot;m_SelectedSectionIndex&quot;, BindingFlags.Instance | BindingFlags.NonPublic);                    sectionIndexField.SetValue(window, i);                    return;                }            }        }    }    [PreferenceItem(&quot;Preference Item&quot;)]    private static void SelfPreferenceItem()    {        EditorGUILayout.LabelField(&quot;Self Preference Item&quot;, EditorStyles.boldLabel);        if (GUILayout.Button(&quot;Button&quot;))        {            Debug.LogError(&quot;Click&quot;);        }        EditorGUILayout.Space();    }}</code></pre><p>å®Œç¾æ”¶å·¥ï¼</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PreferencesWindow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å…­ï¼šåˆ©ç”¨åå°„æ‰“å¼€Unity Preferences Window</title>
      <link href="/2018/04/05/unity-bian-ji-qi-tuo-zhan-zhi-liu-li-yong-fan-she-da-kai-unity-preferences-window/"/>
      <url>/2018/04/05/unity-bian-ji-qi-tuo-zhan-zhi-liu-li-yong-fan-she-da-kai-unity-preferences-window/</url>
      
        <content type="html"><![CDATA[<h1 id="å¦‚ä½•åˆ©ç”¨åå°„æ‰“å¼€Unity-Preferences-Window"><a href="#å¦‚ä½•åˆ©ç”¨åå°„æ‰“å¼€Unity-Preferences-Window" class="headerlink" title="å¦‚ä½•åˆ©ç”¨åå°„æ‰“å¼€Unity Preferences Window"></a>å¦‚ä½•åˆ©ç”¨åå°„æ‰“å¼€Unity Preferences Window</h1><p>Unity Preferences Windowå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018040521134474?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>ä½œä¸ºUnity çš„å‚æ•°è®¾ç½®çª—å£ï¼Œè¿™ä¸ªçª—å£æ”¯æŒæ–°å¢é¡¹ï¼Œå½“ç„¶æœ¬æ–‡ä¸ä»‹ç»è¿™ä¸ªå†…å®¹ï¼Œæœ¬æ¬¡ä»‹ç»å¦‚ä½•åˆ©ç”¨åå°„ã€ä»¥åŠUnity<br>Editorä»£ç æ¥å®ç°ç”¨ä»£ç æ‰“å¼€Preferences Windowä»¥åŠè®¾ç½®é€‰ä¸­é¡¹ã€‚</p><p>ä½¿ç”¨ILSpyå·¥å…·åç¼–è¯‘UnityEditor.dllåå‘¢ï¼Œåœ¨ä¸‹å›¾ç›®å½•ä¸­çš„PreferencesWinndow.csè„šæœ¬</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/2018040521190433?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>é‡Œé¢æœ‰ä¸€ä¸ªæ¥å£æ˜¯â€ShowPreferencesWindowâ€ï¼Œä»å­—é¢ä¸Šå°±å¯ä»¥ç†è§£åˆ°æ˜¯ç”¨æ¥æ‰“å¼€PreferencesWindowçš„ã€‚</p><pre><code>private static void ShowPreferencesWindow(){    EditorWindow window = EditorWindow.GetWindow&lt;PreferencesWindow&gt;(true, &quot;Unity Preferences&quot;);    window.minSize = new Vector2(500f, 400f);    window.maxSize = new Vector2(window.minSize.x, window.maxSize.y);    window.position = new Rect(new Vector2(100f, 100f), window.minSize);    window.m_Parent.window.m_DontSaveToLayout = true;}</code></pre><p>è¯¥å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œæ²¡åŠæ³•ç›´æ¥è°ƒï¼Œåˆ©ç”¨åå°„è¯•ä¸€ä¸‹ã€‚</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;using System.Reflection;using System;public class OpenPreferencesWindow : EditorWindow{    [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)]    public static void Open()    {        OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;();    }    private void OnGUI()    {        if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;))        {            Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow));            Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;);            type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null);        }    }}</code></pre><p>æ•ˆæœå›¾ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180405213022507?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>æ¥ä¸‹æ¥ï¼Œå°±æ˜¯å¦‚ä½•å®ç°åœ¨æ‰“å¼€windowä¹‹åç›´æ¥é€‰ä¸­æŸä¸€é¡¹ã€‚</p><p>æŸ¥çœ‹ä¸€ä¸‹OnEnableå‡½æ•°ï¼Œåˆå§‹åŒ–é‡Œé¢åšäº†å•¥ï¼Ÿ</p><pre><code>private void OnEnable(){    this.prefWinExtensions = ModuleManager.GetPreferenceWindowExtensions();    this.ReadPreferences();    this.m_Sections = new List&lt;PreferencesWindow.Section&gt;();    this.m_Sections.Add(new PreferencesWindow.Section(&quot;General&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowGeneral)));    this.m_Sections.Add(new PreferencesWindow.Section(&quot;External Tools&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowExternalApplications)));    this.m_Sections.Add(new PreferencesWindow.Section(&quot;Colors&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowColors)));    this.m_Sections.Add(new PreferencesWindow.Section(&quot;Keys&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowKeys)));    this.m_Sections.Add(new PreferencesWindow.Section(&quot;GI Cache&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowGICache)));    this.m_Sections.Add(new PreferencesWindow.Section(&quot;2D&quot;, new PreferencesWindow.OnGUIDelegate(this.Show2D)));    if (Unsupported.IsDeveloperBuild() || UnityConnect.preferencesEnabled)    {        this.m_Sections.Add(new PreferencesWindow.Section(&quot;Unity Services&quot;, new PreferencesWindow.OnGUIDelegate(this.ShowUnityConnectPrefs)));    }    this.m_RefreshCustomPreferences = true;}</code></pre><p>ä¸PreferencesWindowå›¾å¯¹æ¯”ä¹‹åå‘ç°ï¼Œm_Sectionsè¿™ä¸ªé›†åˆé‡Œå­˜çš„Sectionå¯¹è±¡åº”è¯¥å°±æ˜¯Windowå·¦ä¾§çš„å¯é€‰é¡¹äº†ã€‚</p><p>æ¥ç€çœ‹çœ‹Sectionè¿™ä¸ªç±»</p><pre><code>private class Section{    public GUIContent content;    public PreferencesWindow.OnGUIDelegate guiFunc;    public Section(string name, PreferencesWindow.OnGUIDelegate guiFunc)    {        this.content = new GUIContent(name);        this.guiFunc = guiFunc;    }    public Section(string name, Texture2D icon, PreferencesWindow.OnGUIDelegate guiFunc)    {        this.content = new GUIContent(name, icon);        this.guiFunc = guiFunc;    }    public Section(GUIContent content, PreferencesWindow.OnGUIDelegate guiFunc)    {        this.content = content;        this.guiFunc = guiFunc;    }}</code></pre><p>PreferencesWindowåœ¨OnEnableçš„æ—¶å€™ï¼Œå°±æœ‰å®ä¾‹åŒ–å‡ ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¾‹å¦‚â€œColorsâ€,å°±å­˜åœ¨ç±»çš„contentä¸­ï¼Œé‚£ä¹ˆåªéœ€è¦åå°„åˆ°è¿™ä¸ªcontentçš„ï¼Œå†éå†è¿™ä¸ªm_Sectionsï¼Œå°±å¯ä»¥å®ç°é€‰ä¸­å·¦ä¾§äº†ã€‚</p><p>å®Œæ•´ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor;using System.Reflection;using System;public class OpenPreferencesWindow : EditorWindow{    [MenuItem(&quot;Tool/OpenPreferencesWindow&quot;)]    public static void Open()    {        OpenPreferencesWindow editor = EditorWindow.GetWindow&lt;OpenPreferencesWindow&gt;();    }    private void OnGUI()    {        if (GUILayout.Button(&quot;æ‰“å¼€PerferencesWindow&quot;))        {            Assembly assembly = Assembly.GetAssembly(typeof(UnityEditor.EditorWindow));            Type type = assembly.GetType(&quot;UnityEditor.PreferencesWindow&quot;);            type.GetMethod(&quot;ShowPreferencesWindow&quot;, BindingFlags.NonPublic | BindingFlags.Static).Invoke(null, null);            EditorWindow window = EditorWindow.GetWindow(type);            FieldInfo sectionsField = type.GetField(&quot;m_Sections&quot;, BindingFlags.Instance | BindingFlags.NonPublic);            IList sections = sectionsField.GetValue(window) as IList;            Type sectionType = sectionsField.FieldType.GetGenericArguments()[0];            FieldInfo sectionContentField = sectionType.GetField(&quot;content&quot;, BindingFlags.Instance | BindingFlags.Public);            for (int i = 0; i &lt; sections.Count; i++)            {                GUIContent sectionContent = sectionContentField.GetValue(sections[i]) as GUIContent;                if (sectionContent.text == &quot;Colors&quot;)                {                    FieldInfo sectionIndexField = type.GetField(&quot;m_SelectedSectionIndex&quot;, BindingFlags.Instance | BindingFlags.NonPublic);                    sectionIndexField.SetValue(window, i);                    return;                }            }        }    }}</code></pre><p>æ•ˆæœå›¾ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20180405215336898?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2OTk5NTA5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</p><p>å¦‚æœæ’ä»¶ä¸­æœ‰åœ¨PreferencesWindowä¸­æ·»åŠ é¡¹ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªè®©ç”¨æˆ·å¿«æ·æ‰“å¼€äº†ã€‚</p><p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶å­¦ä¼šå¦‚ä½•åˆ†æåç¼–è¯‘å‡ºçš„ä»£ç ï¼Œåˆ†æUnityEditorå¦‚ä½•å®ç°çš„ç¼–è¾‘å™¨ï¼Œä»¥æ­¤æ¥å†™å‡ºæ›´åŠ å®ç”¨çš„æ’ä»¶</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PreferencesWindow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äº”ï¼šä¿®æ”¹è„šæœ¬icon</title>
      <link href="/2017/12/28/unity-bian-ji-qi-tuo-zhan-zhi-wu-xiu-gai-jiao-ben-icon/"/>
      <url>/2017/12/28/unity-bian-ji-qi-tuo-zhan-zhi-wu-xiu-gai-jiao-ben-icon/</url>
      
        <content type="html"><![CDATA[<p>Unityä¿®æ”¹è„šæœ¬åœ¨Projecté¢æ¿ä¸­æ˜¾ç¤ºçš„iconæœ‰ä¸¤ç§æ–¹æ³•ï¼Œ<br>å…ˆçœ‹ç¤ºæ„å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171228000919910?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æ–¹æ³•1ï¼šä¿®æ”¹è„šæœ¬çš„metaæ–‡ä»¶<br>è„šæœ¬çš„ metaæ–‡ä»¶é»˜è®¤å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171228001130631?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æ³¨æ„åˆ°ï¼Œå›¾ä¸­çš„iconï¼Œå¡«çš„â€œinstanceID = 0â€å³ä¸ºé»˜è®¤æ˜¾ç¤º</p><p>åœ¨é‡Œé¢å¡«å…¥iconæ–‡ä»¶çš„fileidå’Œguidï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå³å¯å®ç°ã€‚</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171228001038478?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æ–¹æ³•äºŒï¼šç®€å•ç²—æš´ï¼ŒUnityç›´æ¥å¯ä»¥è®¾ç½®ã€‚ã€‚ã€‚</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171228001444719?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¿®æ”¹è„šæœ¬icon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹å››ï¼šConsoleWindowä¸­çš„åŒå‡»æ—¥å¿—å®šä½</title>
      <link href="/2017/11/12/unity-bian-ji-qi-tuo-zhan-zhi-si-consolewindow-zhong-de-shuang-ji-ri-zhi-ding-wei/"/>
      <url>/2017/11/12/unity-bian-ji-qi-tuo-zhan-zhi-si-consolewindow-zhong-de-shuang-ji-ri-zhi-ding-wei/</url>
      
        <content type="html"><![CDATA[<p>åŸæ–‡åœ°å€ï¼š <a href="http://blog.csdn.net/l449612236/article/details/76087616" target="_blank" rel="noopener"> http://blog.csdn.net/l449612236/article/details/76087616</a></p><p>æ„Ÿè°¢ä¸Šä½åšä¸»çš„åˆ†äº«ã€‚</p><p>æœ¬æ–‡åœ¨æ­¤åŸºç¡€ä¸Šï¼Œåšäº†åˆ†æåŠ ä¸Šäº†æ›´åŠ è¯¦ç»†çš„ä»‹ç»ã€‚</p><p>æ–°å»ºLogEditorè„šæœ¬<br>ç›´æ¥ä¸Šæºç ä»¥åŠæ³¨é‡Šï¼š</p><pre><code>using System.Reflection;using UnityEditor;using UnityEngine;public class LogEditor {    private class LogEditorConfig    {        public string logScriptPath = &quot;&quot;;   //è‡ªå®šä¹‰æ—¥å¿—è„šæœ¬è·¯å¾„        public string logTypeName = &quot;&quot;;     //è„šæœ¬type        public int instanceID = 0;        public LogEditorConfig(string logScriptPath, System.Type logType)        {            this.logScriptPath = logScriptPath;            this.logTypeName = logType.FullName;        }    }    //é…ç½®çš„æ—¥å¿—    private static LogEditorConfig[] _logEditorConfig = new LogEditorConfig[]    {        new LogEditorConfig(&quot;Assets/Scripts/DDebug/DDebug.cs&quot;,typeof(DDebug))    };    //å¤„ç†ä»ConsoleWindowåŒå‡»è·³è½¬    [UnityEditor.Callbacks.OnOpenAssetAttribute(-1)]    private static bool OnOpenAsset(int instanceID,int line)    {        for (int i = _logEditorConfig.Length - 1; i &gt;= 0; --i)        {            var configTmp = _logEditorConfig[i];            UpdateLogInstanceID(configTmp);            if (instanceID == configTmp.instanceID)            {                var statckTrack = GetStackTrace();                if (!string.IsNullOrEmpty(statckTrack))                {                    /*                    ä¸¾ä¾‹è¯´æ˜ï¼šä¸‹é¢è¿™æ®µæ˜¯ä¸€æ¡ConsoleWindowçš„æ—¥å¿—ä¿¡æ¯                    Awake                    UnityEngine.Debug:Log(Object)                    DDebug:Log(String) (at Assets/Scripts/DDebug/DDebug.cs:13)                    Test:Awake() (at Assets/Scripts/Test.cs:13)                    è¯´æ˜ï¼š                    1ã€å…¶ä¸­ç¬¬ä¸€è¡Œçš„&quot;Awake&quot;:æ˜¯æŒ‡è°ƒç”¨è‡ªå®šä¹‰æ‰“å°æ—¥å¿—å‡½æ•°çš„å‡½æ•°åï¼Œæœ¬ä¾‹æ˜¯åœ¨Testè„šæœ¬ä¸­çš„Awakeå‡½æ•°é‡Œè°ƒç”¨çš„                    2ã€ç¬¬äºŒè¡Œçš„&quot;UnityEngine.Debug:Log(Object)&quot;:æ˜¯æŒ‡è¯¥æ—¥å¿—æœ€åº•å±‚æ˜¯é€šè¿‡Debug.Logå‡½æ•°æ‰“å°å‡ºæ¥çš„                    3ã€ç¬¬ä¸‰è¡Œçš„&quot;DDebug:Log(String) (at Assets/Scripts/DDebug/DDebug.cs:13)&quot;:æŒ‡ç¬¬äºŒè¡Œçš„å‡½æ•°è°ƒç”¨åœ¨DDebug.csçš„13è¡Œ                    4ã€ç¬¬å››è¡Œçš„&quot;Test:Awake() (at Assets/Scripts/Test.cs:13)&quot;:æŒ‡Test.csè„šæœ¬çš„Awakeå‡½æ•°è°ƒç”¨äº†ç¬¬äºŒè¡Œçš„DDebug.csçš„Logå‡½æ•°ï¼Œåœ¨ç¬¬13è¡Œ                     */                    //é€šè¿‡ä»¥ä¸Šä¿¡æ¯ï¼Œä¸éš¾å¾—å‡ºåŒå‡»è¯¥æ—¥å¿—åº”è¯¥æ‰“å¼€Test.csæ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°ç¬¬13è¡Œ                    //ä»¥æ¢è¡Œåˆ†å‰²å †æ ˆä¿¡æ¯                    var fileNames = statckTrack.Split(&apos;\n&apos;);                    //å®šä½åˆ°è°ƒç”¨è‡ªå®šä¹‰æ—¥å¿—å‡½æ•°çš„é‚£ä¸€è¡Œï¼š&quot;Test:Awake() (at Assets/Scripts/Test.cs:13)&quot;                    var fileName = GetCurrentFullFileName(fileNames);                    //å®šä½åˆ°ä¸Šä¾‹çš„è¡Œæ•°ï¼š13                    var fileLine = LogFileNameToFileLine(fileName);                    //å¾—åˆ°è°ƒç”¨è‡ªå®šä¹‰æ—¥å¿—å‡½æ•°çš„è„šæœ¬ï¼š&quot;Assets/Scripts/Test.cs&quot;                    fileName = GetRealFileName(fileName);                    //æ ¹æ®è„šæœ¬åå’Œè¡Œæ•°ï¼Œæ‰“å¼€è„šæœ¬                    //&quot;Assets/Scripts/Test.cs&quot;                    //13                    AssetDatabase.OpenAsset(AssetDatabase.LoadAssetAtPath&lt;UnityEngine.Object&gt;(fileName), fileLine);                    return true;                }                break;            }        }        return false;    }    /// &lt;summary&gt;    /// åå°„å‡ºæ—¥å¿—å †æ ˆ    /// &lt;/summary&gt;    /// &lt;returns&gt;&lt;/returns&gt;    private static string GetStackTrace()    {        var consoleWindowType = typeof(EditorWindow).Assembly.GetType(&quot;UnityEditor.ConsoleWindow&quot;);        var fieldInfo = consoleWindowType.GetField(&quot;ms_ConsoleWindow&quot;, BindingFlags.Static | BindingFlags.NonPublic);        var consoleWindowInstance = fieldInfo.GetValue(null);        if (null != consoleWindowInstance)        {            if ((object)EditorWindow.focusedWindow == consoleWindowInstance)            {                fieldInfo = consoleWindowType.GetField(&quot;m_ActiveText&quot;, BindingFlags.Instance | BindingFlags.NonPublic);                string activeText = fieldInfo.GetValue(consoleWindowInstance).ToString();                return activeText;            }        }        return &quot;&quot;;    }    private static void UpdateLogInstanceID(LogEditorConfig config)    {        if (config.instanceID &gt; 0)        {            return;        }        var assetLoadTmp = AssetDatabase.LoadAssetAtPath&lt;UnityEngine.Object&gt;(config.logScriptPath);        if (null == assetLoadTmp)        {            throw new System.Exception(&quot;not find asset by path=&quot; + config.logScriptPath);        }        config.instanceID = assetLoadTmp.GetInstanceID();    }    private static string GetCurrentFullFileName(string[] fileNames)    {        string retValue = &quot;&quot;;        int findIndex = -1;        for (int i = fileNames.Length - 1; i &gt;= 0; --i)        {            bool isCustomLog = false;            for (int j = _logEditorConfig.Length - 1; j &gt;= 0; --j)            {                if (fileNames[i].Contains(_logEditorConfig[j].logTypeName))                {                    isCustomLog = true;                    break;                }            }            if (isCustomLog)            {                findIndex = i;                break;            }        }        if (findIndex &gt;= 0 &amp;&amp; findIndex &lt; fileNames.Length - 1)        {            retValue = fileNames[findIndex + 1];        }        return retValue;    }    private static string GetRealFileName(string fileName)    {        int indexStart = fileName.IndexOf(&quot;(at &quot;) + &quot;(at &quot;.Length;        int indexEnd = ParseFileLineStartIndex(fileName) - 1;        fileName = fileName.Substring(indexStart, indexEnd - indexStart);        return fileName;    }    private static int LogFileNameToFileLine(string fileName)    {        int findIndex = ParseFileLineStartIndex(fileName);        string stringParseLine = &quot;&quot;;        for (int i = findIndex; i &lt; fileName.Length; ++i)        {            var charCheck = fileName[i];            if (!IsNumber(charCheck))            {                break;            }            else            {                stringParseLine += charCheck;            }        }        return int.Parse(stringParseLine);    }    private static int ParseFileLineStartIndex(string fileName)    {        int retValue = -1;        for (int i = fileName.Length - 1; i &gt;= 0; --i)        {            var charCheck = fileName[i];            bool isNumber = IsNumber(charCheck);            if (isNumber)            {                retValue = i;            }            else            {                if (retValue != -1)                {                    break;                }            }        }        return retValue;    }    private static bool IsNumber(char c)    {        return c &gt;= &apos;0&apos; &amp;&amp; c &lt;= &apos;9&apos;;    }}</code></pre><p>è¯¥è„šæœ¬æ”¾ç½®åœ¨å·¥ç¨‹ç›®å½•ä¸‹çš„Editoræ–‡ä»¶å¤¹ä¸­ã€‚</p><p>æ¥ç€å®ç°è‡ªå·±çš„æ—¥å¿—ç±»ï¼Œæˆ‘è¿™é‡Œå–åä¸ºDDebugç±»ã€‚<br>æˆ‘ä¹‹å‰ä¹Ÿä»‹ç»è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œå®ç°è‡ªå·±çš„Debugç±»<br>åœ°å€å¦‚ä¸‹ï¼š <a href="http://blog.csdn.net/qq_26999509/article/details/53643564" target="_blank" rel="noopener"> http://blog.csdn.net/qq_26999509/article/details/53643564</a></p><p>å½“åˆå†™çš„ä¸å¤Ÿæˆç†Ÿï¼Œå¤§å®¶å¯ä»¥æŒ‰ç…§è‡ªå·±æ„æ„¿è¿›è¡Œç¼–å†™ã€‚<br>æœ¬æ¬¡ä¸»è¦æ˜¯ä¸ºäº†å®ç°åŒå‡»æ—¥å¿—å®šä½çš„åŠŸèƒ½ã€‚</p><p>ä¸‹é¢é™„ä¸Šæœ¬æ¬¡æµ‹è¯•å†™çš„DDebugè„šæœ¬ï¼š</p><pre><code>using UnityEngine;public class DDebug {    static private string errorColor = &quot;red&quot;;    static private string warningColor = &quot;yellow&quot;;    static private string logColor = &quot;white&quot;;    public static void Log(string info)    {        info = string.Concat(&quot;&lt;color=&quot;, logColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;);        Debug.Log(info);    }    public static void LogError(string info)    {        info = string.Concat(&quot;&lt;color=&quot;, errorColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;);        Debug.LogError(info);    }    public static void LogWarning(string info)    {        info = string.Concat(&quot;&lt;color=&quot;, warningColor, &quot;&gt;&quot;, info, &quot;&lt;/color&gt;&quot;);        Debug.LogWarning(info);    }}</code></pre><p>è¿™é‡Œåªæ˜¯åŠ äº†é¢œè‰²è€Œå·²ï¼Œå…¶å®è¿˜æœ‰ä¸å°‘åŠŸèƒ½å¯ä»¥æ‹“å±•ã€‚</p><p>æ¥ä¸‹æ¥å†™ä¸ªTestæµ‹è¯•è„šæœ¬ï¼Œè¿›è¡Œä»£ç æµ‹è¯•ã€‚</p><pre><code>using UnityEngine;public class Test : MonoBehaviour {    private void OnEnable()    {        DDebug.LogWarning(&quot;OnEnable&quot;);    }    void Awake()    {        DDebug.Log(&quot;Awake&quot;);    }    void Start ()     {        DDebug.LogError(&quot;Start&quot;);    }}</code></pre><p>å°†è¯¥è„šæœ¬æŒ‚åœ¨åœºæ™¯ä¸­ã€‚</p><p>æµ‹è¯•å¦‚ä¸‹ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171112231731303?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>åŒå‡»æ—¥å¿—ä¹Ÿèƒ½æˆåŠŸè·³è½¬åˆ°æ—¥å¿—å‡½æ•°è°ƒç”¨çš„åœ°æ–¹ã€‚ã€‚æµ‹è¯•é€šè¿‡ã€‚</p><p>æœ€åé™„ä¸Šå·¥ç¨‹åœ°å€ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1c2La0hy" target="_blank" rel="noopener"> http://pan.baidu.com/s/1c2La0hy </a><br>å¯†ç ï¼šibqb</p><p>å†æ¬¡è¡¥å……ï¼ŒåŸæ–‡åœ°å€ï¼š <a href="http://blog.csdn.net/l449612236/article/details/76087616" target="_blank" rel="noopener"> http://blog.csdn.net/l449612236/article/details/76087616</a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¿—é‡å®šå‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityæ’ä»¶æ¨è</title>
      <link href="/2017/11/07/unity-cha-jian-tui-jian/"/>
      <url>/2017/11/07/unity-cha-jian-tui-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€å¯è§†åŒ–PlayerPrefs"><a href="#ä¸€ã€å¯è§†åŒ–PlayerPrefs" class="headerlink" title="ä¸€ã€å¯è§†åŒ–PlayerPrefs"></a>ä¸€ã€å¯è§†åŒ–PlayerPrefs</h3><p>Advanced PlayerPrefs Windowæ’ä»¶æ˜¯ä¸€æ¬¾PlayerPrefsæ•°æ®çš„å¯è§†åŒ–ç®¡ç†æ’ä»¶</p><p>ä¸‹è½½åœ°å€ï¼š <a href="http://www.taidous.com/forum.php?mod=viewthread&tid=59744&highlight=PlayerPrefs" target="_blank" rel="noopener"><br>http://www.taidous.com/forum.php?mod=viewthread&amp;tid=59744&amp;highlight=PlayerPrefs</a></p><p>æˆ–è€…é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1bpg0AYF" target="_blank" rel="noopener"> http://pan.baidu.com/s/1bpg0AYF </a><br>å¯†ç ï¼šw9vm</p><p>æ’ä»¶ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171106235922648?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><h4 id="æ’ä»¶ä»£ç åˆ†æï¼š"><a href="#æ’ä»¶ä»£ç åˆ†æï¼š" class="headerlink" title="æ’ä»¶ä»£ç åˆ†æï¼š"></a>æ’ä»¶ä»£ç åˆ†æï¼š</h4><p>è‡³äºç¼–è¾‘å™¨çš„ä»£ç å°±ä¸è§£é‡Šäº†ï¼Œä¸»è¦æ¥çœ‹ä¸€ä¸‹è¯¥æ’ä»¶æ˜¯å¦‚ä½•è·å–åˆ°å·¥ç¨‹é‡Œå…³äºPlayerPrefsæ•°æ®çš„æ‰€æœ‰çš„key çš„ã€‚<br>å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ä¸­å…³äºPlayerPrefsçš„è§£é‡Šï¼š<br><a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/PlayerPrefs.html" target="_blank" rel="noopener"><br>https://docs.unity3d.com/2017.2/Documentation/ScriptReference/PlayerPrefs.html</a></p><p>å…¶ä¸­</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171107000252250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºUnityå°†è¿™äº›æ•°æ®åœ¨å„å¹³å°ä¸‹å­˜å‚¨çš„ä½ç½®ï¼Œä»¥Windowsä¸ºä¾‹ï¼Œå…¶æ•°æ®å­˜å‚¨åœ¨æ³¨å†Œè¡¨ä¸­çš„</p><p>HKCU/Software[company name][product name]ä¸­</p><p>ä¸‹é¢æ˜¯æˆªå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20171107000710134?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>å›¾ä¸­å¯è§è¯¥å·¥ç¨‹åŒ…å«äº†5ä¸ªkeyï¼Œå…¶ä¸­UnityGraphicsQualityæ˜¯Unityå·¥ç¨‹è‡ªå¸¦çš„ã€‚</p><p>ä¸‹é¢ä¸Šä¸€æ®µè¯¥æ’ä»¶ä»æ³¨å†Œè¡¨ä¸­è·å–keyçš„ä»£ç ï¼ˆWindowså¹³å°çš„ï¼‰</p><pre><code>        private string[] GetAllWindowsKeys()        {            RegistryKey cuKey = Registry.CurrentUser;            RegistryKey unityKey;            //The default location of PlayerPrefs pre Unity 5_5#if UNITY_5_5_OR_NEWER            unityKey = cuKey.CreateSubKey(&quot;Software\\Unity\\UnityEditor\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName);#else            unityKey = cuKey.CreateSubKey(&quot;Software\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName);            if (unityKey.GetValueNames().Length == 0)            {                //On some machines (Windows 7 &amp; 8 64bit using Unity5.4) PlayersPrefs are saved in HKEY_CURRENT_USER\SOFTWARE\AppDataLow\Software\CompanyName\ProjectName weird enough...                unityKey = cuKey.CreateSubKey(&quot;Software\\AppDataLow\\Software\\&quot; + PlayerSettings.companyName + &quot;\\&quot; + PlayerSettings.productName);            }#endif            string[] values = unityKey.GetValueNames();            for (int i = 0; i &lt; values.Length; i++)            {                values[i] = values[i].Substring(0, values[i].LastIndexOf(&quot;_&quot;));            }            return values;        }</code></pre><p>ä»£ç ä¸ä¸€ä¸€è§£é‡Šäº†ï¼Œå…³äºRegistryKeyç±»å’ŒRegistryç±»æŸ¥çœ‹ä¸€ä¸‹MSDNï¼š<br>[ <a href="https://msdn.microsoft.com/zh-" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-</a><br>cn/library/microsoft.win32.registrykey(v=vs.110).aspx<br>](<a href="https://msdn.microsoft.com/zh-" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-</a><br>cn/library/microsoft.win32.registrykey(v=vs.110).aspx)<br>[ <a href="https://msdn.microsoft.com/zh-" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-</a><br>cn/library/microsoft.win32.registry(v=vs.110).aspx<br>](<a href="https://msdn.microsoft.com/zh-" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-</a><br>cn/library/microsoft.win32.registry(v=vs.110).aspx)</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œæ­¥éª¤è¯¦ç»†ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’ä»¶æ¨è </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¸Androidä¹‹äºŒï¼šè·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ</title>
      <link href="/2017/11/04/unity-yu-android-zhi-er-huo-qu-shou-ji-dian-liang-xin-xi-wang-luo-zhuang-kuang/"/>
      <url>/2017/11/04/unity-yu-android-zhi-er-huo-qu-shou-ji-dian-liang-xin-xi-wang-luo-zhuang-kuang/</url>
      
        <content type="html"><![CDATA[<h1 id="Unity-amp-Androidä¹‹äºŒï¼šè·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ"><a href="#Unity-amp-Androidä¹‹äºŒï¼šè·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ" class="headerlink" title="Unity&amp;Androidä¹‹äºŒï¼šè·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ"></a>Unity&amp;Androidä¹‹äºŒï¼šè·å–æ‰‹æœºç”µé‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶å†µ</h1><p>æ¸¸æˆä¸­ç»å¸¸ä¼šåœ¨UIæ˜¾ç¤ºç”µé‡ä»¥åŠç½‘ç»œçŠ¶å†µ</p><p>æ‰‹æœºç”µé‡åŒ…æ‹¬ï¼š<br>1ã€å½“å‰æ­£åœ¨å……ç”µè¿˜æ˜¯æ”¾ç”µ<br>2ã€å½“å‰ç”µé‡å€¼</p><p>ç½‘ç»œåŒ…æ‹¬ï¼š<br>1ã€å¦‚æœæ˜¯WIFIï¼ŒWIFIä¿¡å·å¼ºåº¦<br>2ã€å¦‚æœæ˜¯æµé‡ï¼Œä¿¡å·å¼ºåº¦ç­‰æ•°æ®</p><p>ä¾‹å¦‚ç‹è€…è£è€€ä¸­å³ä¸Šè§’æ‰€ç¤º<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-GHe5z8lz-1586599241269)]</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•å®ç°è·å–æ‰‹æœºç”µé‡ä¿¡æ¯ä»¥åŠç½‘ç»œçŠ¶å†µç­‰æ•°æ®ã€‚</p><p>####1ã€æ‰“å¼€Eclipseå»ºä¸€ä¸ªå®‰å“åº“å·¥ç¨‹ï¼Œæ³¨æ„æ˜¯åº“å·¥ç¨‹<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-Eq2gkKtN-1586599241270)]</p><p>####è¿™é‡Œæ³¨æ„ä¸€ä¸‹åŒ…å</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-oDCApkUW-1586599241271)]</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-WbLOWqZD-1586599241271)]</p><p>Iconæ˜¾ç¤ºæ–¹å¼é€‰æ‹©ï¼Œé»˜è®¤å³å¯</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-p3DKc5sS-1586599241272)]</p><p>é€‰æ‹©ä¸€ä¸ªç©ºçš„activity</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-BUUZbfrT-1586599241273)]</p><p>å®‰å“Activityåç§°ï¼Œé»˜è®¤å³å¯ï¼ŒFinish</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-vNmpoZEW-1586599241274)]</p><p>åˆ›å»ºå®Œä¹‹åï¼Œå°±ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªå·¥ç¨‹</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-faVSY9eF-1586599241275)]</p><p>è‡³äºç›®å½•ç»“æ„ï¼Œè¯·è‡ªè¡Œè¡¥å……ç›¸å…³çŸ¥è¯†</p><p>å·¥ç¨‹åˆ›å»ºå¥½ï¼Œæ­¤æ—¶å®‰å“è¿˜æ— æ³•ä¸Unityè¿›è¡Œäº¤äº’ï¼Œéœ€è¦ä¸ºå·¥ç¨‹å¯¼å…¥ä¸€ä¸ªUnityæä¾›çš„classes.jarï¼Œè¯¥æ–‡ä»¶åœ¨Unityçš„å®‰è£…ç›®å½•ä¸‹</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-qjaIEa70-1586599241276)]</p><p>å°†è¯¥jaræ–‡ä»¶å¯¼å…¥åˆ°å·¥ç¨‹ç›®å½•ä¸‹çš„libsæ–‡ä»¶å¤¹ä¸­ï¼Œé¼ æ ‡é€‰ä¸­å·¥ç¨‹æ ¹ç›®å½•</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-u6eBHOsl-1586599241277)]</p><p>å‡†å¤‡å·¥ä½œå®Œæˆä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç äº†ã€‚</p><p>ä¿®æ”¹MainActivity.javaç±»çš„çˆ¶ç±»ä¸ºUnityPlayerActivity</p><p>è¯¥ç±»éœ€è¦importç›¸å…³çš„åŒ…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import com.unity3d.player.UnityPlayerActivity;</span><br></pre></td></tr></table></figure><p>åˆ é™¤onCreateå‡½æ•°ä¸­çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setContentView(R.layout.activity_main);</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒMainActivity.javaæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package com.unityplugin.phonepower;</span><br><span class="line"></span><br><span class="line">import com.unity3d.player.UnityPlayerActivity;</span><br><span class="line"></span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.app.Activity;</span><br><span class="line">import android.view.Menu;</span><br><span class="line"></span><br><span class="line">public class MainActivity extends UnityPlayerActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onCreateOptionsMenu(Menu menu) &#123;</span><br><span class="line">        &#x2F;&#x2F; Inflate the menu; this adds items to the action bar if it is present.</span><br><span class="line">        getMenuInflater().inflate(R.menu.main, menu);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ç¼–å†™å‡½æ•°ä»¥ä¾›Unityè°ƒç”¨</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">package com.unityplugin.phonepower;</span><br><span class="line"></span><br><span class="line">import com.unity3d.player.UnityPlayerActivity;</span><br><span class="line"></span><br><span class="line">import android.net.wifi.WifiInfo;</span><br><span class="line">import android.net.wifi.WifiManager;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.app.Activity;</span><br><span class="line">import android.content.Context;</span><br><span class="line">import android.content.Intent;</span><br><span class="line">import android.content.IntentFilter;</span><br><span class="line">import android.view.Menu;</span><br><span class="line"></span><br><span class="line">public class MainActivity extends UnityPlayerActivity &#123;</span><br><span class="line"></span><br><span class="line">private static Context instance;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        instance &#x3D; getApplication();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onCreateOptionsMenu(Menu menu) &#123;</span><br><span class="line">        &#x2F;&#x2F; Inflate the menu; this adds items to the action bar if it is present.</span><br><span class="line">        getMenuInflater().inflate(R.menu.main, menu);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;è·å–æ‰‹æœºå½“å‰ç”µé‡ã€æ€»ç”µé‡ï¼ˆé»˜è®¤å…¶å®éƒ½æ˜¯100ï¼‰ã€å½“å‰çŠ¶æ€ï¼ˆå……ç”µè¿˜æ˜¯æ”¾ç”µï¼‰</span><br><span class="line">    &#x2F;&#x2F;å…¶ä½™æ•°æ®ä¾‹å¦‚ç”µå‹ã€ç”µæ± æ¸©åº¦ç”¨çš„è¾ƒå°‘</span><br><span class="line">    public String MonitorBatteryState()</span><br><span class="line">    &#123;</span><br><span class="line">    IntentFilter iFilter &#x3D; new IntentFilter(Intent.ACTION_BATTERY_CHANGED);</span><br><span class="line">    Intent intent &#x3D; instance.registerReceiver(null, iFilter);</span><br><span class="line">    int rawLevel &#x3D; intent.getIntExtra(&quot;level&quot;, 0);&#x2F;&#x2F;è·å¾—å½“å‰ç”µé‡</span><br><span class="line">    int scale &#x3D; intent.getIntExtra(&quot;scale&quot;, 0);&#x2F;&#x2F;è·å¾—æ€»ç”µé‡</span><br><span class="line">    int status &#x3D; intent.getIntExtra(&quot;status&quot;, 0);&#x2F;&#x2F;ç”µæ± å……ç”µçŠ¶æ€</span><br><span class="line">    int health &#x3D; intent.getIntExtra(&quot;voltage&quot;, 0);&#x2F;&#x2F;ç”µæ± å¥åº·çŠ¶å†µ</span><br><span class="line">    int batteryV &#x3D; intent.getIntExtra(&quot;voltage&quot;, 0);&#x2F;&#x2F;ç”µæ± ç”µå‹(mv)</span><br><span class="line">    int temperature &#x3D; intent.getIntExtra(&quot;temperature&quot;, 0);&#x2F;&#x2F;ç”µæ± æ¸©åº¦(æ•°å€¼)</span><br><span class="line">    double t &#x3D; temperature &#x2F; 10.0;&#x2F;&#x2F;ç”µæ± æ‘„æ°æ¸©åº¦ï¼Œé»˜è®¤è·å–çš„éæ‘„æ°æ¸©åº¦å€¼ï¼Œéœ€åšä¸€ä¸‹è¿ç®—è½¬æ¢</span><br><span class="line">    String targetStr &#x3D; &quot;&quot;;</span><br><span class="line">    int level &#x3D; -1;</span><br><span class="line">    if(rawLevel &gt; 0 &amp;&amp; scale &gt; 0)</span><br><span class="line">    &#123;</span><br><span class="line">    level &#x3D; (rawLevel * 100) &#x2F; scale;</span><br><span class="line">    targetStr &#x3D; level + &quot;|&quot; + scale + &quot;|&quot; + status;</span><br><span class="line">    &#125;</span><br><span class="line">    return targetStr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;è·å–Wifiä¿¡å·å¼ºåº¦</span><br><span class="line">    @SuppressWarnings(&quot;deprecation&quot;)</span><br><span class="line">    private String ObtainWifiInfo()</span><br><span class="line">    &#123;</span><br><span class="line">    String result &#x3D; &quot;&quot;;</span><br><span class="line">    WifiManager wifiManager &#x3D; (WifiManager)getApplication().getSystemService(WIFI_SERVICE);</span><br><span class="line">    WifiInfo info &#x3D; wifiManager.getConnectionInfo();</span><br><span class="line">    if(info.getBSSID() !&#x3D; null)</span><br><span class="line">    &#123;</span><br><span class="line">    &#x2F;&#x2F;é“¾æ¥ä¿¡å·å¼ºåº¦</span><br><span class="line">    int strength &#x3D; WifiManager.calculateSignalLevel(info.getRssi(), 5);</span><br><span class="line">    &#x2F;&#x2F;é“¾æ¥é€Ÿåº¦</span><br><span class="line">    int speed &#x3D; info.getLinkSpeed();</span><br><span class="line">    &#x2F;&#x2F;é“¾æ¥é€Ÿåº¦å•ä½</span><br><span class="line">    String units &#x3D; WifiInfo.LINK_SPEED_UNITS;</span><br><span class="line">    &#x2F;&#x2F;Wifiæºåç§°</span><br><span class="line">    String ssid &#x3D; info.getSSID();</span><br><span class="line">    int ip &#x3D; info.getIpAddress();</span><br><span class="line">    String mac &#x3D; info.getMacAddress();</span><br><span class="line">    result &#x3D; strength + &quot;|&quot; + IntToIp(ip) + &quot;|&quot; + mac + &quot;|&quot; + ssid;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    private String IntToIp(int paramInt)</span><br><span class="line">    &#123;</span><br><span class="line">    return (paramInt &amp; 0xFF) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 8) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 16) + &quot;.&quot; + (0xFF &amp; paramInt &gt;&gt; 24);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ç¼–å†™å®Œä¹‹åï¼Œè¿˜æœ‰ä¸€ä»¶é‡è¦çš„äº‹æƒ…ï¼Œé‚£å°±æ˜¯æ‰‹æœºæƒé™ã€‚<br>è®¿é—®æ‰‹æœºç”µé‡ï¼Œä¸éœ€è¦æƒé™ï¼Œä¸è¿‡WIFIçŠ¶å†µéœ€è¦æ·»åŠ ä¸€ä¸ªæƒé™ã€‚</p><p>###å¦‚ä½•æ·»åŠ æƒé™</p><p>åŒå‡»AndroidManifest.xmlæ–‡ä»¶<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-kqf506tU-1586599241278)]</p><p>ç‚¹å‡»AddæŒ‰é’®æ·»åŠ æƒé™</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-JpeMi6Cj-1586599241279)]</p><p>é€‰ä¸­æœ€åä¸€é¡¹Uses Permission</p><p>æ·»åŠ Nameä¸ºandroid.permission.ACCESS_WIFI_STATEçš„æƒé™</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-UyLGdJ6s-1586599241279)]</p><p>###è®°å¾—ä¿å­˜è¯¥æ–‡ä»¶ï¼</p><p>æƒé™å¼„å®Œä¹‹åå³å¯åˆ°å¤„jaråŒ…åˆ°Unityå·¥ç¨‹ä¸­äº†ã€‚</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-SUauE1wD-1586599241280)]</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-wX7hrc3t-1586599241280)]</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-HA33SXmc-1586599241281)]</p><p>jarå¯¼å‡ºåï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªUnityå·¥ç¨‹ï¼Œè¿›è¡Œæµ‹è¯•äº†ã€‚</p><p>åˆ›å»ºä¸€ä¸ªPlugins/Androidçš„æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ç”¨æ¥ å­˜æ”¾å®‰å“æ’ä»¶çš„ã€‚</p><p>å°†Androidå·¥ç¨‹ä¸­çš„Libsã€Resã€AndroidMainFest.xmlæ–‡ä»¶æ‹·è´è¿‡æ¥ï¼Œå¦‚ä¸‹ï¼š<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-xyGiOzjW-1586599241281)]</p><p>æ¥ä¸‹æ¥ç¼–å†™æµ‹è¯•ä»£ç ï¼š</p><p>åœ¨åœºæ™¯ä¸­åˆ›å»ºä¸€ä¸ªButtonï¼ˆç”¨æ¥ç‚¹å‡»ä»å®‰å“é‚£è¾¹è·å–æ•°æ®ï¼‰å’Œä¸¤ä¸ªtextï¼ˆåˆ†åˆ«ç”¨æ¥æ˜¾ç¤ºç”µé‡æ•°æ®å’Œwifiæ•°æ®ï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªtestè„šæœ¬</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-fGNO7G2V-1586599241282)]</p><p>è„šæœ¬ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class Test : MonoBehaviour </span><br><span class="line">&#123;</span><br><span class="line">    public Button button;</span><br><span class="line">    public Text phonePowerText;</span><br><span class="line">    public Text wifiText;</span><br><span class="line"></span><br><span class="line">    private string batteryData;</span><br><span class="line">    private string wifiData;</span><br><span class="line"></span><br><span class="line">void Awake()</span><br><span class="line">&#123;</span><br><span class="line">        button.onClick.AddListener(OnButtonClicked);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    private void OnButtonClicked()</span><br><span class="line">    &#123;</span><br><span class="line">        AndroidJavaClass jc &#x3D; new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);</span><br><span class="line">        AndroidJavaObject jo &#x3D; jc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);</span><br><span class="line">        batteryData &#x3D; jo.Call&lt;string&gt;(&quot;MonitorBatteryState&quot;);</span><br><span class="line">        wifiData &#x3D; jo.Call&lt;string&gt;(&quot;ObtainWifiInfo&quot;);</span><br><span class="line">        OnBatteryDataBack(batteryData);</span><br><span class="line">        OnWifiDataBack(wifiData);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å®‰å“é‚£è¾¹å°†æ•°æ®ä»¥â€œ|â€è¿›è¡Œåˆ†å‰²ï¼Œæ‰€ä»¥è¿™è¾¹ä»¥&quot;|&quot;æ¥åˆ†å‰²æ•°æ®</span><br><span class="line">    private void OnBatteryDataBack(string data)</span><br><span class="line">    &#123;</span><br><span class="line">        phonePowerText.text &#x3D; &quot;&quot;;</span><br><span class="line">        string[] args &#x3D; data.Split(&#39;|&#39;);</span><br><span class="line">        if (args[2] &#x3D;&#x3D; &quot;2&quot;)</span><br><span class="line">        &#123;</span><br><span class="line">            phonePowerText.text +&#x3D; &quot;ç”µæ± å……ç”µä¸­\n&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            phonePowerText.text +&#x3D; &quot;ç”µæ± æ”¾ç”µä¸­\n&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        int curPower &#x3D; int.Parse(args[0]);</span><br><span class="line">        float power &#x3D; float.Parse(args[1]);</span><br><span class="line">        float percent &#x3D; curPower &#x2F; power;</span><br><span class="line">        phonePowerText.text +&#x3D; &quot; cur power:&quot; + curPower;</span><br><span class="line">        phonePowerText.text +&#x3D; &quot;  all power:&quot; + power;</span><br><span class="line">        phonePowerText.text +&#x3D; &quot; ç”µé‡æ¯”ä¾‹ï¼š&quot; + (Mathf.CeilToInt(percent * 100) + &quot;%&quot;).ToString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void OnWifiDataBack(string data)</span><br><span class="line">    &#123;</span><br><span class="line">        wifiText.text &#x3D; &quot;&quot;;</span><br><span class="line">        wifiText.text +&#x3D; wifiData;</span><br><span class="line">        string[] args &#x3D; wifiData.Split(&#39;|&#39;);</span><br><span class="line">        int wifiLevel &#x3D; int.Parse(args[0]);</span><br><span class="line">        wifiText.text +&#x3D; &quot;Wifiä¿¡å·æ ¼æ•°ï¼š&quot; + wifiLevel.ToString() + &quot;\n&quot;;</span><br><span class="line">        string ip &#x3D; &quot;IPï¼š&quot; + args[1] + &quot;\n&quot;;</span><br><span class="line">        string mac &#x3D; &quot;MAC:&quot; + args[2] + &quot;\n&quot;;</span><br><span class="line">        string ssid &#x3D; &quot;Wifi Name:&quot; + args[3] + &quot;\n&quot;;</span><br><span class="line">        wifiText.text +&#x3D; ip;</span><br><span class="line">        wifiText.text +&#x3D; mac;</span><br><span class="line">        wifiText.text +&#x3D; ssid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®°å¾—å°†å·¥ç¨‹å¹³å°åˆ‡æ¢æˆAndroid</p><p>æœ€åè®¾ç½®PlayerSettingsï¼Œ</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-6ipKBUqz-1586599241283)]</p><p>å¯ä»¥buildæˆapkäº†ã€‚</p><p>æµ‹è¯•æˆªå›¾ï¼š</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-uGK9JHFY-1586599241284)]</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡º<br>å½“å‰æ‰‹æœºæ­£åœ¨å……ç”µï¼Œå¹¶ä¸”ç”µé‡ä¸º60ï¼Œè‡³äºå›¾ä¸­çš„61å±äºæµ®ç‚¹ç±»å‹æ•°æ®çš„è¿ç®—å¸¦æ¥çš„ç²¾åº¦é—®é¢˜ï¼Œä¸è¿‡è¿™ç‚¹é—®é¢˜åœ¨åº”ç”¨ä¸­ä¸è¶³ä¸ºè™‘ã€‚<br>è€ŒwifiçŠ¶å†µåˆ™æ˜¯ï¼Œå››æ ¼ä¿¡å·ï¼Œéƒ½æ˜¯æ­£å¸¸çš„ã€‚</p><p>æŠ±æ­‰ï¼ŒIPåœ°å€è¢«æˆ‘æ‰“ç äº†ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œæ­¥éª¤è¯¦ç»†ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unity &amp; Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µé‡ä¿¡æ¯ </tag>
            
            <tag> ç½‘ç»œçŠ¶å†µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¸Androidä¹‹ä¸€ï¼šæ‰‹æœºéœ‡åŠ¨</title>
      <link href="/2017/11/04/unity-yu-android-zhi-yi-shou-ji-zhen-dong/"/>
      <url>/2017/11/04/unity-yu-android-zhi-yi-shou-ji-zhen-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityè°ƒç”¨æ‰‹æœºéœ‡åŠ¨"><a href="#Unityè°ƒç”¨æ‰‹æœºéœ‡åŠ¨" class="headerlink" title="Unityè°ƒç”¨æ‰‹æœºéœ‡åŠ¨"></a>Unityè°ƒç”¨æ‰‹æœºéœ‡åŠ¨</h1><p>åœ¨æ¸¸æˆä¸­ï¼Œæœ‰æ—¶ä¸ºäº†å¢åŠ æ¸¸æˆçš„æ‰“å‡»æ„Ÿï¼Œä¼šä½¿ç”¨æ‰‹æœºéœ‡åŠ¨ã€‚å…³äºæ‰‹æœºéœ‡åŠ¨å…¶å®å¾ˆç®€å•ã€‚</p><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><p>Unityä¸­æä¾›äº†ä¸€ä¸ªæ¥å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Handheld.Vibrate();</span><br></pre></td></tr></table></figure><p>è¯¥æ¥å£æ— éœ€åšå¹³å°åˆ¤æ–­ã€‚<br>å®˜æ–¹ä»‹ç»ï¼šTriggers device vibration.<br>ç¿»è¯‘å°±æ˜¯æŒ‡è§¦å‘è£…ç½®æŒ¯åŠ¨ã€‚<br><a href="https://docs.unity3d.com/2017.3/Documentation/ScriptReference/Handheld.Vibrate.html" target="_blank" rel="noopener">https://docs.unity3d.com/2017.3/Documentation/ScriptReference/Handheld.Vibrate.html</a></p><p>è¯¥æ¥å£æ— æ³•ä¸ºæŒ¯åŠ¨è®¾ç½®æ—¶é•¿ã€é¢‘ç‡ç­‰ã€‚å¦‚æœ‰éœ€è¦ï¼Œå®‰å“åˆ™éœ€è¦é€šè¿‡è·å–ç³»ç»ŸæœåŠ¡åå¼€å¯æŒ¯åŠ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public void Shake()</span><br><span class="line">&#123;</span><br><span class="line">Activity curActivity &#x3D; UnityPlayer.currentActivity;</span><br><span class="line">m_vibrator &#x3D; (Vibrator)curActivity.getSystemService(Service.VIBRATOR_SERVICE);</span><br><span class="line">    m_vibrator.vibrate(new long[]&#123;100,10,100,1000&#125;,-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¦æƒ…å‚è€ƒï¼š<br><a href="http://www.cnblogs.com/android-blogs/p/6381850.html" target="_blank" rel="noopener">http://www.cnblogs.com/android-blogs/p/6381850.html</a></p><p>å¦‚æœåªæ˜¯ç®€å•çš„ä½¿ç”¨ï¼ŒUnity æä¾›çš„æ¥å£å·²ç»å¤Ÿäº†ã€‚ã€‚</p><h4 id="è¯·åœ¨çœŸæœºä¸‹è¿›è¡Œæµ‹è¯•"><a href="#è¯·åœ¨çœŸæœºä¸‹è¿›è¡Œæµ‹è¯•" class="headerlink" title="è¯·åœ¨çœŸæœºä¸‹è¿›è¡Œæµ‹è¯•"></a>è¯·åœ¨çœŸæœºä¸‹è¿›è¡Œæµ‹è¯•</h4><p>æœ€è¿‘æ­£åœ¨è¡¥å……Unityè·ŸAndroidäº¤äº’ç›¸å…³çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬æ¥å…¥SDKã€æ¸¸æˆä¸­ä½¿ç”¨äºŒç»´ç ç­‰</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unity &amp; Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹æœºéœ‡åŠ¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸‰ï¼šæ‹“å±•Unityçš„Hierarchyé¢æ¿</title>
      <link href="/2017/09/16/unity-bian-ji-qi-tuo-zhan-zhi-san-tuo-zhan-unity-de-hierarchy-mian-ban/"/>
      <url>/2017/09/16/unity-bian-ji-qi-tuo-zhan-zhi-san-tuo-zhan-unity-de-hierarchy-mian-ban/</url>
      
        <content type="html"><![CDATA[<p>æ•ˆæœå›¾ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170916213433810?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä¸Šå›¾ä¸­åœ¨Hierarchyå³ä¾§ç»˜åˆ¶äº†Toggleï¼ŒLabelï¼Œä»¥åŠè‡ªå®šä¹‰çš„textureå’ŒUnityåŸå£°çš„Textureï¼ŒçŸ¥é“äº†åŸç†ï¼Œå…¶å®è¿™äº›éƒ½å¾ˆç®€å•ã€‚ã€‚</p><p>è¿™é‡Œä¸»è¦æ˜¯ä½¿ç”¨äº†EditorApplicationç±»ä¸‹çš„HierarchyWindowItemCallbackç±»å‹çš„hierarchyWindowItemOnGUI</p><pre><code>//// æ‘˜è¦://     /////     Delegate to be called for every visible list item in the HierarchyWindow on every//     OnGUI event.//     /////// å‚æ•°://   instanceID:////   selectionRect:public delegate void HierarchyWindowItemCallback(int instanceID, Rect selectionRect);</code></pre><p>è¯¥å§”æ‰˜æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯intç±»å‹çš„instanceIDï¼Œé€šè¿‡è¯¥IDåˆ©ç”¨EditorUtility.InstanceIDToObject(instanceID)å¯ä»¥è·å–è¯¥GameObjectï¼Œç„¶åç¬¬äºŒä¸ªå‚æ•°Rectï¼Œä¹Ÿå°±æ˜¯è¯¥ç‰©ä½“åœ¨Hierarchyé¢æ¿çš„ä½ç½®ä¿¡æ¯äº†ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªæ•°æ®ï¼Œåœ¨Hierarchyé¢æ¿ä¸Šæ‹“å±•å°±å¾ˆç®€å•äº†ã€‚</p><pre><code>using System;using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEngine;using UnityEngine.Networking;using UnityEngine.UI;[InitializeOnLoad]public class HierachyIconManager{    // å±‚çº§çª—å£é¡¹å›è°ƒ    private static readonly EditorApplication.HierarchyWindowItemCallback hiearchyItemCallback;    private static Texture2D hierarchyIcon;    private static Texture2D HierarchyIcon    {        get        {            if (HierachyIconManager.hierarchyIcon == null)            {                HierachyIconManager.hierarchyIcon = (Texture2D)Resources.Load(&quot;icon_1&quot;);            }            return HierachyIconManager.hierarchyIcon;        }    }    /// &lt;summary&gt;    /// é™æ€æ„é€     /// &lt;/summary&gt;    static HierachyIconManager()    {        HierachyIconManager.hiearchyItemCallback = new EditorApplication.HierarchyWindowItemCallback(HierachyIconManager.DrawHierarchyIcon);        EditorApplication.hierarchyWindowItemOnGUI = (EditorApplication.HierarchyWindowItemCallback)Delegate.Combine(            EditorApplication.hierarchyWindowItemOnGUI,            HierachyIconManager.hiearchyItemCallback);        //EditorApplication.update += Update;    }    // ç»˜åˆ¶iconæ–¹æ³•    private static void DrawHierarchyIcon(int instanceID, Rect selectionRect)    {        Rect rectCheck = new Rect(selectionRect);        rectCheck.x += rectCheck.width - 20;        rectCheck.width = 18;        GameObject go = EditorUtility.InstanceIDToObject(instanceID) as GameObject;        go.SetActive(GUI.Toggle(rectCheck, go.activeSelf, string.Empty));        var index = 0;        GUIStyle style = null;        if (go.isStatic)        {            index += 1;            Rect rectIcon = GetRect(selectionRect, index);            GUI.Label(rectIcon, &quot;S&quot;);        }        // æ–‡å­—é¢œè‰²å®šä¹‰         var colorMesh = new Color(42 / 255f, 210 / 255f, 235 / 255f);        var colorSkinMesh = new Color(0.78f, 0.35f, 0.78f);        var colorLight = new Color(251 / 255f, 244 / 255f, 124 / 255f);        var colorPhysic = new Color(0.35f, 0.75f, 0f);        var colorCollider = new Color(0.35f, 0.75f, 0.196f);        var colorAnimation = new Color(175 / 255f, 175 / 255f, 218 / 255f);        var colorCamera = new Color(111 / 255f, 121 / 255f, 212 / 255f);        var colorParticle = new Color(130 / 255f, 124 / 255f, 251 / 255f);        var colorNav = new Color(217 / 255f, 80 / 255f, 62 / 255f);        var colorNetwork = new Color(42 / 255f, 129 / 255f, 235 / 255f);        var colorAudio = new Color(255 / 255f, 126 / 255f, 0f);        DrawRectIcon(selectionRect,HierarchyIcon,ref index);        DrawRectIcon&lt;MeshRenderer&gt;(selectionRect, go, colorMesh, ref index, ref style);        DrawRectIcon&lt;SkinnedMeshRenderer&gt;(selectionRect, go, colorSkinMesh, ref index, ref style);        // Colliders        DrawRectIcon&lt;BoxCollider&gt;(selectionRect, go, colorCollider, ref index, ref style);        DrawRectIcon&lt;SphereCollider&gt;(selectionRect, go, colorCollider, ref index, ref style);        DrawRectIcon&lt;CapsuleCollider&gt;(selectionRect, go, colorCollider, ref index, ref style);        DrawRectIcon&lt;MeshCollider&gt;(selectionRect, go, colorCollider, ref index, ref style);        DrawRectIcon&lt;CharacterController&gt;(selectionRect, go, colorCollider, ref index, ref style);        // RigidBody        DrawRectIcon&lt;Rigidbody&gt;(selectionRect, go, colorPhysic, ref index, ref style);        // Lights        DrawRectIcon&lt;Light&gt;(selectionRect, go, colorLight, ref index, ref style);        // Joints        // Animation / Animator        DrawRectIcon&lt;Animator&gt;(selectionRect, go, colorAnimation, ref index, ref style);        DrawRectIcon&lt;Animation&gt;(selectionRect, go, colorAnimation, ref index, ref style);        // Camera / Projector        DrawRectIcon&lt;Camera&gt;(selectionRect, go, colorCamera, ref index, ref style);        DrawRectIcon&lt;Projector&gt;(selectionRect, go, colorCamera, ref index, ref style);        // NavAgent        DrawRectIcon&lt;UnityEngine.AI.NavMeshAgent&gt;(selectionRect, go, colorNav, ref index, ref style);        DrawRectIcon&lt;UnityEngine.AI.NavMeshObstacle&gt;(selectionRect, go, colorNav, ref index, ref style);        // Network        DrawRectIcon&lt;NetworkIdentity&gt;(selectionRect, go, colorNetwork, ref index, ref style);        DrawRectIcon&lt;NetworkAnimator&gt;(selectionRect, go, colorNetwork, ref index, ref style);        DrawRectIcon&lt;NetworkTransform&gt;(selectionRect, go, colorNetwork, ref index, ref style);        DrawRectIcon&lt;NetworkBehaviour&gt;(selectionRect, go, colorNetwork, ref index, ref style);        DrawRectIcon&lt;NetworkManager&gt;(selectionRect, go, colorNetwork, ref index, ref style);        // Particle        DrawRectIcon&lt;ParticleSystem&gt;(selectionRect, go, colorParticle, ref index, ref style);        // Audio        DrawRectIcon&lt;AudioSource&gt;(selectionRect, go, colorAudio, ref index, ref style);        DrawRectIcon&lt;AudioReverbZone&gt;(selectionRect, go, colorAudio, ref index, ref style);        //UI        DrawRectIcon&lt;Image&gt;(selectionRect, go, colorParticle, ref index, ref style);        DrawRectIcon&lt;Text&gt;(selectionRect, go, colorParticle, ref index, ref style);        DrawRectIcon&lt;SpriteRenderer&gt;(selectionRect, go, colorParticle, ref index, ref style);        // ç»˜åˆ¶Labelæ¥è¦†ç›–åŸæœ‰çš„åå­—        if (style != null &amp;&amp; go.activeInHierarchy)        {            GUI.Label(selectionRect, go.name, style);        }    }    private static void Update()    {        Debug.Log(&quot;1&quot;);    }    private static Rect GetRect(Rect selectionRect , int index)    {        Rect rect = new Rect(selectionRect);        rect.x += rect.width - 20 - (20 * index);        rect.width = 18;        return rect;    }    /// &lt;summary&gt;    /// ç»˜åˆ¶ä¸€ä¸ªUnityåŸå£°å›¾æ ‡    /// &lt;/summary&gt;    /// &lt;typeparam name=&quot;T&quot;&gt;&lt;/typeparam&gt;    /// &lt;param name=&quot;rect&quot;&gt;&lt;/param&gt;    private static void DrawIcon&lt;T&gt;(Rect rect)    {        var icon = EditorGUIUtility.ObjectContent(null, typeof(T)).image;        GUI.Label(rect, icon);    }    private static void DrawRectIcon&lt;T&gt;(Rect selectionRect,GameObject go,Color textColor,ref int order, ref GUIStyle style)where T :Component    {        if (go.HasComponent&lt;T&gt;())        {            order += 1;            var rect = GetRect(selectionRect, order);            DrawIcon&lt;T&gt;(rect);        }    }    private static void DrawRectIcon(Rect selectionRect,Texture2D texture,ref int order)    {        order += 1;        var rect = GetRect(selectionRect,order);        GUI.Label(rect,texture);    }}public static class ExtensionMethods{    public static bool HasComponent&lt;T&gt;(this GameObject go) where T : Component    {        return go.GetComponent&lt;T&gt;() != null;    }}</code></pre><p>å…¶ä¸­ä½¿ç”¨äº†[InitializeOnLoad]ï¼Œè¿™ä¸ªAttributeçš„æ„æ€æ˜¯åœ¨å¯åŠ¨Unityçš„æ—¶å€™è¿è¡Œçš„ç¼–è¾‘å™¨è„šæœ¬ï¼Œè¯¥ç±»éœ€è¦ä¸€ä¸ªé™æ€çš„æ„é€ å‡½æ•°ã€‚ã€‚</p><p>é€šè¿‡EditorGUIUtility.ObjectContent(null,<br>typeof(T)).imageå°±å¯ä»¥è·å–åˆ°Tç±»å‹çš„UnityåŸå£°Textureäº†ã€‚<br>è€ŒLabelå’ŒToggleï¼Œåˆ™åˆ†åˆ«ä½¿ç”¨GUI.Labelå’ŒGUI.Toggleå³å¯ã€‚ã€‚å…·ä½“å‚è§ä¸Šé¢ä»£ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶è‡ªå·±éœ€è¦çš„Hierarchyé¢æ¿ï¼Œä¾‹å¦‚ä¸Šè¿°ä»£ç ä¸­é€šè¿‡åˆ¤æ–­è¯¥GameObjectæ˜¯å¦æ˜¯staticçš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç»˜åˆ¶ä¸€ä¸ªSåœ¨æ—è¾¹ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¿«é€Ÿçš„æŸ¥çœ‹å“ªäº›ç‰©ä½“æ˜¯staticçš„äº†ã€‚ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hierarchy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹äºŒï¼šReorderableListå¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰</title>
      <link href="/2017/09/02/unity-bian-ji-qi-tuo-zhan-zhi-er-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-fu-za-shi-yong/"/>
      <url>/2017/09/02/unity-bian-ji-qi-tuo-zhan-zhi-er-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-fu-za-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>å…ˆçœ‹æ•ˆæœgifå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170902160043794?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>å¦‚æœæ²¡æœ‰çœ‹è¿‡Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸€ï¼šReorderableListå¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†ï¼ˆç®€å•ä½¿ç”¨ï¼‰çš„ï¼Œå¯ä»¥å…ˆçœ‹è¿™ä¸€ç¯‡ï¼š<br><a href="http://blog.csdn.net/qq_26999509/article/details/77782177" target="_blank" rel="noopener"> http://blog.csdn.net/qq_26999509/article/details/77782177</a></p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ¥ç»˜åˆ¶æ›´åŠ å¤æ‚çš„ç±»</p><p>å…ˆæä¾›ä¸€ä¸ªéœ€è¦ç»˜åˆ¶çš„ç±»</p><pre><code>using UnityEngine;using System.Collections;using System.Collections.Generic;using System;public class CharacterTest : MonoBehaviour {    public List&lt;Character&gt; characters = new List&lt;Character&gt;();    // Use this for initialization    void Start ()     {    }    // Update is called once per frame    void Update ()     {    }}[Serializable]public class Character{    [SerializeField]    Texture icon;    [SerializeField]    string name;    [SerializeField]    int hp;    [SerializeField]    int power;    [SerializeField]    GameObject weapon;}</code></pre><p>ç„¶åè·Ÿä¸Šä¸€ç¯‡ä¸€æ ·ï¼Œé€šè¿‡ä½¿ç”¨ReorderableListç»˜åˆ¶List</p><pre><code>using UnityEngine;using System.Collections;using UnityEditor;using UnityEditorInternal;[CustomEditor(typeof(CharacterTest))]public class CharacterInspector : Editor {    ReorderableList reorderableList;    void OnEnable()    {        SerializedProperty prop = serializedObject.FindProperty(&quot;characters&quot;);        reorderableList = new ReorderableList(serializedObject, prop, true, true, true, true);        //è®¾ç½®å•ä¸ªå…ƒç´ çš„é«˜åº¦        reorderableList.elementHeight = 80;        //ç»˜åˆ¶å•ä¸ªå…ƒç´         reorderableList.drawElementCallback =            (rect, index, isActive, isFocused) =&gt; {                var element = prop.GetArrayElementAtIndex(index);                rect.height -= 4;                rect.y += 2;                EditorGUI.PropertyField(rect, element);            };        //èƒŒæ™¯è‰²        reorderableList.drawElementBackgroundCallback = (rect, index, isActive, isFocused) =&gt; {            GUI.backgroundColor = Color.yellow;        };        //å¤´éƒ¨        reorderableList.drawHeaderCallback = (rect) =&gt;            EditorGUI.LabelField(rect, prop.displayName);    }    public override void OnInspectorGUI()    {        serializedObject.Update();        reorderableList.DoLayoutList();        serializedObject.ApplyModifiedProperties();    }}</code></pre><p>ç›®å‰çš„æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170902160317066?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æœ€åè¿˜éœ€è¦åˆ©ç”¨PropertyDraweræ¥ç»˜åˆ¶å•ä¸ªSerializableç±»çš„æ¯ä¸ªå®ä¾‹çš„GUIï¼Œä¹Ÿå°±æ˜¯Characterç±»</p><pre><code>using UnityEngine;using System.Collections;using UnityEditor;//å®šåˆ¶Serializableç±»çš„æ¯ä¸ªå®ä¾‹çš„GUI[CustomPropertyDrawer(typeof(Character))]public class CharacterDrawer : PropertyDrawer {    public override void OnGUI(Rect position, SerializedProperty property, GUIContent label)    {        //åˆ›å»ºä¸€ä¸ªå±æ€§åŒ…è£…å™¨ï¼Œç”¨äºå°†å¸¸è§„GUIæ§ä»¶ä¸SerializedPropertyä¸€èµ·ä½¿ç”¨        using (new EditorGUI.PropertyScope(position, label, property))        {            //è®¾ç½®å±æ€§åå®½åº¦ Name HP            EditorGUIUtility.labelWidth = 60;            //è¾“å…¥æ¡†é«˜åº¦ï¼Œé»˜è®¤ä¸€è¡Œçš„é«˜åº¦            position.height = EditorGUIUtility.singleLineHeight;            //ico ä½ç½®çŸ©å½¢            Rect iconRect = new Rect(position)            {                width = 68,                height = 68            };            Rect nameRect = new Rect(position)            {                width = position.width - 70,    //å‡å»iconçš„width 64                x = position.x + 70             //åœ¨iconçš„åŸºç¡€ä¸Šå³ç§»64            };            Rect hpRect = new Rect(nameRect)            {                //åœ¨nameçš„åŸºç¡€ä¸Šï¼Œyåæ ‡ä¸‹ç§»                y = nameRect.y + EditorGUIUtility.singleLineHeight + 2            };            Rect powerRect = new Rect(hpRect)            {                //åœ¨hpçš„åŸºç¡€ä¸Šï¼Œyåæ ‡ä¸‹ç§»                y = hpRect.y + EditorGUIUtility.singleLineHeight + 2            };            Rect weaponLabelRect = new Rect(powerRect)            {                y = powerRect.y + EditorGUIUtility.singleLineHeight + 2,                width = 60            };            Rect weaponRect = new Rect(weaponLabelRect)            {                x = weaponLabelRect.x + 60,                width = powerRect.width - 60            };            //æ‰¾åˆ°æ¯ä¸ªå±æ€§çš„åºåˆ—åŒ–å€¼            SerializedProperty iconProperty = property.FindPropertyRelative(&quot;icon&quot;);            SerializedProperty nameProperty = property.FindPropertyRelative(&quot;name&quot;);            SerializedProperty hpProperty = property.FindPropertyRelative(&quot;hp&quot;);            SerializedProperty powerProperty = property.FindPropertyRelative(&quot;power&quot;);            SerializedProperty weaponProperty = property.FindPropertyRelative(&quot;weapon&quot;);            //ç»˜åˆ¶icon            iconProperty.objectReferenceValue = EditorGUI.ObjectField(iconRect, iconProperty.objectReferenceValue, typeof(Texture), false);            //ç»˜åˆ¶name            nameProperty.stringValue = EditorGUI.TextField(nameRect, nameProperty.displayName, nameProperty.stringValue);            //Sliderï¼ŒèŒƒå›´åœ¨0-100            EditorGUI.IntSlider(hpRect, hpProperty, 0, 100);            //Sliderï¼ŒèŒƒå›´åœ¨0-10            EditorGUI.IntSlider(powerRect, powerProperty, 0, 10);            EditorGUI.PrefixLabel(weaponLabelRect, new GUIContent(&quot;weapon&quot;));            EditorGUI.PropertyField(weaponRect, weaponProperty, GUIContent.none);        }    }}</code></pre><p>æœ€åæ•ˆæœå°±æ˜¯æ–‡ç« ä¸€å¼€å§‹çš„gifå›¾äº†</p><p>ç¤ºä¾‹å·¥ç¨‹é“¾æ¥ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1cgyZ98" target="_blank" rel="noopener"> http://pan.baidu.com/s/1cgyZ98 </a> å¯†ç ï¼šjbzh</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReorderableList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityç¼–è¾‘å™¨æ‹“å±•ä¹‹ä¸€ï¼šReorderableListå¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†ï¼ˆç®€å•ä½¿ç”¨ï¼‰</title>
      <link href="/2017/09/01/unity-bian-ji-qi-tuo-zhan-zhi-yi-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-jian-dan-shi-yong/"/>
      <url>/2017/09/01/unity-bian-ji-qi-tuo-zhan-zhi-yi-reorderablelist-ke-chong-xin-pai-xu-de-lie-biao-kuang-jian-dan-shi-yong/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†"><a href="#å¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†" class="headerlink" title="å¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†"></a>å¯é‡æ–°æ’åºçš„åˆ—è¡¨æ¡†</h1><p>å…ˆçœ‹æ•ˆæœå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170901231522594?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>UnityEditorInternalå‘½åç©ºé—´ä¸‹æä¾› ä¸€ä¸ªç±»ReorderableListå¯ä»¥å®ç°é€šè¿‡æ‹–æ›³æ¥è¾¾åˆ°åˆ—è¡¨å…ƒç´ çš„é‡æ–°æ’åºã€‚</p><p>åŸºæœ¬ä½¿ç”¨ï¼š<br>åç§° æè¿°<br>draggable æ‹–æ›³æ’åº<br>displayAdd æ˜¾ç¤ºæ·»åŠ æŒ‰é’®<br>displayRemove æ˜¾ç¤ºç§»é™¤æŒ‰é’®<br>elementHeight å…ƒç´ é«˜åº¦<br>headerHeight è¡¨å¤´é«˜åº¦<br>footerHeight å°¾éƒ¨é«˜åº¦<br>showDefaultBackground æ˜¾ç¤ºé»˜è®¤èƒŒæ™¯<br>drawHeaderCallback ç»˜åˆ¶è¡¨å¤´å›è°ƒ<br>drawFooterCallback ç»˜åˆ¶å°¾éƒ¨å›è°ƒ<br>drawElementCallback ç»˜åˆ¶å…ƒç´ å›è°ƒ<br>drawElementBackgroundCallback ç»˜åˆ¶å…ƒç´ èƒŒæ™¯å›è°ƒ<br>onReorderCallback é‡æ–°æ’åºå›è°ƒ<br>onSelectCallback é€‰ä¸­å›è°ƒ<br>onAddCallback æ·»åŠ æŒ‰é’®å›è°ƒ<br>onAddDropdownCallback æ·»åŠ ä¸‹æ‹‰é€‰é¡¹å›è°ƒ<br>onRemoveCallback ç§»é™¤å…ƒç´ å›è°ƒ<br>onMouseUpCallback é¼ æ ‡æŠ¬èµ·å›è°ƒ<br>onCanRemoveCallback æ˜¯å¦æ˜¾ç¤ºå¯ç§»é™¤æŒ‰é’®å›è°ƒ<br>onChangedCallback åˆ—è¡¨æ”¹å˜å›è°ƒ</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š<br>å…ˆåˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼šTestList</p><pre><code>using UnityEngine;using System.Collections;using System.Collections.Generic;public class TestList : MonoBehaviour {    public List&lt;Color&gt; m_colors = new List&lt;Color&gt;();    private void Start()    {    }}</code></pre><p>ä¸Šè¿°ä»£ç ä¸­æœ‰ä¸€ä¸ªListç±»å‹çš„å˜é‡ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ä¸€ä¸ªç»§æ‰¿è‡ªEditorè„šæœ¬å®ç°ä¸»è¦é€»è¾‘</p><pre><code>using UnityEngine;using System.Collections;using UnityEditor;using UnityEditorInternal;using System;[CustomEditor(typeof(TestList))]public class TestListEditor : Editor {    private ReorderableList m_colors;    private void OnEnable()    {        m_colors = new ReorderableList(serializedObject, serializedObject.FindProperty(&quot;m_colors&quot;), true, true, true, true);        //ç»˜åˆ¶å…ƒç´         m_colors.drawElementCallback = (Rect rect, int index, bool selected, bool focused) =&gt;        {            SerializedProperty itemData = m_colors.serializedProperty.GetArrayElementAtIndex(index);            rect.y += 2;            rect.height = EditorGUIUtility.singleLineHeight;            EditorGUI.PropertyField(rect, itemData, GUIContent.none);        };        //ç»˜åˆ¶è¡¨å¤´        m_colors.drawHeaderCallback = (Rect rect) =&gt;        {            GUI.Label(rect, &quot;Colors&quot;);        };        //å½“ç§»é™¤å…ƒç´ æ—¶å›è°ƒ        m_colors.onRemoveCallback = (ReorderableList list) =&gt;        {            //å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†            if (EditorUtility.DisplayDialog(&quot;è­¦å‘Š&quot;,&quot;æ˜¯å¦ç¡®å®šåˆ é™¤è¯¥é¢œè‰²&quot;,&quot;æ˜¯&quot;,&quot;å¦&quot;))            {                //å½“ç‚¹å‡»â€œæ˜¯â€                ReorderableList.defaultBehaviours.DoRemoveButton(list);            }        };        //æ·»åŠ æŒ‰é’®å›è°ƒ        m_colors.onAddCallback = (ReorderableList list) =&gt;        {            if (list.serializedProperty != null)            {                list.serializedProperty.arraySize++;                list.index = list.serializedProperty.arraySize - 1;                SerializedProperty itemData = list.serializedProperty.GetArrayElementAtIndex(list.index);                itemData.colorValue = Color.red;            }            else            {                ReorderableList.defaultBehaviours.DoAddButton(list);            }        };        //é¼ æ ‡æŠ¬èµ·å›è°ƒ        m_colors.onMouseUpCallback = (ReorderableList list) =&gt;        {            Debug.Log(&quot;MouseUP&quot;);        };        //å½“é€‰æ‹©å…ƒç´ å›è°ƒ        m_colors.onSelectCallback = (ReorderableList list) =&gt;        {            //æ‰“å°é€‰ä¸­å…ƒç´ çš„ç´¢å¼•            Debug.Log(list.index);        };    }    public override void OnInspectorGUI()    {        EditorGUILayout.Space();        serializedObject.Update();        m_colors.DoLayoutList();        serializedObject.ApplyModifiedProperties();    }}</code></pre><p>ç»“æœå°±å¦‚ä¹‹å‰çš„å›¾ä¸­æ˜¾ç¤ºæ‰€ç¤ºã€‚</p><p>å…¶ä¸­OnInspectorGUIå‡½æ•°ä¸­ï¼Œåˆ é™¤äº†base.OnInspectorGUI();<br>ä¸ç„¶çš„è¯ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170901232457862?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>å¯ä»¥çœ‹å‡ºï¼Œcolorsç»˜åˆ¶äº†ä¸¤éã€‚</p><p>ç¤ºä¾‹å·¥ç¨‹é“¾æ¥ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1o7Tjslc" target="_blank" rel="noopener"> http://pan.baidu.com/s/1o7Tjslc </a><br>å¯†ç ï¼špgri</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> Unityç¼–è¾‘å™¨æ‹“å±• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReorderableList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹å›¾ç‰‡è½®æ’­ç»„ä»¶å®ç°</title>
      <link href="/2017/08/20/unity-zhi-tu-pian-lun-bo-zu-jian-shi-xian/"/>
      <url>/2017/08/20/unity-zhi-tu-pian-lun-bo-zu-jian-shi-xian/</url>
      
        <content type="html"><![CDATA[<p>æ¸¸æˆä¸­æœ‰æ—¶å€™ä¼šè§åˆ°å›¾ç‰‡è½®æ’­çš„æ•ˆæœï¼Œé‚£ä¹ˆè¿™é‡Œå°±è‡ªå·±å°è£…äº†ä¸€ä¸ªï¼ŒåŒ…æ‹¬è‡ªåŠ¨è½®æ’­ã€åˆ‡é¡µæŒ‰é’®æ§åˆ¶ã€é¡µç ä¸‹æ ‡æ›´æ–°ã€æ»‘åŠ¨è½®æ’­ã€åˆ‡é¡µåçš„å›è°ƒç­‰ç­‰<br>ä¸‹é¢ï¼Œå…ˆä¸Šä¸€ä¸ªç®€é™‹çš„gifåŠ¨æ€æ•ˆæœå›¾</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170820225254127?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè¯¥ç¤ºä¾‹åŒ…æ‹¬äº†ä¸‰å¼ å›¾ç‰‡çš„è½®æ’­ï¼Œå·¦å³åˆ†åˆ«æ˜¯ä¸Šä¸€å¼ å’Œä¸‹ä¸€å¼ çš„æŒ‰é’®ï¼Œå³ä¸‹è§’æ˜¾ç¤ºäº†å½“å‰æ˜¯ç¬¬å‡ ç« çš„é¡µç ä¸‹æ ‡ã€‚</p><p>ç›´æ¥ä¸Šè„šæœ¬ï¼š</p><pre><code>using System;using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.Events;using UnityEngine.EventSystems;using UnityEngine.UI;namespace UnityEngine.UI{    [AddComponentMenu(&quot;UI/Slidershow&quot;, 39)]          //æ·»åŠ èœå•    [ExecuteInEditMode]                             //ç¼–è¾‘æ¨¡å¼ä¸‹å¯æ‰§è¡Œ    [DisallowMultipleComponent]                     //ä¸å¯é‡å¤    [RequireComponent(typeof(RectTransform))]       //ä¾èµ–äºRectTransformç»„ä»¶    public class Slideshow : UIBehaviour,IPointerDownHandler,IPointerUpHandler    {        public enum MovementType        {            /// &lt;summary&gt;            /// å¾ªç¯            /// &lt;/summary&gt;            Circulation,        //å¾ªç¯ï¼Œè½®æ’­åˆ°æœ€åä¸€é¡µä¹‹åï¼Œç›´æ¥å›åˆ°ç¬¬ä¸€é¡µ            /// &lt;summary&gt;            /// æ¥å›å¾€å¤            /// &lt;/summary&gt;            PingPong,           //æ¥å›å¾€å¤ï¼Œè½®æ’­åˆ°æœ€åä¸€é¡µä¹‹åï¼Œå€’åºè½®æ’­ï¼Œåˆ°ç¬¬ä¸€é¡µä¹‹åï¼ŒåŒç†        }        public enum MoveDir        {            Left,            Right,        }        [SerializeField]        private MovementType m_movement = MovementType.Circulation;        public MovementType Movement { get { return m_movement; } set { m_movement = value; } }        [SerializeField]        private RectTransform m_content;        public RectTransform Content { get { return m_content; } set { m_content = value; } }        [SerializeField]        private Button m_lastPageButton;        public Button LastPageButton { get { return m_lastPageButton; } set { m_lastPageButton = value; } }        [SerializeField]        private Button m_nextPageButton;        public Button NextPageButton { get { return m_nextPageButton; } set { m_nextPageButton = value; } }        /// &lt;summary&gt;        /// è‡ªåŠ¨è½®æ’­æ—¶é•¿        /// &lt;/summary&gt;        [SerializeField]        private float m_showTime = 2.0f;        public float ShowTime { get { return m_showTime; } set { m_showTime = value; } }        /// &lt;summary&gt;        /// æ˜¯å¦è‡ªåŠ¨è½®æ’­        /// &lt;/summary&gt;        [SerializeField]        private bool m_autoSlide = false;        public bool AutoSlide { get { return m_autoSlide; }set { m_autoSlide = value; } }        /// &lt;summary&gt;        /// è‡ªåŠ¨è½®æ’­æ–¹å‘ï¼Œ-1è¡¨ç¤ºå‘å·¦ï¼Œ1è¡¨ç¤ºå‘å³        /// &lt;/summary&gt;        private MoveDir m_autoSlideDir = MoveDir.Right;        /// &lt;summary&gt;        /// æ˜¯å¦å…è®¸æ‹–åŠ¨åˆ‡é¡µ        /// &lt;/summary&gt;        [SerializeField]        private bool m_allowDrag = true;        public bool AllowDrag { get { return m_allowDrag; }set { m_allowDrag = value; } }        /// &lt;summary&gt;        /// å½“å‰æ˜¾ç¤ºé¡µçš„é¡µç ï¼Œä¸‹æ ‡ä»0å¼€å§‹        /// &lt;/summary&gt;        private int m_curPageIndex = 0;        public int CurPageIndex { get { return m_curPageIndex; } }        /// &lt;summary&gt;        /// æœ€å¤§é¡µç         /// &lt;/summary&gt;        private int m_maxPageIndex = 0;        public int MaxPageIndex { get { return m_maxPageIndex; } }        /// &lt;summary&gt;        /// åœ†åœˆé¡µç ToggleGroup        /// &lt;/summary&gt;        [SerializeField]        private ToggleGroup m_pageToggleGroup;        public ToggleGroup PageToggleGroup { get { return m_pageToggleGroup; } set { m_pageToggleGroup = value; } }        /// &lt;summary&gt;        /// åœ†åœˆé¡µç Toggle List        /// &lt;/summary&gt;        private List&lt;Toggle&gt; m_pageToggleList;        public List&lt;Toggle&gt; PageToggleLise { get { return m_pageToggleList; }}        //itemæ•°ç›®        private int m_itemNum = 0;        public int ItemNum { get { return m_itemNum; } }        //ä»¥Toggleä¸ºKeyï¼Œè¿”å›é¡µç         private Dictionary&lt;Toggle, int&gt; m_togglePageNumDic = null;        private float m_time = 0f;        private List&lt;float&gt; m_childItemPos = new List&lt;float&gt;();        private GridLayoutGroup m_grid = null;        protected override void Awake()        {            base.Awake();            if (null == m_content)            {                throw new Exception(&quot;Slideshow content is null&quot;);            }            else            {                m_grid = m_content.GetComponent&lt;GridLayoutGroup&gt;();                if (m_grid == null)                {                    throw new Exception(&quot;Slideshow content is miss GridLayoutGroup Component&quot;);                }                InitChildItemPos();            }            if (null != m_lastPageButton)            {                m_lastPageButton.onClick.AddListener(OnLastPageButtonClick);            }            if (null != m_nextPageButton)            {                m_nextPageButton.onClick.AddListener(OnNextPageButtonClick);            }            if (null != m_pageToggleGroup)            {                int toggleNum = m_pageToggleGroup.transform.childCount;                if (toggleNum &gt; 0)                {                    m_pageToggleList = new List&lt;Toggle&gt;();                    m_togglePageNumDic = new Dictionary&lt;Toggle, int&gt;();                    for (int i = 0; i &lt; toggleNum; i++)                    {                        Toggle childToggle = m_pageToggleGroup.transform.GetChild(i).GetComponent&lt;Toggle&gt;();                        if (null != childToggle)                        {                            m_pageToggleList.Add(childToggle);                            m_togglePageNumDic.Add(childToggle, i);                            childToggle.onValueChanged.AddListener(OnPageToggleValueChanged);                        }                    }                    m_itemNum = m_pageToggleList.Count;                    m_maxPageIndex = m_pageToggleList.Count - 1;                }            }            UpdateCutPageButtonActive(m_curPageIndex);        }        private void InitChildItemPos()        {            int childCount = m_content.transform.childCount;            float cellSizeX = m_grid.cellSize.x;            float spacingX = m_grid.spacing.x;            float posX = -cellSizeX * 0.5f;            m_childItemPos.Add(posX);            for (int i = 1; i &lt; childCount; i++)            {                posX -= cellSizeX + spacingX;                m_childItemPos.Add(posX);            }        }        private void OnPageToggleValueChanged(bool ison)        {            if (ison)            {                Toggle activeToggle = GetActivePageToggle();                if (m_togglePageNumDic.ContainsKey(activeToggle))                {                    int page = m_togglePageNumDic[activeToggle];                    SwitchToPageNum(page);                }            }        }        private Toggle GetActivePageToggle()        {            if (m_pageToggleGroup == null || m_pageToggleList == null || m_pageToggleList.Count &lt;= 0)            {                return null;            }            for (int i = 0; i &lt; m_pageToggleList.Count; i++)            {                if (m_pageToggleList[i].isOn)                {                    return m_pageToggleList[i];                }            }            return null;        }        /// &lt;summary&gt;        /// åˆ‡æ¢è‡³æŸé¡µ        /// &lt;/summary&gt;        /// &lt;param name=&quot;pageNum&quot;&gt;é¡µç &lt;/param&gt;        private void SwitchToPageNum(int pageNum)        {            if (pageNum &lt; 0 || pageNum &gt; m_maxPageIndex)            {                throw new Exception(&quot;page num is error&quot;);            }            if (pageNum == m_curPageIndex)            {                //ç›®æ ‡é¡µä¸å½“å‰é¡µæ˜¯åŒä¸€é¡µ                return;            }            m_curPageIndex = pageNum;            if (m_movement == MovementType.PingPong)            {                UpdateCutPageButtonActive(m_curPageIndex);            }            Vector3 pos = m_content.localPosition;            m_content.localPosition = new Vector3(m_childItemPos[m_curPageIndex], pos.y, pos.z);            m_pageToggleList[m_curPageIndex].isOn = true;            if (m_onValueChanged != null)            {                //æ‰§è¡Œå›è°ƒ                m_onValueChanged.Invoke(m_pageToggleList[m_curPageIndex].gameObject);            }        }        /// &lt;summary&gt;        /// æ ¹æ®é¡µç æ›´æ–°åˆ‡é¡µæŒ‰é’®active        /// &lt;/summary&gt;        /// &lt;param name=&quot;pageNum&quot;&gt;&lt;/param&gt;        private void UpdateCutPageButtonActive(int pageNum)        {            if (pageNum == 0)            {                UpdateLastButtonActive(false);                UpdateNextButtonActive(true);            }            else if (pageNum == m_maxPageIndex)            {                UpdateLastButtonActive(true);                UpdateNextButtonActive(false);            }            else            {                UpdateLastButtonActive(true);                UpdateNextButtonActive(true);            }        }        private void OnNextPageButtonClick()        {            m_time = Time.time;     //é‡æ–°è®¡æ—¶            switch (m_movement)            {                case MovementType.Circulation:                    SwitchToPageNum((m_curPageIndex + 1) % m_itemNum);                    break;                case MovementType.PingPong:                    //è¯¥æ¨¡å¼ä¸‹ï¼Œä¼šè‡ªåŠ¨éšè—åˆ‡é¡µæŒ‰é’®                    SwitchToPageNum(m_curPageIndex + 1);                    break;                default:                    break;            }            Debug.Log(m_content.localPosition);        }        private void OnLastPageButtonClick()        {            m_time = Time.time; //é‡æ–°è®¡æ—¶            switch (m_movement)            {                case MovementType.Circulation:                    SwitchToPageNum((m_curPageIndex + m_itemNum - 1) % m_itemNum);                    break;                case MovementType.PingPong:                    //è¯¥æ¨¡å¼ä¸‹ï¼Œä¼šè‡ªåŠ¨éšè—åˆ‡é¡µæŒ‰é’®                    SwitchToPageNum(m_curPageIndex - 1);                    break;                default:                    break;            }        }        private void UpdateLastButtonActive(bool activeSelf)        {            if (null == m_lastPageButton)            {                throw new Exception(&quot;Last Page Button is null&quot;);            }            bool curActive = m_lastPageButton.gameObject.activeSelf;            if (curActive != activeSelf)            {                m_lastPageButton.gameObject.SetActive(activeSelf);            }        }        private void UpdateNextButtonActive(bool activeSelf)        {            if (null == m_nextPageButton)            {                throw new Exception(&quot;Next Page Button is null&quot;);            }            bool curActive = m_nextPageButton.gameObject.activeSelf;            if (curActive != activeSelf)            {                m_nextPageButton.gameObject.SetActive(activeSelf);            }        }        private Vector3 m_originDragPos = Vector3.zero;        private Vector3 m_desDragPos = Vector3.zero;        private bool m_isDrag = false;        public void OnPointerDown(PointerEventData eventData)        {            if (!m_allowDrag)            {                return;            }            if (eventData.button != PointerEventData.InputButton.Left)            {                return;            }            if (!IsActive())            {                return;            }            m_isDrag = true;            m_originDragPos = eventData.position;        }        public void OnPointerUp(PointerEventData eventData)        {            m_desDragPos = eventData.position;            MoveDir dir = MoveDir.Right;            if (m_desDragPos.x &lt; m_originDragPos.x)            {                dir = MoveDir.Left;            }            switch (dir)            {                case MoveDir.Left:                    if (m_movement == MovementType.Circulation || (m_movement == MovementType.PingPong &amp;&amp; m_curPageIndex != 0))                    {                        OnLastPageButtonClick();                    }                    break;                case MoveDir.Right:                    if (m_movement == MovementType.Circulation || (m_movement == MovementType.PingPong &amp;&amp; m_curPageIndex != m_maxPageIndex))                    {                        OnNextPageButtonClick();                    }                    break;            }            m_isDrag = false;        }        /// &lt;summary&gt;        /// åˆ‡é¡µåå›è°ƒå‡½æ•°        /// &lt;/summary&gt;        [Serializable]        public class SlideshowEvent : UnityEvent&lt;GameObject&gt; { }        [SerializeField]        private SlideshowEvent m_onValueChanged = new SlideshowEvent();        public SlideshowEvent OnValueChanged { get { return m_onValueChanged; } set { m_onValueChanged = value; } }        public override bool IsActive()        {            return base.IsActive() &amp;&amp; m_content != null;        }        private void Update()        {            if (m_autoSlide &amp;&amp; !m_isDrag)            {                if (Time.time &gt; m_time + m_showTime)                {                    m_time = Time.time;                    switch (m_movement)                    {                        case MovementType.Circulation:                            m_autoSlideDir = MoveDir.Right;                            break;                        case MovementType.PingPong:                            if (m_curPageIndex == 0)                            {                                m_autoSlideDir = MoveDir.Right;                            }                            else if (m_curPageIndex == m_maxPageIndex)                            {                                m_autoSlideDir = MoveDir.Left;                            }                            break;                    }                    switch (m_autoSlideDir)                    {                        case MoveDir.Left:                            OnLastPageButtonClick();                            break;                        case MoveDir.Right:                            OnNextPageButtonClick();                            break;                    }                }            }        }    }}</code></pre><p>è¿™é‡Œæä¾›äº†ä¸€ä¸ªæšä¸¾MovementTypeï¼Œè¯¥æšä¸¾å®šä¹‰äº†ä¸¤ç§å¾ªç¯æ–¹å¼ï¼Œå…¶ä¸­Circulationå¾ªç¯ï¼Œæ˜¯æŒ‡è½®æ’­åˆ°æœ€åä¸€é¡µä¹‹åï¼Œç›´æ¥å›åˆ°ç¬¬ä¸€é¡µï¼›è€ŒPingPongç›¸ä¿¡å¤§å®¶ä½ ç†Ÿæ‚‰äº†ï¼Œå°±æ˜¯æ¥å›å¾€å¤çš„ã€‚</p><p>å…¶ä¸­è¿˜æä¾›äº†å¯¹æ¯å¼ å›¾æ˜¾ç¤ºçš„æ—¶é•¿è¿›è¡Œè®¾ç½®ï¼Œè¿˜æœ‰æ˜¯å¦å…è®¸è‡ªåŠ¨è½®æ’­çš„æ§åˆ¶ï¼Œæ˜¯å¦å…è®¸æ‹–åŠ¨åˆ‡é¡µæ§åˆ¶ï¼Œç­‰ç­‰ã€‚ã€‚å…¶å®å°†å›¾ç‰‡ä½œä¸ºè½®æ’­å­å…ƒç´ åªæ˜¯å…¶ä¸­ä¹‹ä¸€è€Œå·²ï¼Œå®Œå…¨å¯ä»¥å°†ScrollRectä½œä¸ºè½®æ’­å­å…ƒç´ ï¼Œè¿™æ ·æ¯ä¸ªå­å…ƒç´ åˆå¯ä»¥æ»‘åŠ¨é˜…è§ˆäº†ã€‚ã€‚</p><p>è¿™é‡Œè¿˜æä¾›äº†ä¸¤ä¸ªç¼–è¾‘å™¨è„šæœ¬ï¼Œä¸€ä¸ªæ˜¯SlideshowEditorï¼ˆä¾èµ–Slideshowç»„ä»¶ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ç»™ç”¨æˆ·æä¾›èœå•ç”¨çš„CreateSlideshowï¼Œä»£ç åˆ†åˆ«å¦‚ä¸‹ï¼š</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEditor;using UnityEngine;using UnityEngine.EventSystems;using UnityEngine.UI;public class CreateSlideshow : Editor{    private static GameObject m_slideshowPrefab = null;    private static GameObject m_canvas = null;    [MenuItem(&quot;GameObject/UI/Slideshow&quot;)]    static void CreateSlideshowUI(MenuCommand menuCommand)    {        if (null == m_slideshowPrefab)        {            m_slideshowPrefab = Resources.Load&lt;GameObject&gt;(&quot;Slideshow&quot;);            if (null == m_slideshowPrefab)            {                Debug.LogError(&quot;Prefab Slideshow is null&quot;);                return;            }        }        m_canvas = menuCommand.context as GameObject;        if (m_canvas == null || m_canvas.GetComponentInParent&lt;Canvas&gt;() == null)        {            m_canvas = GetOrCreateCanvasGameObject();        }        GameObject go = GameObject.Instantiate(m_slideshowPrefab, m_canvas.transform);        go.transform.localPosition = Vector3.zero;        go.name = &quot;Slideshow&quot;;        Selection.activeGameObject = go;    }    static public GameObject GetOrCreateCanvasGameObject()    {        GameObject selectedGo = Selection.activeGameObject;        Canvas canvas = (selectedGo != null) ? selectedGo.GetComponentInParent&lt;Canvas&gt;() : null;        if (canvas != null &amp;&amp; canvas.gameObject.activeInHierarchy)            return canvas.gameObject;        canvas = Object.FindObjectOfType(typeof(Canvas)) as Canvas;        if (canvas != null &amp;&amp; canvas.gameObject.activeInHierarchy)            return canvas.gameObject;        return CreateCanvas();    }    public static GameObject CreateCanvas()    {        var root = new GameObject(&quot;Canvas&quot;);        root.layer = LayerMask.NameToLayer(&quot;UI&quot;);        Canvas canvas = root.AddComponent&lt;Canvas&gt;();        canvas.renderMode = RenderMode.ScreenSpaceOverlay;        root.AddComponent&lt;CanvasScaler&gt;();        root.AddComponent&lt;GraphicRaycaster&gt;();        Undo.RegisterCreatedObjectUndo(root, &quot;Create &quot; + root.name);        CreateEventSystem();        return root;    }    public static void CreateEventSystem()    {        var esys = Object.FindObjectOfType&lt;EventSystem&gt;();        if (esys == null)        {            var eventSystem = new GameObject(&quot;EventSystem&quot;);            GameObjectUtility.SetParentAndAlign(eventSystem, null);            esys = eventSystem.AddComponent&lt;EventSystem&gt;();            eventSystem.AddComponent&lt;StandaloneInputModule&gt;();            Undo.RegisterCreatedObjectUndo(eventSystem, &quot;Create &quot; + eventSystem.name);        }    }}using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEditor.Advertisements;using UnityEngine.UI;namespace UnityEditor.UI{    [CustomEditor(typeof(Slideshow), true)]    public class SlideshowEditor : Editor    {        SerializedProperty m_movement;        SerializedProperty m_content;        SerializedProperty m_lastPageButton;        SerializedProperty m_nextPageButton;        SerializedProperty m_showTime;        SerializedProperty m_pageToggleGroup;        SerializedProperty m_onValueChanged;        SerializedProperty m_allowDrag;        SerializedProperty m_autoSlide;        protected virtual void OnEnable()        {            m_movement = serializedObject.FindProperty(&quot;m_movement&quot;);            m_content = serializedObject.FindProperty(&quot;m_content&quot;);            m_lastPageButton = serializedObject.FindProperty(&quot;m_lastPageButton&quot;);            m_nextPageButton = serializedObject.FindProperty(&quot;m_nextPageButton&quot;);            m_showTime = serializedObject.FindProperty(&quot;m_showTime&quot;);            m_pageToggleGroup = serializedObject.FindProperty(&quot;m_pageToggleGroup&quot;);            m_onValueChanged = serializedObject.FindProperty(&quot;m_onValueChanged&quot;);            m_allowDrag = serializedObject.FindProperty(&quot;m_allowDrag&quot;);            m_autoSlide = serializedObject.FindProperty(&quot;m_autoSlide&quot;);        }        public override void OnInspectorGUI()        {            serializedObject.Update();            EditorGUILayout.PropertyField(m_movement);            EditorGUILayout.PropertyField(m_content);            EditorGUILayout.PropertyField(m_lastPageButton);            EditorGUILayout.PropertyField(m_nextPageButton);            EditorGUILayout.PropertyField(m_allowDrag);            EditorGUILayout.PropertyField(m_autoSlide);            EditorGUILayout.PropertyField(m_showTime);            EditorGUILayout.PropertyField(m_pageToggleGroup);            EditorGUILayout.Space();            EditorGUILayout.PropertyField(m_onValueChanged);            //ä¸åŠ è¿™å¥ä»£ç ï¼Œåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œæ— æ³•å°†ç‰©ä½“æ‹–æ‹½èµ‹å€¼            serializedObject.ApplyModifiedProperties();        }    }}</code></pre><p>è¿™ä¸¤ä¸ªè„šæœ¬ä¸­ä½¿ç”¨äº†ä¸€äº›æ‹“å±•ç¼–è¾‘å™¨çš„çŸ¥è¯†ï¼Œåç»­åœ¨å¦å¤–å†™åšå®¢ä»‹ç»<br>å…¶ä¸­è„šæœ¬CreateSlideshowä¸­ä½¿ç”¨UGUIæºç ä¸­çš„DefaultControlsè„šæœ¬é‡Œçš„æ–¹æ³•ï¼Œæœ‰å…´è¶£å¯ä»¥å»ä¸‹è½½æŸ¥é˜…ã€‚<br>Demoå·¥ç¨‹ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1i4Rralf" target="_blank" rel="noopener"> http://pan.baidu.com/s/1i4Rralf </a><br>å¯†ç ï¼š7loe<br>é“¾æ¥å¦‚æœ‰ç§æœ‰ï¼Œè¯·åŠæ—¶è”ç³»è¡¥å……</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ç‰‡è½®æ’­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹UGUIè„šæœ¬è‡ªåŠ¨ç”Ÿæˆ</title>
      <link href="/2017/08/09/unity-zhi-ugui-jiao-ben-zi-dong-sheng-cheng/"/>
      <url>/2017/08/09/unity-zhi-ugui-jiao-ben-zi-dong-sheng-cheng/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åšUIå¼€å‘å·¥ä½œä¸­ï¼Œå¾€å¾€ä¼šæœ‰å¾ˆå¤šé‡å¤å·¥ä½œï¼Œæ¯”å¦‚ç”¨FindChildæ‰¾å¯äº¤äº’çš„uiå‘€ï¼Œæ¯”å¦‚ç»™è¿™äº›uiåŠ Listenerç­‰ï¼Œé‚£ä¹ˆè¿™é‡Œæä¾›ä¸€ç§æ€è·¯ï¼Œé€šè¿‡ç»™UIä¸­éœ€è¦åŠ äº¤äº’äº‹ä»¶çš„uiç‰©ä½“åŠ ä¸Šæ ‡è®°è„šæœ¬ï¼Œç„¶åå°±å¯ä»¥æ ¹æ®è¿™äº›æ ‡è®°å¾—å‡ºç›¸å¯¹äºUIRootçš„è·¯å¾„ï¼Œå¾—åˆ°è·¯å¾„å°±å¯ä»¥é€šè¿‡FindChildå¾—åˆ°äº¤äº’UIç‰©ä½“ï¼Œç„¶åç»™ä»–ä»¬åŠ ä¸Šäº‹ä»¶ç›‘å¬å³å¯ã€‚</p><p>å…ˆå®šä¹‰ä¸€ä¸ªæšä¸¾</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;public enum UIType {    UIRoot,    Transform,    Image,    RawImage,    Button,    Toggle,    Slider,    Scrollbar,    Dropdown,    InputField,    ScrollRect,}</code></pre><p>ç„¶åä¸Šä¸€ä¸ªæ•ˆæœå›¾æ¥ç»™UIç‰©ä½“åŠ æ ‡è®°</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170809002217766?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåŠ å®Œæ ‡è®°ä¹‹åï¼Œç”Ÿæˆä»£ç ã€‚<br>å…ˆçœ‹ç¤ºä¾‹çš„UIDialog<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170809002336955?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)<br>å…¶ä¸­å›¾ä¸­ä¸¤ä¸€ä¸ªImageï¼Œä¸€ä¸ªInputFielï¼Œä¸€ä¸ªButtonï¼Œä¸€ä¸ªToggle<br>ç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>using UnityEngine;using UnityEngine.UI;using System;public class TestDialog : MonoBehaviour{    private Image m_Image = null;    private InputField m_UserNameInputField = null;    private Button m_CloseButton = null;    private Toggle m_SexToggle = null;    void Awake()    {        m_Image = transform.FindChild(&quot;Image&quot;).GetComponent&lt;Image&gt;();        m_UserNameInputField = transform.FindChild(&quot;Image/UserNameInputField&quot;).GetComponent&lt;InputField&gt;();        m_CloseButton = transform.FindChild(&quot;CloseButton&quot;).GetComponent&lt;Button&gt;();        m_SexToggle = transform.FindChild(&quot;SexToggle&quot;).GetComponent&lt;Toggle&gt;();    }    void Start()    {        InitUIEvent();    }    private void InitUIEvent()    {        m_UserNameInputField.onEndEdit.AddListener(OnUserNameInputFieldEndEdit);        m_CloseButton.onClick.AddListener(OnCloseButtonClick);        m_SexToggle.onValueChanged.AddListener(OnSexToggleValueChanged);    }    private void OnUserNameInputFieldEndEdit(string arg0)    {        throw new NotImplementedException();    }    private void OnCloseButtonClick()    {        throw new NotImplementedException();    }    private void OnSexToggleValueChanged(bool arg0)    {        throw new NotImplementedException();    }}</code></pre><p>ç”Ÿæˆä»£ç çš„é€»è¾‘æ¯”è¾ƒé•¿ï¼Œå°±ä¸æ”¾å‡ºæ¥äº†ï¼ŒåŸç†å°±æ˜¯æŒ‰ç…§è§„èŒƒæ‹¼StringBuilderï¼ŒåŒ…æ‹¬å˜é‡åå‰ç¼€ï¼Œå‡½æ•°åè§„èŒƒç­‰ï¼Œä»¥åŠæ’å…¥ç­‰é•¿åº¦çš„ç©ºæ ¼ä»£æ›¿tabã€è¿˜æœ‰æ¢è¡Œä½¿å¾—ä»£ç å¯¹å…¶ç­‰ç­‰ã€‚</p><h4 id="è¿™ä¸ªåªæ˜¯æä¾›ä¸€ç§æ€è·¯ï¼ŒDemoä»¥åŠæºç ä¼šæ”¾åœ¨ä¸‹é¢ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡åœ°å€ã€‚"><a href="#è¿™ä¸ªåªæ˜¯æä¾›ä¸€ç§æ€è·¯ï¼ŒDemoä»¥åŠæºç ä¼šæ”¾åœ¨ä¸‹é¢ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡åœ°å€ã€‚" class="headerlink" title="è¿™ä¸ªåªæ˜¯æä¾›ä¸€ç§æ€è·¯ï¼ŒDemoä»¥åŠæºç ä¼šæ”¾åœ¨ä¸‹é¢ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡åœ°å€ã€‚"></a><strong>è¿™ä¸ªåªæ˜¯æä¾›ä¸€ç§æ€è·¯ï¼ŒDemoä»¥åŠæºç ä¼šæ”¾åœ¨ä¸‹é¢ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡åœ°å€ã€‚</strong></h4><p>Demoæºç ä¸‹è½½åœ°å€ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1i4YbIML" target="_blank" rel="noopener"> http://pan.baidu.com/s/1i4YbIML </a><br>å¯†ç ï¼šuyg9</p><p>ä¸‹è½½é“¾æ¥å¦‚æœ‰å¤±æ•ˆï¼Œè¯·å³æ—¶è”ç³»<br>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ç”Ÿæˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ç®€æ˜“å®šæ—¶å™¨Timer</title>
      <link href="/2017/08/06/unity-zhi-jian-yi-ding-shi-qi-timer/"/>
      <url>/2017/08/06/unity-zhi-jian-yi-ding-shi-qi-timer/</url>
      
        <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šå‡ ç§’æˆ–è€…å‡ å¸§ä¹‹ååšä»€ä¹ˆäº‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå®šæ—¶å™¨ã€‚è¿™é‡Œæˆ‘åˆ©ç”¨Time.realtimeSinceStartupå®ç°äº†ä¸€ä¸ªç®€å•çš„ç§’é’Ÿå®šæ—¶å™¨ï¼Œå½“ç„¶è¿˜å¯ä»¥åˆ©ç”¨Time.frameCountå®ç°ä¸€ä¸ªå¸§è®¡æ—¶å™¨</p><p>ä¸Šä»£ç ï¼š</p><pre><code>using System;using System.Collections;using System.Collections.Generic;using UnityEngine;public class Timer {    private Timer()    {        m_timerTask = new List&lt;TimerTask&gt;();    }    private static Timer m_instance;    public static Timer Instance    {        get        {            if (m_instance == null)            {                m_instance = new Timer();            }            return m_instance;        }    }    public delegate void OnTimeStart();    private List&lt;TimerTask&gt; m_timerTask = null;    public class TimerTask    {        //public int Id;        public float RealTime;        public float Time;        //public bool IsLoop;        //public int LoopCount;        public OnTimeStart CallBack;    }    public void UpdateTimer()    {        for (int i = 0; i &lt; m_timerTask.Count; i++)        {            TimerTask t = m_timerTask[i];            if (t == null)            {                continue;            }            if (t.RealTime &lt; Time.realtimeSinceStartup)            {                if (null != t.CallBack)                {                    t.CallBack();                    m_timerTask.Remove(t);                }            }        }    }    public void AddTimerTask(float time, OnTimeStart callback)    {        if (null == callback)        {            return;        }        TimerTask t = new TimerTask();        t.Time = time;        t.RealTime = Time.realtimeSinceStartup + time;        t.CallBack = callback;        m_timerTask.Add(t);    }}</code></pre><p>ä¸Šé¢çš„ä»£ç çœç•¥äº†æ˜¯å¦å¾ªç¯ã€å¾ªç¯æ¬¡æ•°ä»¥åŠå¸§è®¡æ—¶å™¨ï¼Œæ€è·¯ç±»ä¼¼ã€‚<br>æœ€åé™„ä¸Šæµ‹è¯•Demoä¸‹è½½åœ°å€ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1bp5xRSr" target="_blank" rel="noopener"> http://pan.baidu.com/s/1bp5xRSr </a><br>å¯†ç ï¼šy35i</p><p>ä¸‹è½½é“¾æ¥å¦‚æœ‰å¤±æ•ˆï¼Œè¯·å³æ—¶è”ç³»<br>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®€æ˜“å®šæ—¶å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹æ‹“å±•Buttonï¼šæ”¯æŒåŒå‡»ä¸é•¿æŒ‰</title>
      <link href="/2017/08/06/unity-zhi-tuo-zhan-button-zhi-chi-shuang-ji-yu-chang-an/"/>
      <url>/2017/08/06/unity-zhi-tuo-zhan-button-zhi-chi-shuang-ji-yu-chang-an/</url>
      
        <content type="html"><![CDATA[<p>åŒå‡»ç›´æ¥åˆ©ç”¨çš„eventData.clickCountå®ç°ï¼Œè€Œé•¿æŒ‰åˆ™æ˜¯åœ¨PointerDownçš„æ—¶å€™è®°å½•æ—¶é—´ï¼Œç„¶ååœ¨Updateé‡Œåˆ¤æ–­æ—¶é—´å³å¯ï¼Œç”±äºä»£ç æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä¸Šæºç ã€‚</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.EventSystems;using UnityEngine.UI;public class UIButton : Button {    protected UIButton()    {        m_onDoubleClick = new ButtonClickedEvent();        m_onLongPress = new ButtonClickedEvent();    }    private ButtonClickedEvent m_onLongPress;    public ButtonClickedEvent OnLongPress    {        get { return m_onLongPress; }        set { m_onLongPress = value; }    }    private ButtonClickedEvent m_onDoubleClick;    public ButtonClickedEvent OnDoubleClick    {        get { return m_onDoubleClick; }        set { m_onDoubleClick = value; }    }    private bool m_isStartPress = false;    private float m_curPointDownTime = 0f;    private float m_longPressTime = 1f;    private bool m_longPressTrigger = false;    void Update ()     {        if (m_isStartPress &amp;&amp; !m_longPressTrigger)        {            if (Time.time &gt; m_curPointDownTime + m_longPressTime)            {                m_longPressTrigger = true;                m_isStartPress = false;                if (m_onLongPress != null)                {                    m_onLongPress.Invoke();                }            }        }    }    public override void OnPointerDown(PointerEventData eventData)    {        base.OnPointerDown(eventData);        m_curPointDownTime = Time.time;        m_isStartPress = true;        m_longPressTrigger = false;    }    public override void OnPointerUp(PointerEventData eventData)    {        base.OnPointerUp(eventData);        m_isStartPress = false;        m_longPressTrigger = false;    }    public override void OnPointerExit(PointerEventData eventData)    {        base.OnPointerExit(eventData);        m_isStartPress = false;        m_longPressTrigger = false;    }    public override void OnPointerClick(PointerEventData eventData)    {        //base.OnPointerClick(eventData);        if (!m_longPressTrigger)        {            if (eventData.clickCount == 1)            {                onClick.Invoke();            }            else if (eventData.clickCount == 2)            {                if (m_onDoubleClick != null)                {                    m_onDoubleClick.Invoke();                }            }        }    }}</code></pre><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ButtonåŒå‡»ä¸é•¿æŒ‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ScrollRectæ»‘åŠ¨å±…ä¸­</title>
      <link href="/2017/07/16/unity-zhi-scrollrect-hua-dong-ju-zhong/"/>
      <url>/2017/07/16/unity-zhi-scrollrect-hua-dong-ju-zhong/</url>
      
        <content type="html"><![CDATA[<p>å…ˆä¸Šæ•ˆæœå›¾<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170716183336257?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>è¿™é‡ŒåŒæ—¶æ”¯æŒæ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ï¼ŒåŒæ—¶ScrollRectæ”¯æŒä½¿ç”¨GridLayoutGroupã€HorizontalLayoutGroupã€VerticalLayoutGroupä¸‰ç§LayoutGroupï¼Œä¸è¿‡æ°´å¹³æ–¹å‘çš„ScrollRectä¸æ”¯æŒVerticalLayoutGroupï¼Œå‚ç›´æ–¹å‘çš„ScrollRectä¸æ”¯æŒHorizontalLayoutGroupï¼Œå½“ç„¶ä¹Ÿä¸å­˜åœ¨è¿™ä¸¤ç§æƒ…å†µã€‚</p><p>ç”±äºè¿™é‡Œæ˜¯é€šè¿‡å¯¹ScrollRectçš„contentçš„localPositionåšäº†æ’å€¼ç§»åŠ¨ï¼Œå› æ­¤ScrollRectçš„ä¸­å¿ƒç‚¹è®¾ç½®å¿…é¡»è·Ÿæˆ‘è¿™ä¿æŒä¸€è‡´ã€‚</p><p>ä¸‹é¢ç›´æ¥ä¸Šä»£ç ï¼š</p><pre><code>using System;using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.EventSystems;using UnityEngine.UI;public enum ScrollDir{    Horizontal,    Vertical}public class ScrollRectCenter : MonoBehaviour , IEndDragHandler,IDragHandler,IBeginDragHandler{    public ScrollDir Dir = ScrollDir.Horizontal;    /// &lt;summary&gt;    /// æ˜¯å¦æ­£åœ¨å±…ä¸­    /// &lt;/summary&gt;    private bool _isCentering = false;    /// &lt;summary&gt;    /// å±…ä¸­è¿‡ç¨‹ç§»åŠ¨é€Ÿåº¦    /// &lt;/summary&gt;    public float MoveToCenterSpeed = 10f;    private ScrollRect _scrollView;    private Transform _content;    private List&lt;float&gt; _childrenPos = new List&lt;float&gt;();    private float _targetPos;    /// &lt;summary&gt;    /// å½“å‰ä¸­å¿ƒchildç´¢å¼•    /// &lt;/summary&gt;    private int _curCenterChildIndex = -1;    /// &lt;summary&gt;    /// å½“å‰ä¸­å¿ƒChildItem    /// &lt;/summary&gt;    public GameObject CurCenterChildItem    {        get        {            GameObject centerChild = null;            if (_content != null &amp;&amp; _curCenterChildIndex &gt;= 0 &amp;&amp; _curCenterChildIndex &lt; _content.childCount)            {                centerChild = _content.GetChild(_curCenterChildIndex).gameObject;            }            return centerChild;        }    }    void Awake()    {        _scrollView = GetComponent&lt;ScrollRect&gt;();        if (_scrollView == null)        {            Debug.LogError(&quot;ScrollRect is null&quot;);            return;        }        _content = _scrollView.content;        LayoutGroup layoutGroup = null;        layoutGroup = _content.GetComponent&lt;LayoutGroup&gt;();        if (layoutGroup == null)        {            Debug.LogError(&quot;LayoutGroup component is null&quot;);        }        _scrollView.movementType = ScrollRect.MovementType.Unrestricted;        float spacing = 0f;        //æ ¹æ®dirè®¡ç®—åæ ‡ï¼ŒHorizontalï¼šå­˜xï¼ŒVerticalï¼šå­˜y        switch (Dir)        {            case ScrollDir.Horizontal:                if (layoutGroup is HorizontalLayoutGroup)                {                    float childPosX = _scrollView.GetComponent&lt;RectTransform&gt;().rect.width * 0.5f - GetChildItemWidth(0) * 0.5f;                    spacing = (layoutGroup as HorizontalLayoutGroup).spacing;                    _childrenPos.Add(childPosX);                    for (int i = 1; i &lt; _content.childCount; i++)                    {                        childPosX -= GetChildItemWidth(i) * 0.5f + GetChildItemWidth(i - 1) * 0.5f + spacing;                        _childrenPos.Add(childPosX);                    }                }                else if (layoutGroup is GridLayoutGroup)                {                    GridLayoutGroup grid = layoutGroup as GridLayoutGroup;                    float childPosX = _scrollView.GetComponent&lt;RectTransform&gt;().rect.width * 0.5f - grid.cellSize.x * 0.5f;                    _childrenPos.Add(childPosX);                    for (int i = 0; i &lt; _content.childCount - 1; i++)                    {                        childPosX -= grid.cellSize.x + grid.spacing.x;                        _childrenPos.Add(childPosX);                    }                }                else                {                    Debug.LogError(&quot;Horizontal ScrollView is using VerticalLayoutGroup&quot;);                }                break;            case ScrollDir.Vertical:                if (layoutGroup is VerticalLayoutGroup)                {                    float childPosY = -_scrollView.GetComponent&lt;RectTransform&gt;().rect.height * 0.5f + GetChildItemHeight(0) * 0.5f;                    spacing = (layoutGroup as VerticalLayoutGroup).spacing;                    _childrenPos.Add(childPosY);                    for (int i = 1; i &lt; _content.childCount; i++)                    {                        childPosY += GetChildItemHeight(i) * 0.5f + GetChildItemHeight(i - 1) * 0.5f + spacing;                        _childrenPos.Add(childPosY);                    }                }                else if (layoutGroup is GridLayoutGroup)                {                    GridLayoutGroup grid = layoutGroup as GridLayoutGroup;                    float childPosY = -_scrollView.GetComponent&lt;RectTransform&gt;().rect.height * 0.5f + grid.cellSize.y * 0.5f;                    _childrenPos.Add(childPosY);                    for (int i = 1; i &lt; _content.childCount; i++)                    {                        childPosY += grid.cellSize.y + grid.spacing.y;                        _childrenPos.Add(childPosY);                    }                }                else                {                    Debug.LogError(&quot;Vertical ScrollView is using HorizontalLayoutGroup&quot;);                }                break;        }    }    private float GetChildItemWidth(int index)    {        return (_content.GetChild(index) as RectTransform).sizeDelta.x;    }    private float GetChildItemHeight(int index)    {        return (_content.GetChild(index) as RectTransform).sizeDelta.y;    }    void Start ()     {    }    void Update ()     {        if (_isCentering)        {            Vector3 v = _content.localPosition;            switch (Dir)            {                case ScrollDir.Horizontal:                    v.x = Mathf.Lerp(_content.localPosition.x, _targetPos, MoveToCenterSpeed * Time.deltaTime);                    _content.localPosition = v;                    if (Math.Abs(_content.localPosition.x - _targetPos) &lt; 0.01f)                    {                        _isCentering = false;                    }                    break;                case ScrollDir.Vertical:                    v.y = Mathf.Lerp(_content.localPosition.y, _targetPos, MoveToCenterSpeed * Time.deltaTime);                    _content.localPosition = v;                    if (Math.Abs(_content.localPosition.y - _targetPos) &lt; 0.01f)                    {                        _isCentering = false;                    }                    break;            }        }    }    public void OnDrag(PointerEventData eventData)    {    }    public void OnEndDrag(PointerEventData eventData)    {        switch (Dir)        {            case ScrollDir.Horizontal:                _targetPos = FindClosestChildPos(_content.localPosition.x, out _curCenterChildIndex);                break;            case ScrollDir.Vertical:                _targetPos = FindClosestChildPos(_content.localPosition.y, out _curCenterChildIndex);                break;        }        _isCentering = true;    }    public void OnBeginDrag(PointerEventData eventData)    {        _isCentering = false;        _curCenterChildIndex = -1;    }    private float FindClosestChildPos(float currentPos, out int curCenterChildIndex)    {        float closest = 0;        float distance = Mathf.Infinity;        curCenterChildIndex = -1;        for (int i = 0; i &lt; _childrenPos.Count; i++)        {            float p = _childrenPos[i];            float d = Mathf.Abs(p - currentPos);            if (d &lt; distance)            {                distance = d;                closest = p;                curCenterChildIndex = i;            }        }        return closest;    }}</code></pre><p>æœ€åé™„ä¸ŠDemoä¸‹è½½é“¾æ¥ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1pLoJcjL" target="_blank" rel="noopener"> http://pan.baidu.com/s/1pLoJcjL </a><br>å¯†ç ï¼šjs7g<br>é“¾æ¥å¦‚æœå¤±æ•ˆï¼Œè¯·åŠæ—¶è¯„è®ºï¼ŒåŠæ—¶æ›´æ–°</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ScrollRect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ç²˜è´´æ¿æ“ä½œ</title>
      <link href="/2017/07/15/unity-zhi-nian-tie-ban-cao-zuo/"/>
      <url>/2017/07/15/unity-zhi-nian-tie-ban-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="Unityä¹‹ç²˜è´´æ¿æ“ä½œ"><a href="#Unityä¹‹ç²˜è´´æ¿æ“ä½œ" class="headerlink" title="Unityä¹‹ç²˜è´´æ¿æ“ä½œ"></a>Unityä¹‹ç²˜è´´æ¿æ“ä½œ</h1><p>Untiyæä¾›GUIUtility.systemCopyBufferè¿›è¡Œå¯¹ç²˜è´´æ¿ç¼“å­˜æ•°æ®å­˜å‚¨ä¸è·å–</p><p>å®˜æ–¹è§£é‡Šä¸ºè®¿é—®ç³»ç»Ÿçš„ç²˜è´´æ¿ï¼Œå¯setï¼Œå¯get</p><p>ä¸Šå›¾<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170715113619738?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>é™„ä¸Šå®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<br>[ <a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-" target="_blank" rel="noopener">https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-</a><br>systemCopyBuffer.html<br>](<a href="https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-" target="_blank" rel="noopener">https://docs.unity3d.com/2017.2/Documentation/ScriptReference/GUIUtility-</a><br>systemCopyBuffer.html)</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç²˜è´´æ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ç®€æ˜“ä»»åŠ¡é˜Ÿåˆ—TaskQueue</title>
      <link href="/2017/07/09/unity-zhi-jian-yi-ren-wu-dui-lie-taskqueue/"/>
      <url>/2017/07/09/unity-zhi-jian-yi-ren-wu-dui-lie-taskqueue/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h1><p>è¯¥åŠŸèƒ½åŒ…æ‹¬ä¸¤ä¸ªç±»ï¼šTaskä»»åŠ¡ç±»ï¼ŒTaskQueueä»»åŠ¡é˜Ÿåˆ—ç±»<br>å…¶ä¸­TaskQueueè´Ÿè´£ï¼š<br>1ã€å¼€å§‹ä»»åŠ¡<br>2ã€æ·»åŠ ä»»åŠ¡<br>3ã€æ¸…ç©ºä»»åŠ¡<br>4ã€å¼€å§‹ä»»åŠ¡å›è°ƒ<br>5ã€å®Œæˆé˜Ÿåˆ—ä¸­æ‰€æœ‰ä»»åŠ¡å›è°ƒ<br>6ã€ä¸‹ä¸€ä¸ªä»»åŠ¡<br>7ã€å½“å‰ä»»åŠ¡è¿›åº¦<br>8ã€é˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰ä»»åŠ¡</p><p>å…¶ä¸­Taskç±»ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>using System;using System.Collections;using System.Collections.Generic;public class Task {    //ä»»åŠ¡å    private string m_TaskName;    public string TaskName    {        set        {            m_TaskName = value;        }        get        {            return m_TaskName;        }    }    //ä»»åŠ¡å…·ä½“å†…å®¹ï¼Œå¤–éƒ¨ä¼ å…¥    public Action Work;    public Task(Action work, string taskName = &quot;defaultTaskName&quot;)    {        this.Work = work;        this.m_TaskName = taskName;    }}</code></pre><p>TaskQueueç±»ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>using System;using System.Collections;using System.Collections.Generic;using UnityEngine;public class TaskQueue {    //æ„é€ å‡½æ•°    public TaskQueue()    {        m_TaskQueue = new Queue&lt;Task&gt;();        m_TasksNum = 0;    }    //1ã€æ·»åŠ ä»»åŠ¡    public void AddTask(Task task)    {        m_TaskQueue.Enqueue(task);    }    public void AddTask(Action work)    {        Task task = new Task(work);        m_TaskQueue.Enqueue(task);    }    //2ã€å¼€å§‹ä»»åŠ¡    public void Start()    {        //è·å–ä»»åŠ¡é˜Ÿåˆ—çš„æ€»ä»»åŠ¡æ•°        m_TasksNum = m_TaskQueue.Count;        if (OnStart != null)        {            OnStart();        }        NextTask();    }    //3ã€æ¸…ç©ºä»»åŠ¡    public void Clear()    {        m_TaskQueue.Clear();        m_TasksNum = 0;    }    //4ã€å¼€å§‹ä»»åŠ¡å›è°ƒ    public Action OnStart = null;    //5ã€å®Œæˆæ‰€æœ‰ä»»åŠ¡å›è°ƒ    public Action OnFinish = null;    //6ã€ä¸‹ä¸€ä¸ªä»»åŠ¡    private void NextTask()    {        if (m_TaskQueue.Count &gt; 0)        {            Task task = m_TaskQueue.Dequeue();            task.Work();            NextTask();        }        else        {            if (OnFinish != null)            {                OnFinish();            }        }    }    //7ã€å½“å‰ä»»åŠ¡è¿›åº¦    public float TaskProcess    {        get        {            return 1 - m_TaskQueue.Count * 1.0f / m_TasksNum;        }    }    //8ã€ä»»åŠ¡é˜Ÿåˆ—æ€»ä»»åŠ¡é‡    private int m_TasksNum = 0;    //9ã€ä»»åŠ¡é˜Ÿåˆ—    private Queue&lt;Task&gt; m_TaskQueue;}</code></pre><p>ç„¶åå†™ä¸€ä¸ªtestè„šæœ¬æŒ‚åœ¨ç›¸æœºä¸Šï¼Œæµ‹è¯•å‰é¢çš„ä»£ç ï¼š</p><pre><code>using System.Collections;using System.Collections.Generic;using UnityEngine;public class Test : MonoBehaviour {    void Start ()     {        TaskQueue taskQueue = new TaskQueue();        taskQueue.OnStart = () =&gt; { Debug.Log(&quot;OnStart&quot;); };        taskQueue.OnFinish = () =&gt; { Debug.Log(&quot;OnFinish&quot;); };        taskQueue.AddTask(Task1);        taskQueue.AddTask(Task2);        taskQueue.Start();    }    private void Task1()    {        Debug.Log(&quot;Task1&quot;);    }    private void Task2()    {        Debug.Log(&quot;Task2&quot;);    }}</code></pre><p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170709182839383?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>è¯¥ä»»åŠ¡é˜Ÿåˆ—å†™çš„æ¯”è¾ƒç®€å•ï¼ŒåæœŸä¼šæ‹“å±•ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TaskQueue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹NetworkReachabilityæè¿°ç½‘ç»œå¯è¾¾æ€§é€‰é¡¹ã€‚</title>
      <link href="/2017/07/06/unity-zhi-networkreachability-miao-shu-wang-luo-ke-da-xing-xuan-xiang/"/>
      <url>/2017/07/06/unity-zhi-networkreachability-miao-shu-wang-luo-ke-da-xing-xuan-xiang/</url>
      
        <content type="html"><![CDATA[<p>Unityè‡ªå¸¦ä¸€ä¸ªæšä¸¾NetworkReachabilityï¼Œç”¨æ¥æè¿°ç½‘ç»œå¯è¾¾æ€§<br>NotReachableï¼šç½‘ç»œæ— æ³•è®¿é—®<br>ReachableViaCarrierDataNetworkï¼šé€šè¿‡è¿è¥å•†æ•°æ®ç½‘ç»œå¯ä»¥è®¿é—®ç½‘ç»œ<br>ReachableViaLocalAreaNetworkï¼šç½‘ç»œé€šè¿‡WIFIæˆ–ç”µç¼†å¯è¾¾</p><p>é™„ä¸ŠUnityå®˜æ–¹æ–‡æ¡£åœ°å€ï¼š <a href="https://docs.unity3d.com/ScriptReference/NetworkReachability.html" target="_blank" rel="noopener"><br>https://docs.unity3d.com/ScriptReference/NetworkReachability.html</a></p><p>æˆªå›¾å¦‚ä¸‹ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170706125329699?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NetworkReachability </tag>
            
            <tag> ç½‘ç»œå¯è¾¾æ€§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ä½¿ç”¨IOS 3DTouchåŠŸèƒ½</title>
      <link href="/2017/04/26/unity-zhi-shi-yong-ios-3dtouch-gong-neng/"/>
      <url>/2017/04/26/unity-zhi-shi-yong-ios-3dtouch-gong-neng/</url>
      
        <content type="html"><![CDATA[<p>Unityå·¥ç¨‹åœ¨IOSå¹³å°ä½¿ç”¨3DTouchåŠŸèƒ½ï¼Œæä¾›äº†ä»¥ä¸‹æ¥å£ï¼š<br>ï¼ˆ1ï¼‰Input.touchPressureSupportedï¼šæ˜¯å¦æ”¯æŒ3Dtouchï¼Œboolç±»å‹<br>ï¼ˆ2ï¼‰Touch.pressureï¼šè·å–å½“å‰æŒ‰å‹å€¼ï¼Œfloatç±»å‹<br>ï¼ˆ3ï¼‰Touch.maximumPossiblePressureï¼šè·å–æœ€å¤§æŒ‰å‹å€¼ï¼Œfloatç±»å‹</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3D Touch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹DOTweenPathè½¨è¿¹ç§»åŠ¨</title>
      <link href="/2017/04/26/unity-zhi-dotweenpath-gui-ji-yi-dong/"/>
      <url>/2017/04/26/unity-zhi-dotweenpath-gui-ji-yi-dong/</url>
      
        <content type="html"><![CDATA[<p>å…ˆç®€å•ä»‹ç»ä¸€ä¸‹DOTweenPathã€‚</p><p>å…ˆæ¥çœ‹ä¸€ä¸‹DOTweenPathç»„ä»¶çš„æˆªå›¾</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170426150708706?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>1ã€Scene View Commands<br>ï¼ˆ1ï¼‰SHIFT+CTRLï¼šadd a waypoint<br>åŠ ä¸€ä¸ªè½¨è¿¹ç‚¹<br>ï¼ˆ2ï¼‰SHIFT+ALTï¼šremove a waypoint<br>ç§»é™¤ä¸€ä¸ªè½¨è¿¹ç‚¹</p><p>2ã€INfo<br>ï¼ˆ1ï¼‰Path Lengthï¼šè½¨è¿¹é•¿åº¦</p><p>3ã€Tween Options<br>ï¼ˆ1ï¼‰AutoPlayï¼šè‡ªåŠ¨æ’­æ”¾<br>ï¼ˆ2ï¼‰AutoKillï¼šæ’­æ”¾å®Œè‡ªåŠ¨é”€æ¯åŠ¨ç”»<br>ï¼ˆ3ï¼‰Durationï¼šåŠ¨ç”»æ—¶é•¿<br>SpeedBasedï¼šIf selected ,the duration will count as units/degreex<br>second;å¦‚æœè¢«é€‰ä¸Šï¼Œè¯¥æ—¶é—´ä½œä¸ºå•ä½æ—¶é—´ã€‚</p><p>ï¼ˆ4ï¼‰Delayï¼šå»¶æ—¶<br>ï¼ˆ5ï¼‰Easeï¼šè¿™æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œå¯ä»¥ç†è§£ä¸ºåŠ¨ç”»æ’­æ”¾é€Ÿç‡æ›²çº¿<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170426152601405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ç›¸å…³ç½‘å€ï¼š<br><a href="http://dotween.demigiant.com/documentation.php" target="_blank" rel="noopener"> http://dotween.demigiant.com/documentation.php</a><br>ä»¥åŠï¼š <a href="http://robertpenner.com/easing/easing_demo.html" target="_blank" rel="noopener"> http://robertpenner.com/easing/easing_demo.html</a></p><p>ï¼ˆ6ï¼‰Loopsï¼šå¾ªç¯æ¬¡æ•°ï¼ŒåŠ¨ç”»å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°<br>-1ï¼šè¡¨ç¤º ä¸€ç›´å¾ªç¯<br>0ï¼šè¡¨ç¤ºåªæ’­æ”¾ä¸€æ¬¡<br>å½“è¯¥å€¼&gt;1æ—¶ï¼Œæ£€è§†é¢æ¿å‡ºç°LoopTypeï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æŒ‡å¾ªç¯ç±»å‹ï¼š<br>Restartï¼šé‡æ–°å¼€å§‹ï¼Œåé¢çš„åŠ¨ç”»å¾ªç¯æ’­æ”¾ä¼šä»èµ·ç‚¹é‡æ–°å¼€å§‹ï¼›<br>Yoyoï¼šæ¥å›æ’­æ”¾<br>Incrementalï¼šå¢åŠ çš„ï¼Œåé¢çš„pathç§»åŠ¨åŠ¨ç”»ä¼šåœ¨ä¸Šä¸€æ¬¡å¾ªç¯çš„ç»ˆç‚¹çš„åŸºç¡€ä¸Šè¿›è¡Œæ’­æ”¾</p><p>ï¼ˆ7ï¼‰IDï¼šåŠ¨ç”»ID<br>ï¼ˆ8ï¼‰UpdateTypeï¼šè¿™ä¸ªæšä¸¾æœ‰ä¸‰ä¸ªå€¼ï¼ŒæŒ‡æ›´æ–°ç±»å‹<br>Normalï¼šæ­£å¸¸æ›´æ–°ï¼ŒUpdate()<br>Lateï¼šæ™šäºæ›´æ–°ï¼ŒLateUpdate()<br>Fixedï¼šå›ºå®šæ›´æ–°ï¼ŒFixedUpdate()</p><p>4ã€Path Tween Options<br>ï¼ˆ1ï¼‰Path Typeï¼šè½¨è¿¹çº¿ç±»å‹<br>Linearï¼šçº¿å‹çš„<br>Catmull Romï¼šæ›²çº¿<br>ï¼ˆ2ï¼‰Close Pathï¼šå°é—­æ›²çº¿ï¼Œå°†èµ·ç‚¹å’Œç»ˆç‚¹ç›¸è¿<br>ï¼ˆ3ï¼‰Lock Rotationï¼šé”æ—‹è½¬ï¼Œxyzw</p><p>5ã€Path Editor Optionsï¼šè½¨è¿¹ç¼–è¾‘å‚æ•°ï¼Œå°±ä¸ä»‹ç»äº†</p><p>6ã€ResetPathï¼šé‡ç½®è½¨è¿¹<br>7ã€Eventsï¼š<br>ï¼ˆ1ï¼‰OnStartï¼šå¼€å§‹æ—¶<br>ï¼ˆ2ï¼‰OnPlayï¼šæ’­æ”¾æ—¶<br>ï¼ˆ3ï¼‰OnUpdateï¼šæ›´æ–°æ—¶<br>ï¼ˆ4ï¼‰OnStepï¼šå•æ­¥å®Œæˆæ—¶<br>ï¼ˆ5ï¼‰OnCompleteï¼šå®Œæˆæ—¶<br>ï¼ˆ6ï¼‰OnCreatedï¼šåŠ¨ç”»åˆ›å»ºæ—¶<br>äº‹ä»¶é¡ºåºä¸ºï¼šOnCreated-&gt;OnStart-&gt;OnPlay-&gt;OnUpdateï¼ˆä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆï¼‰ï¼ŒåŠ¨ç”»è¿‡ç¨‹ä¸­å•æ­¥å®Œæˆæ—¶æ‰§è¡ŒOnStepï¼Œæ•´ä¸ªåŠ¨ç”»å®Œæˆåæ‰§è¡ŒOnComplete</p><p>8ã€WayPointsï¼šç§»åŠ¨è½¨è¿¹ç‚¹<br>å…¶ä¸­å³è¾¹çš„Copy to clipboardï¼Œå°†åæ ‡å¤åˆ¶è‡³å‰ªè´´æ¿<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170426160635797?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)<br>åŠ å‡æŒ‰é’®å³æŒ‡å¢åŠ å‡å°‘åæ ‡ç‚¹</p><p>ä»¥ä¸Šä¾¿æ˜¯å¯¹äºDOTweenPathç»„ä»¶çš„ä¸€ä¸ªåŸºæœ¬ä»‹ç»ã€‚</p><p>æ¥ä¸‹æ¥ï¼ŒDOTweenå¯¹äºè½¨è¿¹ç§»åŠ¨æä¾›çš„æ¥å£ï¼š<br>ï¼ˆ1ï¼‰DOPathï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170426162319897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)<br>ï¼ˆ2ï¼‰DOLocalPath<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170426162640305?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»¥ä¸Šä¸¤ä¸ªå‡½æ•°çš„å‚æ•°å†ä¸Šé¢å·²ç»ä»‹ç»è¿‡ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤è¯´æ˜äº†ã€‚</p><p>DOTweenæ’ä»¶ï¼Œå¤§å®¶è¯·è‡ªè¡Œä¸‹è½½ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> DOTween </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOTweenPath </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹MessageBox</title>
      <link href="/2017/04/25/unity-zhi-messagebox/"/>
      <url>/2017/04/25/unity-zhi-messagebox/</url>
      
        <content type="html"><![CDATA[<p>å…ˆä¸Šç¤ºæ„å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170425112628114?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯æ ‡å‡†çš„MessageBoxæ ·å¼ã€‚æˆ‘é‡‡ç”¨çš„æ˜¯UGUIï¼Œä¸­é—´æ˜¯æ–‡å­—å†…å®¹ï¼Œä¸‹é¢åŒ…æ‹¬ç¡®å®šå–æ¶ˆä¸¤ä¸ªæŒ‰é’®ï¼Œå³ä¸Šè§’ä¸€ä¸ªå…³é—­æŒ‰é’®ã€‚</p><p>é‚£ä¹ˆæ¨¡ä»¿MFCå‘¢ï¼Œæˆ‘å†™äº†ä¸€ä¸ªæšä¸¾å¦‚ä¸‹ï¼š</p><pre><code>public enum MessageType{    Confirm,            //ç¡®å®š    Cancel,             //å–æ¶ˆ    ConfirmCancel,      //ç¡®å®šå–æ¶ˆ    Yes,                //æ˜¯    No,                 //å¦    YesNO,              //æ˜¯å¦}</code></pre><p>ä»ä¸Šå¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯åœ¨å®šä¹‰æŒ‰é’®çš„æ ·å¼ï¼Œä¸¾ä¾‹ï¼šConfirmæŒ‡ä»…åŒ…æ‹¬ç¡®å®šæŒ‰é’®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œç›´æ¥ä¸ŠæŒ‚åœ¨è¯¥UIä¸Šçš„è„šæœ¬ä»£ç ï¼š</p><pre><code>using System;using UnityEngine;using UnityEngine.EventSystems;using UnityEngine.UI;public class MessageBoxDialog : MonoBehaviour{    public GameObject CancelButton = null;          //å–æ¶ˆæŒ‰é’®    public GameObject ConfirmButton = null;         //ç¡®å®šæŒ‰é’®    public GameObject CloseButton = null;           //å…³é—­æŒ‰é’®    public Text MessageText = null;                 //æç¤ºæ–‡å­—    public Text ConfirmText = null;                 //ç¡®å®šæ–‡å­—    public Text CancelText = null;                  //å–æ¶ˆæ–‡å­—    public Action OnCloseEvent = null;    public Action OnConfirmEvent = null;    // Use this for initialization    void Start()    {        AddListener();    }    // Update is called once per frame    void Update()    {    }    private void AddListener()    {        if (CancelButton != null)        {            EventTriggerListener.Get(CancelButton).onClick = OnCancelButtonClicked;        }        if (ConfirmButton != null)        {            EventTriggerListener.Get(ConfirmButton).onClick = OnConfirmButtonClicked;        }    }    private void OnConfirmButtonClicked(GameObject go, BaseEventData eventData)    {        if (OnConfirmEvent != null)        {            OnConfirmEvent();        }        else        {            OnCloseButtonClicked(null, null);        }    }    private void OnCancelButtonClicked(GameObject go, BaseEventData eventData)    {        if (OnCloseEvent != null)        {            OnCloseEvent();        }        else        {            OnCloseButtonClicked(null, null);        }    }    private void OnCloseButtonClicked(GameObject go, BaseEventData eventData)    {        GameObject.DestroyImmediate(gameObject);    }    public void UpdateButton(MessageType type)    {        switch (type)        {            case MessageType.ConfirmCancel:                break;            case MessageType.Cancel:                ConfirmButton.SetActive(false);                break;            case MessageType.Confirm:                CancelButton.SetActive(false);                break;            case MessageType.No:                ConfirmButton.SetActive(false);                CancelText.text = &quot;å¦&quot;;                break;            case MessageType.Yes:                CancelButton.SetActive(false);                ConfirmText.text = &quot;æ˜¯&quot;;                break;            case MessageType.YesNO:                ConfirmText.text = &quot;æ˜¯&quot;;                CancelText.text = &quot;å¦&quot;;                break;        }    }}</code></pre><p>æ¥ä¸‹æ¥æ˜¯è¯¥ç¯‡æ–‡ç« çš„é‡ç‚¹ä»£ç äº†ï¼Œ</p><pre><code>using System;using UnityEngine;public class MessageBox{    private static GameObject _messageBoxPrefab = null;    private static GameObject _messageBox = null;    private static string _messageBoxPrefabPath = &quot;UI/MessageBox&quot;;    public static void Show(string info, MessageType type = MessageType.ConfirmCancel, Action cancelCallback = null,        Action confirmCallback = null)    {        if (_messageBoxPrefab == null)        {            _messageBoxPrefab = Resources.Load(_messageBoxPrefabPath) as GameObject;        }        _messageBox = GameObject.Instantiate(_messageBoxPrefab) as GameObject;        MessageBoxDialog msgbox = _messageBox.GetComponent&lt;MessageBoxDialog&gt;();        msgbox.UpdateButton(type);        msgbox.OnConfirmEvent += confirmCallback;        msgbox.OnCloseEvent += cancelCallback;        msgbox.MessageText.text = info;        //ä»¥ä¸‹æ˜¯åœ¨è‡ªå·±çš„åœºæ™¯ç®¡ç†çš„åŸºç¡€ä¸Šå†™çš„ï¼Œæ—¢ç„¶è¿™é‡Œè¿˜æ²¡è®²åˆ°æˆ‘çš„åœºæ™¯ç®¡ç†ï¼Œå°±æš‚æ—¶ç”¨æ¯”è¾ƒlowçš„æ–¹æ³•äº†        //GameObject uiRoot = ScenesManager.Instance.CurScene.UiRoot.gameObject;        //_messageBox.transform.SetParent(uiRoot.transform, false);        GameObject canvas = GameObject.Find(&quot;Canvas&quot;);        if(canvas != null)        {            _messageBox.transform.SetParent(canvas.transform, false);        }    }}</code></pre><p>è¯¥æ®µä»£ç ä¸­ï¼Œå¤§å®¶åº”è¯¥æ³¨æ„åˆ°ä¸‰ç‚¹ï¼š<br>1ã€MessageBoxçš„é¢„åˆ¶ä»¶è·¯å¾„ï¼Œä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼›<br>2ã€åŠ è½½è¯¥é¢„åˆ¶ä»¶çš„æ–¹æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯Resources.Loadï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å°†æˆ‘çš„èµ„æºç®¡ç†ä»‹ç»å‡ºæ¥ï¼Œæ‰€ä»¥å°±ç”¨çš„è¿™ä¸ªï¼›<br>3ã€å®ä¾‹åŒ–è¯¥UIï¼Œç»™è¯¥UIèµ‹çˆ¶ç‰©ä½“çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯æ¯”è¾ƒlowçš„æ–¹æ³•ï¼Œæ³¨é‡Šå·²ç»è§£é‡Šäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå°±ç›´æ¥ä¸Šå·¥ç¨‹äº†ï¼Œå¤§å®¶ å¦‚æœ‰ç–‘é—®ï¼Œè¯·ç•™è¨€ã€‚<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1kVibxQJ" target="_blank" rel="noopener"> http://pan.baidu.com/s/1kVibxQJ </a><br>å¯†ç ï¼š45ql</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MessageBox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lua</title>
      <link href="/2017/04/25/lua/"/>
      <url>/2017/04/25/lua/</url>
      
        <content type="html"><![CDATA[<p>ä¸¤ä¸ªè¿å­—ç¬¦ï¼ˆâ€“ï¼‰åœ¨Luaä¸­è¡¨ç¤ºå¼€å§‹ä¸€æ¡æ³¨é‡Š</p><p>Luaå®šä¹‰ä¸€ä¸ªè®¡ç®—é˜¶ä¹˜çš„å‡½æ•°ï¼š<br>â€“å®šä¹‰ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°<br>function fact(n)<br>if n == 0 then<br>return 1<br>else<br>return n * fact(n-1)<br>end<br>end</p><p>â€“æ‰“å°<br>print(â€œHello Worldâ€)</p><p>â€“è¯»å–ä¸€ä¸ªæ•°å­—<br>a = io.read(â€œ*numberâ€)</p><p>Luaæ‰§è¡Œçš„ æ¯æ®µä»£ç ï¼Œä¾‹å¦‚ä¸€ä¸ªæºä»£ç æ–‡ä»¶æˆ–åœ¨äº¤äº’æ¨¡å¼ä¸­è¾“å…¥çš„ä¸€è¡Œä»£ç ï¼Œéƒ½ç§°ä¸ºä¸€ä¸ªâ€œç¨‹åºå—â€ï¼Œä¸€ä¸ªç¨‹åºå—ä¹Ÿå°±æ˜¯ä¸€è¿ä¸²çš„è¯­å¥æˆ–å‘½ä»¤ã€‚</p><p>å‡ æ¡è¿ç»­çš„Luaè¯­å¥ä¹‹é—´å¹¶ä¸éœ€è¦åˆ†éš”ç¬¦ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†å·æ¥åˆ†å‰²è¯­å¥ã€‚<br>ä»£ç ä¸­çš„æ¢è¡Œä¸èµ·ä»»ä½•ä½œç”¨<br>a = 1 b=a*2 â€“æœ‰ç‚¹éš¾çœ‹ï¼Œä½†æ˜¯åˆæ³•</p><p>ç¨‹åºå—å¯ä»¥æ˜¯ä»»æ„å¤§å°</p><h2 id="è¯­æ³•è§„èŒƒ"><a href="#è¯­æ³•è§„èŒƒ" class="headerlink" title="è¯­æ³•è§„èŒƒ"></a>è¯­æ³•è§„èŒƒ</h2><p>Luaçš„æ ‡è¯†ç¬¦å¯ä»¥æ˜¯ä»»æ„å­—æ¯ã€æ•°å­—å’Œä¸‹ç”»çº¿æ„æˆçš„å­—ç¬¦ä¸²ï¼Œä½†ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</p><p>Luaçš„ä¿ç•™å­—ï¼š<br>and break do else elseif<br>end false for function if<br>in local nil not or<br>repeat return then true unitl<br>while</p><p>Lua æ˜¯æœ‰å¤§å°å†™ä¹‹åˆ†çš„</p><p>Luaæ³¨é‡Šï¼š<br>å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä»¥ä¸¤ä¸ªè¿å­—ç¬¦ï¼ˆâ€“ï¼‰å¼€å§‹ä¸€ä¸ªâ€œè¡Œæ³¨é‡Šâ€ï¼Œè¯¥æ³¨é‡Šä¸€ç›´å»¶ä¼¸åˆ°ä¸€è¡Œçš„ç»“å°¾ã€‚<br>Luaä¹Ÿæä¾›äº†â€œå—æ³¨é‡Šâ€ï¼Œä»¥â€œâ€“[[â€å¼€å§‹ï¼Œç›´è‡³â€œâ€“]]â€ï¼Œå¦‚æœå—æ³¨é‡ŠåŒ…å«çš„â€œâ€“]]â€å¹¶éæ˜¯æ³¨é‡Šç»“å°¾ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­</p><pre><code>--[[function fact(n)    if n == 0 then        return 1    else        return n * fact(n - 1)    endend--]]print(&quot;enter a number:&quot;)            --æ‰“å°a = io.read(&quot;*number&quot;)              --è¯»å–ä¸€ä¸ªæ•°å­—print(fact(a))--]]</code></pre><p>å¦‚æœä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªâ€œâ€“]]â€å¹¶éæ˜¯æƒ³è¦çš„å—æ³¨é‡Šç»“å°¾ï¼Œé‚£ä¹ˆå°±æ”¹ä¸ºä»¥ä¸‹ä¾ç„¶åˆæ³•</p><pre><code>--[=[function fact(n)    if n == 0 then        return 1    else        return n * fact(n - 1)    endend--]]print(&quot;enter a number:&quot;)            --æ‰“å°a = io.read(&quot;*number&quot;)              --è¯»å–ä¸€ä¸ªæ•°å­—print(fact(a))--]=]</code></pre><p>Luaå…¨å±€å˜é‡ï¼š<br>å…¨å±€å˜é‡ä¸éœ€è¦å£°æ˜ã€‚åªéœ€è¦å°†ä¸€ä¸ªå€¼èµ‹äºˆä¸€ä¸ªå…¨å±€å˜é‡å°±å¯ä»¥åˆ›å»ºäº†ã€‚åœ¨Luaä¸­ï¼Œè®¿é—®ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡ä¸ä¼šå¼•å‘é”™è¯¯ï¼Œè®¿é—®ç»“æœæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼nilã€‚</p><pre><code>print(a)        --nila=10print(a)        --10</code></pre><p>åˆ é™¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåªéœ€è¦å°†å…¶èµ‹å€¼ä¸ºnil</p><p>Luaç±»å‹ä¸å€¼ï¼š<br>Luaæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹çš„è¯­è¨€ã€‚åœ¨è¯­è¨€ä¸­æ²¡æœ‰ç±»å‹å®šä¹‰çš„è¯­æ³•ï¼Œæ¯ä¸ªå€¼éƒ½â€œæºå¸¦â€äº†å®ƒæœ¬èº«çš„ç±»å‹ä¿¡æ¯ã€‚<br>åœ¨Luaä¸­æœ‰8ç§åŸºç¡€ç±»å‹ï¼šnilï¼ˆç©ºï¼‰ï¼Œbooleanï¼ˆå¸ƒå°”ï¼‰ï¼Œnumberï¼ˆæ•°å­—ï¼‰ï¼Œstringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œuserdataï¼ˆè‡ªå®šä¹‰ç±»å‹ï¼‰ï¼Œfunctionï¼ˆå‡½æ•°ï¼‰ï¼Œthreadï¼ˆçº¿ç¨‹ï¼‰ï¼Œtableï¼ˆè¡¨ï¼‰ã€‚å‡½æ•°typeå¯æ ¹æ®ä¸€ä¸ªå€¼è¿”å›å…¶ç±»å‹åç§°ã€‚</p><pre><code>print(type(&quot;Hello world&quot;))      --stringprint(type(10.4 * 3))           --numberprint(type(print))              --functionprint(type(type))               --functionprint(type(true))               --booleanprint(type(nil))                --nilprint(type(type(X)))            --string</code></pre><p>æœ€åä¸€è¡Œå°†æ°¸è¿œè¿”å›â€œstringâ€ï¼Œè€Œæ— å…³ä¹Xè¿™ä¸ªå€¼çš„å†…å®¹ï¼Œè¿™æ˜¯å› ä¸ºtypeå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>å˜é‡æ²¡æœ‰é¢„å®šä¹‰çš„ç±»å‹ï¼Œä»»ä½•å˜é‡éƒ½å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„å€¼ï¼š</p><pre><code>print(type(a))          --nila = 10print(type(a))          --numbera = &quot;a string&quot;print(type(a))          --stringa = printa(type(a))              --function</code></pre><p>å°†ä¸€ä¸ªå˜é‡ç”¨äºä¸åŒç±»å‹ï¼Œé€šå¸¸ä¼šå¯¼è‡´ä»£ç æ··ä¹±ï¼Œä½†æœ‰æ—¶æ˜æ™ºåœ°ä½¿ç”¨è¿™ç§ç‰¹æ€§ä¼šå¸¦æ¥ä¾¿åˆ©ã€‚</p><h2 id="nilï¼ˆç©ºï¼‰"><a href="#nilï¼ˆç©ºï¼‰" class="headerlink" title="nilï¼ˆç©ºï¼‰"></a>nilï¼ˆç©ºï¼‰</h2><p>nilæ˜¯ä¸€ç§ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼nilï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç”¨äºåŒºåˆ«å…¶ä»–ä»»ä½•å€¼ã€‚ä¸€ä¸ªå…¨å±€å˜é‡åœ¨ç¬¬ä¸€æ¬¡èµ‹å€¼å‰çš„é»˜è®¤å€¼å°±æ˜¯nilï¼Œå°†nilèµ‹äºˆä¸€ä¸ªå…¨å±€å˜é‡ç­‰åŒäºåˆ é™¤å®ƒã€‚Luaå°†nilç”¨äºè¡¨ç¤ºä¸€ç§æ— æ•ˆå€¼çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ä»»ä½•æœ‰æ•ˆå€¼çš„æƒ…å†µã€‚</p><h2 id="booleanï¼ˆå¸ƒå°”ï¼‰"><a href="#booleanï¼ˆå¸ƒå°”ï¼‰" class="headerlink" title="booleanï¼ˆå¸ƒå°”ï¼‰"></a>booleanï¼ˆå¸ƒå°”ï¼‰</h2><p>booleanç±»å‹æœ‰ä¸¤ä¸ªå¯é€‰å€¼ï¼šfalseå’Œtrueï¼Œåœ¨Luaä¸­ä»»ä½•å€¼éƒ½å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ¡ä»¶ã€‚Luaå°†falseå’Œnilè§†ä¸ºå‡ï¼Œå…¶ä»–å€¼å…¨ä¸ºçœŸï¼ŒLuaåœ¨æ¡ä»¶æµ‹è¯•ä¸­ï¼Œå°†æ•°å­—é›¶å’Œç©ºå­—ç¬¦ä¸²ä¹Ÿéƒ½è§†ä¸ºçœŸ</p><h2 id="numberï¼ˆæ•°å­—ï¼‰"><a href="#numberï¼ˆæ•°å­—ï¼‰" class="headerlink" title="numberï¼ˆæ•°å­—ï¼‰"></a>numberï¼ˆæ•°å­—ï¼‰</h2><p>numberç±»å‹ç”¨äºè¡¨ç¤ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œæ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼š0.3e12</p><h2 id="stringï¼ˆå­—ç¬¦ä¸²ï¼‰"><a href="#stringï¼ˆå­—ç¬¦ä¸²ï¼‰" class="headerlink" title="stringï¼ˆå­—ç¬¦ä¸²ï¼‰"></a>stringï¼ˆå­—ç¬¦ä¸²ï¼‰</h2><p>Luaä¸­çš„å­—ç¬¦ä¸²é€šå¸¸è¡¨ç¤ºâ€œä¸€ä¸ªå­—ç¬¦åºåˆ—â€ã€‚å¯ä»¥å°†ä»»æ„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚Luaçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„å€¼ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸ªå­—ç¬¦ï¼Œè€Œæ˜¯æ ¹æ®ä¿®æ”¹è¦æ±‚æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</p><pre><code>a=&quot;Hello world&quot;b=string.gsub(a,&quot;world&quot;,&quot;lua&quot;)      --ä¿®æ”¹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†c=string.gsub(a,&quot;o&quot;,&quot;c&quot;)print(a)                            --Hello worldprint(b)                            --Hello luaprint(c)                            --Hellc wcrld</code></pre><p>stringçš„gsubå‡½æ•°ä¿®æ”¹æ‰€æœ‰åŒ¹é…åˆ°çš„å­ä¸²ã€‚<br>Luaçš„å­—ç¬¦ä¸²å’Œå…¶ä»–Luaå¯¹è±¡ä¸€æ ·ï¼Œéƒ½æ˜¯è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶æ‰€ç®¡ç†çš„å¯¹è±¡ã€‚ä»¥ä¸€å¯¹åŒ¹é…çš„å•å¼•å·æˆ–è€…åŒå¼•å·æ¥ç•Œå®šå­—ç¬¦ä¸²ï¼Œæ ¹æ®ç¼–ç¨‹é£æ ¼ï¼Œåº”è¯¥åšæŒåœ¨ç¨‹åºä¸­ä½¿ç”¨ç›¸åŒç±»å‹çš„å¼•å·ï¼Œå¦‚æœå­—ç¬¦ä¸²æœ¬èº«åŒ…å«å¼•å·ï¼Œé‚£ä¹ˆä½¿ç”¨è½¬ä¹‰åºåˆ—</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170313192419753?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)<br>Luaå­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰åºåˆ—</p><p>è¿˜å¯ä»¥é€šè¿‡æ•°å€¼æ¥æŒ‡å®šå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œæ•°å€¼ä»¥è½¬ä¹‰åºåˆ—â€œ\â€ç»™å‡ºï¼Œå…¶ä¸­æ˜¯ä¸€ä¸ªè‡³å¤š3ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆçš„åºåˆ—ã€‚ä¾‹å¦‚ï¼š<br>â€œalo\n123\â€â€ä¸å­—ç¬¦ä¸²â€\97lo\10\04923â€æ˜¯ç›¸åŒçš„ï¼Œåœ¨ASCIIä¸­ï¼Œâ€™aâ€™çš„ASCIIç¼–ç æ˜¯97ï¼Œæ¢è¡Œæ˜¯10ï¼Œâ€™1â€™çš„ç¼–ç æ˜¯49.è¿™é‡Œå¿…é¡»å°†49å†™æˆä¸‰ä¸ªæ•°å­—049ï¼Œä¸ç„¶Luaä¼šè¯»å–åˆ°æ•°å€¼492.</p><p>å¦å¤–ï¼Œå¯ä»¥ç”¨ä¸€å¯¹åŒ¹é…çš„åŒæ–¹æ‹¬å·æ¥ç•Œå®šä¸€ä¸ªå­—æ¯å­—ç¬¦ä¸²ï¼Œå°±åƒå†™â€œå—æ³¨é‡Šâ€é‚£æ ·ï¼Œä¸è¿‡Luaä¸ä¼šè§£é‡Šå…¶ä¸­çš„è½¬ä¹‰åºåˆ—ï¼Œå¹¶ä¸”ä¼šå¿½ç•¥ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¢è¡Œå­—ç¬¦çš„éƒ¨åˆ†ï¼Œè¿™ç§å†™æ³•å¯¹äºä¹¦å†™é‚£ç§å«æœ‰ç¨‹åºä»£ç çš„å­—ç¬¦ä¸²å°¤ä¸ºæœ‰ç”¨ã€‚</p><pre><code>page=[[&lt;html&gt;&lt;head&gt;&lt;title&gt;an html page&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;a href=&quot;http://www.lua.org&quot;&gt;lua&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;]]print(page)print(type(page))                   --string</code></pre><p>Luaæä¾›äº†è¿è¡Œæ—¶çš„æ•°å­—ä¸å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢ã€‚åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸Šåº”ç”¨ç®—æœ¯æ“ä½œæ—¶ï¼ŒLuaä¼šå°è¯•å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•°å­—:</p><pre><code>print(&quot;10&quot; + 1)         --11print(&quot;10+1&quot;)           --10+1print(&quot;hello&quot; + 1)      --æŠ¥é”™ï¼Œä¸èƒ½å°†stringå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•°å­—</code></pre><p>åœ¨LuaæœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²ä½†å´å¾—åˆ°ä¸€ä¸ªæ•°å­—æ—¶ï¼Œå®ƒä¹Ÿä¼šå°†æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²ï¼š</p><pre><code>a=10 .. 20print(10 .. 20)         --1020print(a)                --1020print(type(a))          --string</code></pre><p>åœ¨Luaä¸­ï¼Œâ€œ..â€æ˜¯å­—ç¬¦ä¸²è¿æ¥æ“ä½œç¬¦ï¼Œè®°å¾—è¯¥æ“ä½œç¬¦ä¸æ•°å­—ä¹‹é—´å¿…é¡»è¦ç”¨ç©ºæ ¼æ¥åˆ†éš”ï¼Œä¸ç„¶Luaä¼šå°†ç¬¬ä¸€ä¸ªç‚¹ç†è§£ä¸ºä¸€ä¸ªå°æ•°ç‚¹ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹äº‹ä»¶æœºåˆ¶</title>
      <link href="/2016/12/29/unity-zhi-shi-jian-ji-zhi/"/>
      <url>/2016/12/29/unity-zhi-shi-jian-ji-zhi/</url>
      
        <content type="html"><![CDATA[<p>äº‹ä»¶æœºåˆ¶ä¸»è¦ç”¨äºæ¨¡å—ä¹‹é—´è§£è€¦å’Œï¼Œäº‹ä»¶æœºåˆ¶å°†å„ä¸ªæ¨¡å—è”ç³»åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„è€¦åˆæ€§éå¸¸ä½ï¼Œç‰¹åˆ«é€‚ç”¨äºæ¸¸æˆäº§å“çš„æ¨¡å—åŒ–å¼€å‘ã€‚äº‹ä»¶çš„ç±»å‹å¯ä»¥é€šè¿‡æšä¸¾çš„å½¢å¼æ¥è¡¨ç¤ºã€‚äº‹ä»¶æœºåˆ¶çš„å®ç°åŸç†æ˜¯å°†è¡¨ç¤ºä¸åŒäº‹ä»¶çš„æšä¸¾ä¸å…¶å¯¹åº”çš„å›è°ƒå‡½æ•°é€šè¿‡AddListenerå‡½æ•°åŠ åˆ°å®šä¹‰å¥½çš„è¡¨ä¸­ï¼Œè§¦å‘å›è°ƒå‡½æ•°é€šè¿‡notifyå‡½æ•°å¯¹å·²å®šä¹‰çš„äº‹ä»¶æšä¸¾è¿›è¡Œåˆ†ç±»åˆ†å‘ï¼Œä»å‘è§¦å‘å·²åŠ è½½åˆ°å†…å­˜çš„äº‹ä»¶å›è°ƒå‡½æ•°ã€‚ç­‰å¼€å‘è€…ä¸éœ€è¦ç›‘å¬äº‹ä»¶å¯é€šè¿‡RemoveListenerå‡½æ•°ç§»é™¤ç›‘å¬å³å¯ã€‚</p><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªDemoçš„UnityPackageçš„é“¾æ¥ï¼š<br>é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1c1LOD4O" target="_blank" rel="noopener"> http://pan.baidu.com/s/1c1LOD4O </a><br>å¯†ç ï¼šy4fv</p><p>é“¾æ¥å¦‚æœ‰å¤±æ•ˆï¼Œè”ç³»åšä¸»åŠæ—¶æ›´æ–°ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äº‹ä»¶æœºåˆ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹ç§äººè®¢åˆ¶Debug</title>
      <link href="/2016/12/14/unity-zhi-si-ren-ding-zhi-debug/"/>
      <url>/2016/12/14/unity-zhi-si-ren-ding-zhi-debug/</url>
      
        <content type="html"><![CDATA[<p>å…¶å®åŸç†å¾ˆç®€å•ï¼Œè¿™é‡Œç”¨åˆ°çš„æ˜¯å¯Œæ–‡æœ¬çš„çŸ¥è¯†ï¼Œä¹Ÿè®¸å¤§å®¶ä¼šè§‰å¾—è¿™ç§lowå®šåˆ¶åè€Œæ˜¾å¾—éº»çƒ¦äº†ï¼Œé‚£å°±ç›´æ¥è·³è¿‡ã€‚ã€‚ã€‚</p><p>ç›´æ¥ä¸Šä»£ç ï¼š</p><pre><code>using UnityEngine;using System.Collections;using System;using System.Text;namespace Scripts.CoreScripts.Core.Helper{    public class Debugger    {        /// &lt;summary&gt;        /// æ˜¯å¦å¼€å¯Debugger        /// &lt;/summary&gt;        static public bool Enable = true;        /// &lt;summary&gt;        /// é»˜è®¤é”™è¯¯é¢œè‰²ï¼šçº¢è‰²        /// &lt;/summary&gt;        static public string ErrorColor = &quot;red&quot;;        /// &lt;summary&gt;        /// é»˜è®¤è­¦å‘Šé¢œè‰²ï¼šé»„è‰²        /// &lt;/summary&gt;        static public string WarningColor = &quot;yellow&quot;;        /// &lt;summary&gt;        /// é»˜è®¤è¾“å‡ºé¢œè‰²ï¼šç™½è‰²        /// &lt;/summary&gt;        static public string LogColor = &quot;white&quot;;        /// &lt;summary&gt;        /// é»˜è®¤å­—å·ï¼š20        /// &lt;/summary&gt;        static public int FontSize = 20;        /// &lt;summary&gt;        /// é»˜è®¤é¢œè‰²ï¼Œé»˜è®¤å­—å·è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        static public void Log(object message)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;);            }        }        /// &lt;summary&gt;        /// é»˜è®¤é¢œè‰²ï¼Œé»˜è®¤å­—å·è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;context&quot;&gt;è¿æ¥ä¸Šä¸‹æ–‡&lt;/param&gt;        static public void Log(object message, UnityEngine.Object context)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰é¢œè‰²è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt;        static public void Log(object message, Color32 color)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰é¢œè‰²ã€é»˜è®¤å­—å·è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt;        /// &lt;param name=&quot;context&quot;&gt;è¿æ¥ä¸Šä¸‹æ–‡&lt;/param&gt;        static public void Log(object message, Color32 color, UnityEngine.Object context)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰å­—å·è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·å¤§å°ï¼Œæ±‰å­—ä¸Šé™26ï¼Œå¤§å†™è‹±æ–‡ä¸Šé™30ï¼Œå°å†™è‹±æ–‡ä¸Šé™25ï¼Œä»…ä¾›å‚è€ƒ&lt;/param&gt;        static public void Log(object message, int fontSize)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + LogColor + &quot;&gt;&quot; + &quot;&lt;size=&quot; + FontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰å­—å·è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·&lt;/param&gt;        /// &lt;param name=&quot;context&quot;&gt;è¿æ¥ä¸Šä¸‹æ–‡&lt;/param&gt;        static public void Log(object message, int fontSize, UnityEngine.Object context)        {            if (Enable)            {                Debug.Log(&quot;&lt;size=&quot; + fontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot;, context);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰å­—å·ã€é¢œè‰²è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt;        /// &lt;param name=&quot;fontsize&quot;&gt;å­—å·&lt;/param&gt;        static public void Log(object message, Color32 color, int fontsize)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + fontsize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;);            }        }        /// &lt;summary&gt;        /// è‡ªå®šä¹‰å­—å·ã€é¢œè‰²è¾“å‡º        /// &lt;/summary&gt;        /// &lt;param name=&quot;message&quot;&gt;è¾“å‡ºå†…å®¹&lt;/param&gt;        /// &lt;param name=&quot;color&quot;&gt;é¢œè‰²&lt;/param&gt;        /// &lt;param name=&quot;fontSize&quot;&gt;å­—å·&lt;/param&gt;        /// &lt;param name=&quot;context&quot;&gt;è¿æ¥ä¸Šä¸‹æ–‡&lt;/param&gt;        static public void Log(object message, Color32 color, int fontSize, UnityEngine.Object context)        {            if (Enable)            {                Debug.Log(&quot;&lt;color=&quot; + FormatColor32(color) + &quot;&gt;&quot; + &quot;&lt;size=&quot; + fontSize + &quot;&gt;&quot; + message + &quot;&lt;/size&gt;&quot; + &quot;&lt;/color&gt;&quot;, context);            }        }        static public void LogWarning(object message)        {            if (Enable)            {                Debug.LogWarning(&quot;&lt;color=&quot; + WarningColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;);            }        }        static public void LogWarning(object message, UnityEngine.Object context)        {            if (Enable)            {                Debug.LogWarning(&quot;&lt;color=&quot; + WarningColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;, context);            }        }        static public void LogError(object message)        {            if (Enable)            {                Debug.LogError(&quot;&lt;color=&quot; + ErrorColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;);            }        }        static public void LogError(object message, UnityEngine.Object context)        {            if (Enable)            {                Debug.LogError(&quot;&lt;color=&quot; + ErrorColor + &quot;&gt;&quot; + message + &quot;&lt;/color&gt;&quot;, context);            }        }        /// &lt;summary&gt;        /// å°†Color32è½¬æ¢ä¸º#FFFFFFFFæ ¼å¼        /// &lt;/summary&gt;        /// &lt;param name=&quot;color&quot;&gt;&lt;/param&gt;        /// &lt;returns&gt;&lt;/returns&gt;        static private string FormatColor32(Color32 color)        {            StringBuilder sb = new StringBuilder();            sb.Append(&quot;#&quot;);            sb.Append(color.r.ToString(&quot;x2&quot;));            sb.Append(color.g.ToString(&quot;x2&quot;));            sb.Append(color.b.ToString(&quot;x2&quot;));            sb.Append(color.a.ToString(&quot;x2&quot;));            return sb.ToString();        }    }}</code></pre><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¢åˆ¶Debug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹Vector3Dï¼šé‡ç°Vector3</title>
      <link href="/2016/12/13/unity-zhi-vector3d-chong-xian-vector3/"/>
      <url>/2016/12/13/unity-zhi-vector3d-chong-xian-vector3/</url>
      
        <content type="html"><![CDATA[<p>ç›´æ¥ä¸Šä»£ç </p><pre><code>using System;using System.Text;using UnityEngine;public class Vector3D{    public static Vector3D back    {        get        {            return new Vector3D(0, 0, -1);        }    }    public static Vector3D down    {        get        {            return new Vector3D(0, -1, 0);        }    }    public static Vector3D forward    {        get        {            return new Vector3D(0, 0, 1);        }    }    public static Vector3D left    {        get        {            return new Vector3D(-1, 0, 0);        }    }    public static Vector3D right    {        get        {            return new Vector3D(1, 0, 0);        }    }    public static Vector3D up    {        get        {            return new Vector3D(0, 1, 0);        }    }    public static Vector3D one    {        get        {            return new Vector3D(1, 1, 1);        }    }    public static Vector3D zero    {        get        {            return new Vector3D(0, 0, 0);        }    }    /// &lt;summary&gt;    /// å‘é‡çš„é•¿åº¦    /// &lt;/summary&gt;    public float magnitude    {        get        {            return (float)Math.Sqrt(sqrMagnitudfe);        }    }    /// &lt;summary&gt;    /// å‘é‡çš„çš„é•¿åº¦çš„å¹³æ–¹    /// &lt;/summary&gt;    public float sqrMagnitudfe    {        get        {            return x * x + y * y + z * z;        }    }    /// &lt;summary&gt;    /// è§„èŒƒåŒ–    /// &lt;/summary&gt;    public Vector3D normalized    {        get        {            if (IsZero)            {                return Vector3D.zero;            }            else            {                Vector3D v = new Vector3D();                float length = magnitude;                v.x = this.x / length;                v.y = this.y / length;                v.z = this.z / length;                return v;            }        }    }    /// &lt;summary&gt;    /// æ˜¯å¦æ˜¯é›¶å‘é‡    /// &lt;/summary&gt;    public bool IsZero    {        get        {            return this.x == 0 &amp;&amp; this.y == 0 &amp;&amp; this.z == 0;        }    }    #region æ“ä½œç¬¦é‡è½½    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡ç›¸åŠ     /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt;    /// &lt;returns&gt;ä¸¤ä¸ªå‘é‡çš„å’Œ&lt;/returns&gt;    public static Vector3D operator +(Vector3D a,Vector3D b)    {        return new Vector3D(a.x + b.x, a.y + b.y, a.z + b.z);    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡ç›¸å‡    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt;    /// &lt;returns&gt;ä¸¤ä¸ªå‘é‡çš„å·®&lt;/returns&gt;    public static Vector3D operator -(Vector3D a,Vector3D b)    {        return new Vector3D(a.x - b.x, a.y - b.y, a.z - b.z);    }    /// &lt;summary&gt;    /// å‘é‡å–å    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt;    /// &lt;returns&gt;å‘é‡açš„åå‘é‡&lt;/returns&gt;    public static Vector3D operator -(Vector3D a)    {        return new Vector3D(-a.x, -a.y, -a.z);    }    /// &lt;summary&gt;    /// ä¸€ä¸ªæ•°ä¹˜ä»¥ä¸€ä¸ªå‘é‡    /// &lt;/summary&gt;    /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt;    /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt;    /// &lt;returns&gt;è¿”å›æ•°ä¸å‘é‡çš„ä¹˜ç§¯&lt;/returns&gt;    public static Vector3D operator *(float d, Vector3D a)    {        return new Vector3D(a.x * d, a.y * d, a.z * d);    }    /// &lt;summary&gt;    /// ä¸€ä¸ªå‘é‡ä¹˜ä»¥ä¸€ä¸ªæ•°    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt;    /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt;    /// &lt;returns&gt;è¿”å›å‘é‡ä¸æ•°çš„ä¹˜ç§¯&lt;/returns&gt;    public static Vector3D operator *(Vector3D a, float d)    {        return new Vector3D(a.x * d, a.y * d, a.z * d);    }    /// &lt;summary&gt;    /// ä¸€ä¸ªæ•°é™¤ä¸€ä¸ªå‘é‡ï¼Œå‘é‡a/æ•°b    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;ä¸€ä¸ªå‘é‡&lt;/param&gt;    /// &lt;param name=&quot;d&quot;&gt;ä¸€ä¸ªæ•°&lt;/param&gt;    /// &lt;returns&gt;è¿”å›å‘é‡a/d&lt;/returns&gt;    public static Vector3D operator /(Vector3D a,float d)    {        return new Vector3D(a.x / d, a.y / d, a.z / d);    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡æ˜¯å¦ç›¸ç­‰    /// &lt;/summary&gt;    /// &lt;param name=&quot;lhs&quot;&gt;å‘é‡lhs&lt;/param&gt;    /// &lt;param name=&quot;rhs&quot;&gt;å‘é‡rhs&lt;/param&gt;    /// &lt;returns&gt;å¦‚æœç›¸ç­‰ï¼Œåˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse&lt;/returns&gt;    public static bool operator ==(Vector3D lhs, Vector3D rhs)    {        bool x = Math.Abs(lhs.x - rhs.x) &lt; 0.00001f;        bool y = Math.Abs(lhs.y - rhs.y) &lt; 0.00001f;        bool z = Math.Abs(lhs.z - rhs.z) &lt; 0.00001f;        return x &amp;&amp; y &amp;&amp; z;    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡æ˜¯å¦ä¸ç­‰    /// &lt;/summary&gt;    /// &lt;param name=&quot;lhs&quot;&gt;å‘é‡lhs&lt;/param&gt;    /// &lt;param name=&quot;rhs&quot;&gt;å‘é‡rhs&lt;/param&gt;    /// &lt;returns&gt;å¦‚æœä¸ç­‰ï¼Œåˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse&lt;/returns&gt;    public static bool operator !=(Vector3D lhs, Vector3D rhs)    {        return !(lhs == rhs);    }    #endregion    public float x;    public float y;    public float z;    private float[] data = new float[3];    #region æ„é€ å™¨    public Vector3D()    {        this.x = 0.0f;        this.y = 0.0f;        this.z = 0.0f;        data[0] = 0.0f;        data[1] = 0.0f;        data[2] = 0.0f;    }    public Vector3D(float x, float y)    {        this.x = x;        this.y = y;        this.z = 1.0f;        data[0] = 0.0f;        data[1] = 0.0f;        data[2] = 1.0f;    }    public Vector3D(float x, float y, float z)    {        this.x = x;        this.y = y;        this.z = z;        data[0] = x;        data[1] = y;        data[2] = z;    }    #endregion    public float this[int index]    {        get        {            switch (index)            {                case 0:                    return this.x;                case 1:                    return this.y;                case 2:                    return this.z;                default:                    throw new Exception(&quot;index is out of array&quot;);            }        }        set        {            data[index] = value;            switch (index)            {                case 0:                    this.x = value;                    break;                case 1:                    this.y = value;                    break;                case 2:                    this.z = value;                    break;                default:                    break;            }        }    }    public override string ToString()    {        StringBuilder sb = new StringBuilder();        sb.Append(&quot;(&quot;);        sb.Append(this.x);        sb.Append(&quot;,&quot;);        sb.Append(this.y);        sb.Append(&quot;,&quot;);        sb.Append(this.z);        sb.Append(&quot;)&quot;);        return sb.ToString();    }    public void Set(float new_x, float new_y, float new_z)    {        this.x = new_x;        this.y = new_y;        this.z = new_z;        data[0] = new_x;        data[1] = new_y;        data[2] = new_z;    }    /// &lt;summary&gt;    /// è§„èŒƒåŒ–ï¼Œä½¿å‘é‡é•¿åº¦ä¸º1    /// &lt;/summary&gt;    public void Normalize()    {        if (!IsZero)        {            this.x /= magnitude;            this.y /= magnitude;            this.z /= magnitude;        }    }    #region é™æ€å‡½æ•°    /// &lt;summary&gt;    /// è·ç¦»    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;è¿”å›aå’Œbä¹‹é—´çš„è·ç¦»&lt;/returns&gt;    public static float Distance(Vector3D a, Vector3D b)    {        return (float)Math.Sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y) + (a.z - b.z) * (a.z - b.z));    }    /// &lt;summary&gt;    /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç‚¹ä¹˜ç§¯    /// &lt;/summary&gt;    /// &lt;param name=&quot;lhs&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;rhs&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static float Dot(Vector3D lhs, Vector3D rhs)    {        return lhs.x * rhs.x + lhs.y * rhs.y + lhs.z * rhs.z;    }    /// &lt;summary&gt;    /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å‰ä¹˜    /// &lt;/summary&gt;    /// &lt;param name=&quot;v1&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;v2&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D Cross(Vector3D v1, Vector3D v2)    {        float x = v1.y * v2.z - v2.y * v1.z;        float y = v1.z * v2.x - v2.z * v1.x;        float z = v1.x * v2.y - v2.x * v1.y;        return new Vector3D(x, y, z);    }    /// &lt;summary&gt;    /// é™åˆ¶é•¿åº¦    /// &lt;/summary&gt;    /// &lt;param name=&quot;v&quot;&gt;å‘é‡v&lt;/param&gt;    /// &lt;param name=&quot;maxLength&quot;&gt;æœ€é•¿é•¿åº¦&lt;/param&gt;    /// &lt;returns&gt;è¿”å›é™åˆ¶é•¿åº¦åçš„å‘é‡&lt;/returns&gt;    public static Vector3D ClampMagnitude(Vector3D v,float maxLength)    {        if (maxLength &gt;= v.magnitude)        {            return v;        }        return (maxLength / v.magnitude) * v;    }    /// &lt;summary&gt;    /// è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤¹è§’    /// &lt;/summary&gt;    /// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static float Angle(Vector3D from,Vector3D to)    {        float dot = Dot(from, to);        return (float)(180 * Math.Acos(dot / (from.magnitude * to.magnitude)) / Math.PI);    }    /// &lt;summary&gt;    /// æŠ•å°„ä¸€ä¸ªå‘é‡åˆ°å¦ä¸€ä¸ªå‘é‡    /// &lt;/summary&gt;    /// &lt;param name=&quot;vector&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;onNormal&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;è¿”å›è¢«æŠ•å°„åˆ°onNormalçš„vector&lt;/returns&gt;    public static Vector3D Project(Vector3D vector, Vector3D onNormal)    {        if (vector.IsZero || onNormal == Vector3D.zero)        {            return Vector3D.zero;        }        return Dot(vector, onNormal) / (onNormal.magnitude * onNormal.magnitude) * onNormal;    }    /// &lt;summary&gt;    /// åå°„    /// &lt;/summary&gt;    /// &lt;param name=&quot;inDirection&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;inNormal&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D Reflect(Vector3D inDirection,Vector3D inNormal)    {        return Vector3D.zero;    }    /// &lt;summary&gt;    /// ç¼©æ”¾    /// &lt;/summary&gt;    /// &lt;param name=&quot;scale&quot;&gt;&lt;/param&gt;    public void Scale(Vector3D scale)    {        this.x *= scale.x;        this.y *= scale.y;        this.z *= scale.z;    }    /// &lt;summary&gt;    /// ç¼©æ”¾    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D Scale(Vector3D a,Vector3D b)    {        return new Vector3D(a.x * b.x, a.y * b.y, a.z * b.z);    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡æ˜¯å¦å¹³è¡Œ    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static bool Parallel(Vector3D a, Vector3D b)    {        return Cross(a,b).IsZero;    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„çº¿æ€§æ’å€¼    /// &lt;/summary&gt;    /// &lt;param name=&quot;from&quot;&gt;å‘é‡from&lt;/param&gt;    /// &lt;param name=&quot;to&quot;&gt;å‘é‡to&lt;/param&gt;    /// &lt;param name=&quot;t&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D Lerp(Vector3D from, Vector3D to, float t)    {        if (t &lt;= 0)        {            return from;        }        else if (t &gt;= 1)        {            return to;        }        return t * to + (1 - t) * from;    }    /// &lt;summary&gt;    /// ä¸¤ä¸ªå‘é‡çš„çƒå½¢æ’å€¼    /// &lt;/summary&gt;    /// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt;    /// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt;    /// &lt;param name=&quot;t&quot;&gt;tçš„å€¼åœ¨[0..1]&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D Slerp(Vector3D a, Vector3D b, float t)    {        if (t &lt;= 0)        {            return a;        }        else if (t &gt;= 1)        {            return b;        }        Vector3D v = RotateTo(a, b, Vector3D.Angle(a, b) * t);        //å‘é‡çš„é•¿åº¦ï¼Œè·Ÿçº¿æ€§æ’å€¼ä¸€æ ·è®¡ç®—        float length = b.magnitude * t + a.magnitude * (1 - t);        return v.normalized * length;    }    /// &lt;summary&gt;    /// å°†å‘é‡fromå‘å‘é‡toæ—‹è½¬è§’åº¦angle    /// &lt;/summary&gt;    /// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt;    /// &lt;param name=&quot;angle&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector3D RotateTo(Vector3D from, Vector3D to, float angle)    {        //å¦‚æœä¸¤å‘é‡è§’åº¦ä¸º0        if (Vector3D.Angle(from, to) == 0)        {            return from;        }        //æ—‹è½¬è½´        Vector3D n = Vector3D.Cross(from, to);        n.Normalize();        //æ—‹è½¬çŸ©é˜µ        Matrix4x4 rotateMatrix = new Matrix4x4();        //æ—‹è½¬çš„å¼§åº¦        double radian = angle * Math.PI / 180;        float cosAngle = (float)Math.Cos(radian);        float sinAngle = (float)Math.Sin(radian);        rotateMatrix.SetRow(0, new Vector4(n.x * n.x * (1 - cosAngle) + cosAngle, n.x * n.y * (1 - cosAngle) + n.z * sinAngle, n.x * n.z * (1 - cosAngle) - n.y * sinAngle, 0));        rotateMatrix.SetRow(1, new Vector4(n.x * n.y * (1 - cosAngle) - n.z * sinAngle, n.y * n.y * (1 - cosAngle) + cosAngle, n.y * n.z * (1 - cosAngle) + n.x * sinAngle, 0));        rotateMatrix.SetRow(2, new Vector4(n.x * n.z * (1 - cosAngle) + n.y * sinAngle, n.y * n.z * (1 - cosAngle) - n.x * sinAngle, n.z * n.z * (1 - cosAngle) + cosAngle, 0));        rotateMatrix.SetRow(3, new Vector4(0, 0, 0, 1));        Vector4 v = Vector3D.ToVector4(from);        Vector3D vector = new Vector3D();        for (int i = 0; i &lt; 3; ++i)        {            for (int j = 0; j &lt; 3; j++)            {                vector[i] += v[j] * rotateMatrix[j, i];            }        }        return vector;    }    /// &lt;summary&gt;    /// å°†ä¸€ä¸ªVector3Dè½¬æ¢ä¸ºVector4    /// &lt;/summary&gt;    /// &lt;param name=&quot;v&quot;&gt;&lt;/param&gt;    /// &lt;returns&gt;&lt;/returns&gt;    public static Vector4 ToVector4(Vector3D v)    {        return new Vector4(v.x, v.y, v.z, 0);    }    public Vector3 ToVector3()    {        return new Vector3(x, y, z);    }    #endregion}</code></pre><p>ä»¥ä¸Šä»£ç åªæ˜¯è‡ªå·±åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€ç‚¹æˆæœï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼Œå½“ç„¶è·ŸVector3æ¯”èµ·æ¥è‚¯å®šå·®å¾ˆå¤šã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vector3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹Vector3.Lerpçº¿æ€§æ’å€¼åŸç†ä»‹ç»</title>
      <link href="/2016/12/13/unity-zhi-vector3.lerp-xian-xing-cha-zhi-yuan-li-jie-shao/"/>
      <url>/2016/12/13/unity-zhi-vector3.lerp-xian-xing-cha-zhi-yuan-li-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>å…ˆçœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161213114512329?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ç”»çš„æ¯”è¾ƒæ½¦è‰ï¼Œå¤§å®¶å°†å°±çœ‹ã€‚ã€‚ã€‚</p><p>å‘é‡from å’Œ å‘é‡toåœ¨xyå¹³é¢ä¸Šï¼Œå…¶å®è¿™å¹¶ä¸å½±å“è®²è§£æ’å€¼åŸç†ã€‚</p><p>å›¾ä¸­å¯ä»¥çœ‹å‡ºå½“t=0.5fæ—¶ï¼Œæ’å€¼å‘é‡å°±æ˜¯ä¸­é—´é‚£ä¸ªå‘é‡ï¼Œå…¶xè½´åˆ†é‡çš„è®¡ç®—å›¾ä¸­å·²ç»ç»™å‡ºäº†ï¼Œyè½´ä¹ŸåŒç†ï¼Œzè½´ä¹Ÿä¸€æ ·ã€‚ã€‚</p><p>ä¸‹é¢çœ‹ä¸‹å‡½æ•°ï¼š<br>public static Vector3 Lerp(Vector3 a, Vector3 b, float t);</p><p>å…¶ä¸­aå°±æ˜¯å›¾ä¸­çš„fromå‘é‡ï¼Œbå°±æ˜¯toå‘é‡ã€‚<br>tæ˜¯å¤¹åœ¨ [0â€¦1]ä¹‹é—´ï¼Œå½“t = 0æ—¶ï¼Œè¿”å›fromï¼Œå½“t = 1æ—¶ï¼Œè¿”å›toã€‚å½“t = 0.5 è¿”å›fromå’Œtoçš„å¹³å‡æ•°</p><p>æ‰€ä»¥å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>/// &lt;summary&gt;/// ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„çº¿æ€§æ’å€¼/// &lt;/summary&gt;/// &lt;param name=&quot;from&quot;&gt;å‘é‡from&lt;/param&gt;/// &lt;param name=&quot;to&quot;&gt;å‘é‡to&lt;/param&gt;/// &lt;param name=&quot;t&quot;&gt;&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;public static Vector3D Lerp(Vector3D from, Vector3D to, float t){    if (t &lt;= 0)    {        return from;    }    else if (t &gt;= 1)    {        return to;    }    return t * to + (1 - t) * from;}</code></pre><p>çº¿æ€§æ’å€¼æ¯”Slerpçƒå½¢æ’å€¼ç®€å•çš„å¤šã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Unityä¹‹Vector3.Slerpçƒå½¢æ’å€¼åŸç†ä»‹ç»</title>
      <link href="/2016/12/09/unity-zhi-vector3.slerp-qiu-xing-cha-zhi-yuan-li-jie-shao/"/>
      <url>/2016/12/09/unity-zhi-vector3.slerp-qiu-xing-cha-zhi-yuan-li-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>å…ˆçœ‹APIï¼š<br>public static Vector3 Slerp(Vector3 a, Vector3 b, float t);<br>ä»‹ç»ï¼šé€šè¿‡tæ•°å€¼åœ¨fromå’Œtoä¹‹é—´æ’å€¼ã€‚è¿”å›çš„å‘é‡çš„é•¿åº¦å°†è¢«æ’å€¼åˆ°fromåˆ°toçš„é•¿åº¦ä¹‹é—´ã€‚<br>å…ˆä¸Šä¸€ä¸ªç¤ºæ„å›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209112110583?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)<br>ä¸Šå›¾çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>private Vector3 mStart = new Vector3(-1, 1, 0);private Vector3 mEnd = new Vector3(1, 1, 0);// Update is called once per frameprivate void Update(){    //ç»˜åˆ¶åæ ‡è½´    Debug.DrawLine(new Vector3(-100, 0, 0), new Vector3(100, 0, 0), Color.green);    Debug.DrawLine(new Vector3(0, -100, 0), new Vector3(0, 100, 0), Color.green);    Debug.DrawLine(new Vector3(0, 0, -100), new Vector3(0, 0, 100), Color.green);    Debug.DrawLine(Vector3.zero, mStart, Color.red);    Debug.DrawLine(Vector3.zero, mEnd, Color.red);    Debug.DrawLine(mStart, mEnd, Color.red);    for (int i = 1; i &lt; 10; ++i)    {        Vector3 drawVec = Vector3.Slerp(mStart, mEnd, 0.1f * i);        Debug.DrawLine(Vector3.zero, drawVec, Color.yellow);    }}</code></pre><p>ä¸‹é¢å…ˆåšå‡ æ¬¡å®éªŒæ¥éªŒè¯ä¸‹é¢ä¸¤ä¸ªçŒœæƒ³ï¼š<br>1ã€çŒœæƒ³ä¸€ï¼šæ’å€¼çš„å‘é‡çš„é•¿åº¦æ˜¯å‡åŒ€çº¿æ€§å˜åŒ–çš„<br>2ã€çŒœæƒ³äºŒï¼šæ’å€¼çš„å‘é‡ä¹‹é—´çš„è§’åº¦æ˜¯ä¸€æ ·å¤§çš„</p><p>ä¸Šå›¾éªŒè¯ï¼š<br>å®éªŒä¸€ï¼šæˆ‘ä»¬åœ¨ä¸Šé¢ä»£ç çš„åŸºç¡€ä¸ŠåŠ ä¸Šè¾“å‡ºï¼š</p><pre><code>//åŠ åœ¨forå¾ªç¯é‡ŒDebug.Log(&quot;æ’å€¼å‘é‡é•¿åº¦ï¼š&quot;+ drawVec.magnitude);Debug.Log(&quot;è§’åº¦ï¼š&quot; + Vector3.Angle(drawVec, mStart) / i);</code></pre><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209112850532?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æˆ‘ä»¬å‘ç°è™½ç„¶æœ‰è¯¯å·®ï¼Œä½†æ˜¯çŒœæƒ³åŸºæœ¬æˆç«‹ï¼Œæˆ‘ä»¬ä¿®æ”¹mStartå’ŒmEndä¸¤å‘é‡ç»§ç»­å®éªŒã€‚</p><p>å®éªŒäºŒï¼šmStart = (-1,0,0) mEnd = (0,3,4)<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209113159037?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºä¸¤ä¸ªçŒœæƒ³æˆç«‹</p><p>è¿™é‡Œé¢å¤–è¦éªŒè¯ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“ä¸¤ä¸ªå‘é‡ä¸ºå¹³è¡Œå‘é‡æ—¶ï¼Œç»“æœå¦‚ä¸‹ï¼Œä¸‹é¢ç›´æ¥çœ‹å›¾ï¼š<br>ï¼ˆ1ï¼‰mStart = (-1, 0, 0) mEnd = (1, 0, 0)<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209114817399?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ï¼ˆ2ï¼‰mStart = (-1, 1, 0) mEnd = (1, -1, 0)<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209115239713?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ï¼ˆ3ï¼‰mStart = (-1, 1, 1) mEnd = (1, -1, -1)<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161209134923381?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>é‚£ä¹ˆç°åœ¨å°±å¯ä»¥åˆ©ç”¨è¿™å‡ ä¸ªç»“è®ºæ¥è‡ªå®ç°Slerpæ’å€¼äº†ã€‚</p><p>ä¸‹é¢ç›´æ¥ä¸Šä»£ç ï¼š<br>ä»£ç å…³é”®å†…å®¹å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰æ—‹è½¬å‘é‡å‡½æ•°<br>ï¼ˆ2ï¼‰æ—‹è½¬çŸ©é˜µ</p><pre><code>/// &lt;summary&gt;/// ä¸¤ä¸ªå‘é‡çš„çƒå½¢æ’å€¼/// &lt;/summary&gt;/// &lt;param name=&quot;a&quot;&gt;å‘é‡a&lt;/param&gt;/// &lt;param name=&quot;b&quot;&gt;å‘é‡b&lt;/param&gt;/// &lt;param name=&quot;t&quot;&gt;tçš„å€¼åœ¨[0..1]&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;public static Vector3D Slerp(Vector3D a, Vector3D b, float t){    if (t &lt;= 0)    {        return a;    }    else if (t &gt;= 1)    {        return b;    }    Vector3D v = RotateTo(a, b, Vector3D.Angle(a, b) * t);    //å‘é‡çš„é•¿åº¦ï¼Œè·Ÿçº¿æ€§æ’å€¼ä¸€æ ·è®¡ç®—    float length = b.magnitude * t + a.magnitude * (1 - t);    return v.normalized * length;}/// &lt;summary&gt;/// å°†å‘é‡fromå‘å‘é‡toæ—‹è½¬è§’åº¦angle/// &lt;/summary&gt;/// &lt;param name=&quot;from&quot;&gt;&lt;/param&gt;/// &lt;param name=&quot;to&quot;&gt;&lt;/param&gt;/// &lt;param name=&quot;angle&quot;&gt;&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;public static Vector3D RotateTo(Vector3D from, Vector3D to, float angle){    //å¦‚æœä¸¤å‘é‡è§’åº¦ä¸º0    if (Vector3D.Angle(from, to) == 0)    {        return from;    }    //æ—‹è½¬è½´    Vector3D n = Vector3D.Cross(from, to);    //æ—‹è½¬è½´è§„èŒƒåŒ–    n.Normalize();    //æ—‹è½¬çŸ©é˜µ    Matrix4x4 rotateMatrix = new Matrix4x4();    //æ—‹è½¬çš„å¼§åº¦    double radian = angle * Math.PI / 180;    float cosAngle = (float)Math.Cos(radian);    float sinAngle = (float)Math.Sin(radian);    //çŸ©é˜µçš„æ•°æ®    //è¿™é‡Œçœ‹ä¸æ‡‚çš„è‡ªè¡Œç§‘æ™®çŸ©é˜µçŸ¥è¯†    rotateMatrix.SetRow(0, new Vector4(n.x * n.x * (1 - cosAngle) + cosAngle, n.x * n.y * (1 - cosAngle) + n.z * sinAngle, n.x * n.z * (1 - cosAngle) - n.y * sinAngle, 0));    rotateMatrix.SetRow(1, new Vector4(n.x * n.y * (1 - cosAngle) - n.z * sinAngle, n.y * n.y * (1 - cosAngle) + cosAngle, n.y * n.z * (1 - cosAngle) + n.x * sinAngle, 0));    rotateMatrix.SetRow(2, new Vector4(n.x * n.z * (1 - cosAngle) + n.y * sinAngle, n.y * n.z * (1 - cosAngle) - n.x * sinAngle, n.z * n.z * (1 - cosAngle) + cosAngle, 0));    rotateMatrix.SetRow(3, new Vector4(0, 0, 0, 1));    Vector4 v = Vector3D.ToVector4(from);    Vector3D vector = new Vector3D();    for (int i = 0; i &lt; 3; ++i)    {        for (int j = 0; j &lt; 3; j++)        {            vector[i] += v[j] * rotateMatrix[j, i];        }    }    return vector;}/// &lt;summary&gt;/// å°†ä¸€ä¸ªVector3Dè½¬æ¢ä¸ºVector4/// &lt;/summary&gt;/// &lt;param name=&quot;v&quot;&gt;&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;public static Vector4 ToVector4(Vector3D v){    return new Vector4(v.x, v.y, v.z, 0);}public Vector3 ToVector3(){    return new Vector3(x, y, z);}</code></pre><p>è¿™é‡Œæš‚æ—¶æ²¡æœ‰å¯¹ä¸¤ä¸ªå‘é‡å…±çº¿åå‘çš„æƒ…å†µè¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ä¸»è¦å®ç°å·²ç»ç»™å‡ºæ¥äº†ã€‚ä½†æ˜¯ï¼Œæˆ‘å‘ç°ä¸€ç‚¹é—®é¢˜ï¼Œçœ‹å›¾ï¼š<br>ï¼ˆ1ï¼‰v1 = new Vector3(0, 2, 0);v2 = new Vector3(5, 0, 0);<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161211204127975?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>okï¼Œæ­£å¸¸</p><p>ï¼ˆ2ï¼‰v1 = new Vector3(3, 0, 0);v2 = new Vector3(0, 0, 5);<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161211204257397?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>okï¼Œæ­£å¸¸</p><p>ï¼ˆ3ï¼‰åœ¨RotateToå‡½æ•°ä¸­ï¼Œæ•°æ®ä¸ç²¾ç¡®å¯¼è‡´å­˜åœ¨è¯¯å·®ï¼Œä¹Ÿå°±æ˜¯æˆ‘æ‰“å°v1å’Œv2çš„å‰ä¹˜ ï¼ˆå›¾ä¸­é»„è‰²ï¼‰ ä¸ ï¼ˆå›¾ä¸­çº¢è‰²å‘é‡ï¼‰çš„å‰ä¹˜<br>å­˜åœ¨è¯¯å·®ï¼Œè¿™æ ·å…¶å®å°±æ˜¯è¯¥å‡½æ•°çš„æ—‹è½¬è½´ä¸å‡†ç¡®ã€‚</p><p>ä»¥ä¸ŠçŒœæƒ³ä»¥åŠä»£ç å®ç° æ²¡æœ‰æ‰¾åˆ°æƒå¨è®¤è¯ï¼Œå¦‚æœ‰å¼‚è®®ï¼Œæ¬¢è¿æ¢è®¨ã€‚ã€‚ã€‚</p><p>è¡¥å……ï¼š<br>è‡ªå·±æ— èŠåˆ©ç”¨Slerpæ’å€¼ç”»äº†ä¸‹é¢è¿™ä¸ªå›¾ï¼Œçº¯å±å¨±ä¹ã€‚ã€‚ã€‚<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20161212121854699?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vector3.Slerp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Aspect Ratio Fitterç»„ä»¶ä»‹ç»</title>
      <link href="/2016/12/08/ugui-zhi-aspect-ratio-fitter-zu-jian-jie-shao/"/>
      <url>/2016/12/08/ugui-zhi-aspect-ratio-fitter-zu-jian-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>ç»„ä»¶æˆªå›¾å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130181516831" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>1ã€Aspect Modeï¼šAspectModeæšä¸¾ç±»å‹</p><pre><code>public enum AspectMode {                         //ä¸ä½¿ç”¨é€‚åˆçš„çºµæ¨ªæ¯”    None,    //è®©Heightéšç€Widthè‡ªåŠ¨è°ƒèŠ‚    WidthControlsHeight,    //è®©Widthéšç€Heightè‡ªåŠ¨è°ƒèŠ‚    HeightControlsWidth,    //å®½åº¦ã€é«˜åº¦ã€ä½ç½®å’Œé”šç‚¹éƒ½ä¼šè¢«è‡ªåŠ¨è°ƒæ•´ï¼Œä»¥ä½¿å¾—è¯¥çŸ©å½¢æ‹Ÿåˆçˆ¶ç‰©ä½“çš„çŸ©å½¢å†…ï¼ŒåŒæ—¶ä¿æŒå®½é«˜æ¯”ä¾‹    FitInParent,    //å®½åº¦ã€é«˜åº¦ã€ä½ç½®å’Œé”šç‚¹éƒ½ä¼šè¢«è‡ªåŠ¨è°ƒæ•´ï¼Œä»¥ä½¿å¾—è¯¥çŸ©å½¢è¦†ç›–çˆ¶ç‰©ä½“çš„æ•´ä¸ªåŒºåŸŸï¼ŒåŒæ—¶ä¿æŒå®½é«˜æ¯”    EnvelopeParent}</code></pre><p>2ã€Aspect Ratioï¼šå®½é«˜æ¯”ä¾‹ï¼Œwidth/height</p><p>ä¸‹é¢æ ¹æ®å®é™…æƒ…å†µæ¥ä»‹ç»ä¸€ä¸‹è¯¥ç»„ä»¶ã€‚åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œé‡åˆ°ä¸€ç§æƒ…å†µï¼Œç©å®¶è·å¾—ä¸€äº›å¥–åŠ±ï¼Œåšæˆä¸€ä¸ªé€šç”¨çš„UIç•Œé¢ï¼Œè¯¥ç•Œé¢é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ä¸œè¥¿ï¼šæ ‡é¢˜ã€è·å¾—æŒ‰é’®ã€ä¸­é—´æ˜¯ä¸€æ’ç‰©å“itemï¼Œæ˜¾ç„¶ä¸­é—´çš„ä¸€æ’ç‰©å“itemä¼šç”¨åˆ°æ°´å¹³å¸ƒå±€ï¼Œå¹¶ä¸”å±…ä¸­æ˜¾ç¤ºï¼Œæ¯ä¸€ä¸ªitemåˆåŒ…æ‹¬ä¸€ä¸ªiconå’Œä¸€ä¸ªtextï¼ˆæ˜¾ç¤ºcountï¼‰ï¼Œå¦‚æœæ­¤æ—¶å­˜åœ¨æŸä¸€ä¸ªiconæ¯”å…¶ä»–çš„å¤§äº›ï¼Œå°±ä¼šæ˜¾å¾—å¾ˆçªå…€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±ç”¨åˆ°äº†è¯¥ç»„ä»¶</p><p>ç»™itemé¢„åˆ¶ä»¶ ä¸­çš„icon æ·»åŠ ä¸€ä¸ªçˆ¶ç‰©ä½“ï¼Œç„¶åç»™iconåŠ ä¸€ä¸ªAspect Ratio<br>Fitterï¼ŒAspectModeé€‰ç”¨FitInParentï¼ŒAspect Ratioçš„å€¼éœ€è¦åœ¨ä»£ç ä¸­è®¡ç®—ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨åšè¿™ä¸ªUIçš„æ—¶å€™<br>ï¼Œè‚¯å®šæ˜¯æ ¹æ®æ•°æ®æ¥åŠ¨æ€å®ä¾‹åŒ–è¿™äº›itemçš„ï¼Œæ¯ä¸€ä¸ªiconçš„å®½é«˜æ¯”ä¸ä¸€æ ·ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä»£ç ä¸­è®¡ç®—ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>Rect rect = GetComponent&lt;Image&gt;().sprite.rect;AspectRatioFitter fitter = GetComponent&lt;AspectRatioFitter&gt;();fitter.aspectRatio = rect.width / rect.height;</code></pre><p>è¿™ç§åšæ³•å°±ä¼šä¿æŒiconçš„å¤§å°åŸºæœ¬ä¸€è‡´ï¼Œå½“ç„¶å¦‚æœç¾æœ¯å›¢é˜Ÿå‡ºçš„ç‰©å“å›¾ç‰‡èµ„æºéƒ½ä¸€è‡´å¤§å°ï¼Œå’±ä»¬ä¹Ÿå°±çœå»äº†è¿™ä¸€æ­¥ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹å¸ƒå±€å®æˆ˜â€”â€”èŠå¤©ç³»ç»Ÿ</title>
      <link href="/2016/11/30/ugui-zhi-bu-ju-shi-zhan-liao-tian-xi-tong/"/>
      <url>/2016/11/30/ugui-zhi-bu-ju-shi-zhan-liao-tian-xi-tong/</url>
      
        <content type="html"><![CDATA[<h2 id="èŠå¤©ç³»ç»Ÿä¸­çš„UGUIå¸ƒå±€"><a href="#èŠå¤©ç³»ç»Ÿä¸­çš„UGUIå¸ƒå±€" class="headerlink" title="èŠå¤©ç³»ç»Ÿä¸­çš„UGUIå¸ƒå±€"></a>èŠå¤©ç³»ç»Ÿä¸­çš„UGUIå¸ƒå±€</h2><p>å¸¸ç”¨çš„èŠå¤©ç³»ç»Ÿå†…å®¹åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š<br>1ã€å‘è¨€å†…å®¹ï¼›<br>2ã€å‘è¨€äººå¤´åƒ<br>3ã€å‘è¨€äººåç§°<br>4ã€è¯­è¨€èŠå¤©ï¼ˆæœ¬æ–‡ä¸è€ƒè™‘è¯¥åŠŸèƒ½ï¼Œä¸å¸ƒå±€æ— å…³ï¼‰<br>5ã€è¡¨æƒ…ï¼ˆæœ¬æ–‡æš‚ä¸è€ƒè™‘è¯¥åŠŸèƒ½ï¼Œåç»­è¡¥å……ï¼‰<br>ï¼ˆ4.1ï¼‰è¡¨æƒ…ä¸æ–‡å­—æ··æ’ï¼Œæ¯”å¦‚ï¼šPCç«¯çš„QQèŠå¤©<br>ï¼ˆ4.2ï¼‰è¡¨æƒ…ä¸æ–‡å­—åˆ†å¼€ï¼Œæ¯”å¦‚ï¼šç§»åŠ¨ç«¯çš„QQ<br>6ã€èŠå¤©æ¨¡å¼ï¼šæ–‡æœ¬æ¨¡å¼ã€æ°”æ³¡æ¨¡å¼<br>ï¼ˆ5.1ï¼‰æ–‡æœ¬æ¨¡å¼ï¼šå‚ä¸èŠå¤©çš„æ‰€æœ‰äººå‡åœ¨å·¦è¾¹<br>ï¼ˆ5.2ï¼‰æ°”æ³¡æ¨¡å¼ï¼šè‡ªå·±çš„æ°”æ³¡åœ¨å·¦è¾¹ï¼Œå…¶ä½™ç©å®¶çš„æ°”æ³¡åœ¨å³è¾¹ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130170008725" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130170129242" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>è¿™é‡Œä»¥æ°”æ³¡æ¨¡å¼ä¸ºä¾‹è¿›è¡Œè®²è§£ï¼š<br>å…ˆä¸Šç±»ä¼¼æ•ˆæœå›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130170902322" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å…ˆç®€å•åˆ†æä¸€ä¸‹ï¼š<br>è¿™é‡Œåˆ†ä¸ºä¸‰ä¸ªé¢„åˆ¶ä»¶ï¼š<br>ï¼ˆ1ï¼‰æ•´ä¸ªå¯¹è¯æ¡†ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶a<br>ï¼ˆ2ï¼‰ç©å®¶è‡ªå·±çš„æ°”æ³¡ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶b<br>ï¼ˆ3ï¼‰å…¶ä½™ç©å®¶çš„æ°”æ³¡ä½œä¸ºä¸€ä¸ªé¢„åˆ¶ä»¶c<br>ç„¶åé¢„åˆ¶ä»¶aå¯¹æ°”æ³¡ç”¨äº†å‚ç›´å¸ƒå±€ï¼›é¢„åˆ¶ä»¶bå’Œcåšæ³•ç±»ä¼¼ï¼Œå¤§å°ä¸€è‡´ï¼›é¢„åˆ¶ä»¶bå’Œcä¸­çš„æ°”æ³¡èƒŒæ™¯å›¾ç‰‡è¦éšç€æ–‡å­—å†…å®¹å˜åŒ–è€Œè‡ªåŠ¨ç¼©æ”¾ï¼Œå› æ­¤èƒŒæ™¯å›¾ç‰‡èº«ä¸ŠæŒ‚ä¸Šä¸€ä¸ªVertical<br>Layout Groupç»„ä»¶å’ŒContent Size Fitterç»„ä»¶ï¼Œç›¸å…³è®¾ç½®å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130173138099" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>ç„¶åå°†æ–‡å­—å†…å®¹ç‰©ä½“ä½œä¸ºèƒŒæ™¯å›¾ç‰‡çš„å­ç‰©ä½“ï¼Œå¹¶æ·»åŠ ç»„ä»¶Content Size Fitter<br>ç›¸å…³è®¾ç½®å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130173402647" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>é¢„åˆ¶ä»¶bå’Œcè¿˜æœ‰ä¸€ç‚¹åŒºåˆ«å°±æ˜¯bï¼ˆç©å®¶è‡ªå·±ï¼‰çš„Pivotä¸ºï¼ˆ1,1ï¼‰ï¼Œé¢„åˆ¶ä»¶cï¼ˆå…¶ä»–ç©å®¶ï¼‰çš„Pivotä¸ºï¼ˆ0,1ï¼‰</p><p>è¿™æ ·æè¿°å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œæœ€åä¼šç›´æ¥ç»™å¤§å®¶æä¾›ä¸€ä¸ªå·¥ç¨‹ä¸‹è½½åœ°å€ã€‚</p><p>ç„¶åèŠå¤©æ¡†è¿˜æ”¯æŒæ»šåŠ¨ç¿»é˜…æµè§ˆå‰é¢çš„èŠå¤©è®°å½•ï¼Œå› æ­¤è¿˜éœ€è¦Scroll Rectã€Maskç­‰ç»„ä»¶<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130175154983" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130175312655" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ç”±äºèŠå¤©çª—å£ä¸‹æ–¹å‡ ä¸ªæŒ‰é’®å’Œè¾“å…¥æ¡†ä¸æ˜¯å¸ƒå±€çš„é‡ç‚¹ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»ï¼Œå¦‚æœ‰éœ€è¦ï¼Œåç»­ç»™å¤§å®¶æä¾›ä¸€ä¸ªå·¥ç¨‹ä¸‹è½½åœ°å€ã€‚</p><p>é‚£ä¹ˆï¼Œå¸ƒå±€å®æˆ˜â€”â€”èŠå¤©ç³»ç»Ÿå°±ä»‹ç»åˆ°è¿™é‡Œã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><hr><p>æ›´æ–°ï¼š<br>Demoç¤ºæ„å›¾å¦‚ä¸‹ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170114224142012?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>æ­¤æ—¶å›¾ä¸­æ˜¯ç©ºçš„èŠå¤©çª—å£ï¼Œæ¯å‘é€æˆ–è€…æ”¶åˆ°ä¸€æ¡èŠå¤©è®°å½•ï¼Œåªéœ€è¦ç”Ÿæˆä¸€ä¸ªç›¸åº” çš„é¢„åˆ¶ä»¶å¹¶ä½œä¸ºContentçš„å­ç‰©ä½“</p><p>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170114224522158?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>å…³äºèŠå¤©ç³»ç»Ÿçš„å¸ƒå±€å‘¢ï¼Œæ ¹æ®è®¾è®¡ä¸åŒå¸ƒå±€ä¹Ÿå°±ä¸åŒï¼Œè¿™é‡Œæ˜¯å°†æˆ‘å·¥ä½œä¸­çš„ä¸€ä¸ªèŠå¤©ç³»ç»Ÿè®²è§£ç»™å¤§å®¶ï¼Œå…·ä½“è¯¦æƒ…å¦‚æœ‰å…´è¶£æ¬¢è¿ç‚¹å‡»é“¾æ¥ï¼š <a href="http://pan.baidu.com/s/1hrMxwf6" target="_blank" rel="noopener"><br>http://pan.baidu.com/s/1hrMxwf6 </a> å¯†ç ï¼š6bss<br>ä¸‹è½½å·¥ç¨‹</p><p>æˆ‘ç”¨çš„unityç‰ˆæœ¬æ˜¯5.3.7ï¼Œå·¥ç¨‹æ‰€ç”¨ç¾æœ¯èµ„æºéæœ¬äººåŸåˆ›ï¼Œè¯·ä¸è¦å•†ç”¨ï¼Œä»…é™å­¦ä¹ ä½¿ç”¨ï¼Œå¦‚å› æ­¤å‡ºç°ç‰ˆæƒé—®é¢˜ï¼Œä¸æœ¬äººæ— å…³ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Grid Layout Groupç»„ä»¶ä»‹ç»</title>
      <link href="/2016/11/30/ugui-zhi-grid-layout-group-zu-jian-jie-shao/"/>
      <url>/2016/11/30/ugui-zhi-grid-layout-group-zu-jian-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>Grid Layout Groupæ˜¯LayoutGroupçš„å­ç±»</p><p>è„šæœ¬å±æ€§æˆªå›¾å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130135310391" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>1ã€Paddingï¼šRectOffsetç±»å‹ï¼ŒçŸ©å½¢åç§»ï¼Œè¯¦è§£è¯·æˆ³ <a href="http://blog.csdn.net/qq_26999509/article/details/53406107" target="_blank" rel="noopener"> UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç»</a></p><p>2ã€Cell Sizeï¼šVector2ç±»å‹ï¼Œé»˜è®¤å€¼ä¸º(100,100)ï¼Œç½‘æ ¼ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼çš„å¤§å°</p><pre><code>[SerializeField] protected Vector2 m_CellSize = new Vector2(100, 100);public Vector2 cellSize { get { return m_CellSize; } set { SetProperty(ref m_CellSize, value); } }</code></pre><p>3ã€Spacingï¼šè¿™é‡Œçš„Spacingä¸åŒäºæ°´å¹³å¸ƒå±€ã€å‚ç›´å¸ƒå±€ï¼Œæ˜¯Vector2ç±»å‹ï¼Œæ—¢ç„¶æ˜¯ç½‘æ ¼å¸ƒå±€ï¼Œå½“ç„¶å­˜åœ¨æ°´å¹³æ–¹å‘çš„é—´éš”å’Œå‚ç›´æ–¹å‘çš„é—´éš”ï¼Œè¿™é‡Œä¹Ÿä¸åšè¿‡å¤šçš„ä»‹ç»ã€‚</p><p>3ã€Start Cornerï¼šCorneræšä¸¾ç±»å‹</p><pre><code>public enum Corner {     UpperLeft = 0,      //å·¦ä¸Šè§’    UpperRight = 1,     //å³ä¸Šè§’    LowerLeft = 2,      //å·¦ä¸‹è§’    LowerRight = 3      //å³ä¸‹è§’}</code></pre><p>ç¬¬ä¸€ä¸ªå•å…ƒæ ¼æ”¾åœ¨å“ªä¸ªè§’è½ï¼Œé»˜è®¤ä¸ºUpperLeftå·¦ä¸Šè§’</p><p>4ã€Start Axisï¼šAxisæšä¸¾ç±»å‹</p><pre><code>public enum Axis {     Horizontal = 0,     //æ°´å¹³    Vertical = 1        //å‚ç›´}</code></pre><p>ï¼ˆ1ï¼‰Horizontalï¼šæ°´å¹³<br>ä¼˜å…ˆæ°´å¹³æ’åˆ—å•å…ƒæ ¼<br>ï¼ˆ2ï¼‰Verticalï¼šå‚ç›´<br>ä¼˜å…ˆå‚ç›´æ’åˆ—å•å…ƒæ ¼</p><p>5ã€Child Alignmentï¼šTextAnchoræšä¸¾ç±»å‹ï¼Œæ–‡æœ¬é”šç‚¹ï¼Œè¯¦è§£è¯·æˆ³ <a href="http://blog.csdn.net/qq_26999509/article/details/53406107" target="_blank" rel="noopener"> UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç»</a></p><p>6ã€Constraintï¼šConstraintæšä¸¾ç±»å‹</p><pre><code>public enum Constraint {     Flexible = 0,              //ä¸é™åˆ¶è¡Œæ•°å’Œåˆ—æ•°    FixedColumnCount = 1,      //çº¦æŸæŒ‡å®šæ•°é‡çš„åˆ—æ•°    FixedRowCount = 2          //çº¦æŸæŒ‡å®šæ•°é‡çš„è¡Œæ•°}</code></pre><p>ä¸‹é¢ä»¥å‡ ä¸ªæˆªå›¾æ¥çœ‹çœ‹ä¸Šé¢å‡ ä¸ªè®¾ç½®å…·ä½“æ˜¯æ€æ ·çš„ä½œç”¨ï¼š<br>ä»¥ä¸‹å•å…ƒæ ¼ç‰©ä½“åŠ äº†ä¸€ä¸ªTextæ¥è¡¨ç¤ºå…¶ç¼–å·ï¼Œå¹¶ä¸”Hierarchyé¢æ¿ä¸­çš„å±‚çº§å…³ç³»å¹¶æœªè°ƒæ•´</p><p>å›¾ä¸€ï¼šé»˜è®¤æƒ…å†µ<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130144209367" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾äºŒï¼šè®¾ç½®Start Cornerä¸ºUpper Right<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130163937264" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾ä¸‰ï¼šè®¾ç½®Start Axisä¸ºVertical<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130164106471" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾å››ï¼šè®¾ç½®Start Cornerä¸ºLower Leftã€Start Axisä¸ºVertical<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130164300577" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»ä»¥ä¸Šå›¾ä¸­ä¸éš¾çœ‹å‡ºè¿™ä¸¤ä¸ªè®¾ç½®çš„ä½¿ç”¨ç”¨é€”ã€‚</p><p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘å¸¸ä¸Content Size Fitterç»„ä»¶ä¸€èµ·ä½¿ç”¨<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130164549547" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GridLayoutGroup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Vertical Layout Groupç»„ä»¶ä»‹ç»</title>
      <link href="/2016/11/30/ugui-zhi-vertical-layout-group-zu-jian-jie-shao/"/>
      <url>/2016/11/30/ugui-zhi-vertical-layout-group-zu-jian-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>VerticalLayoutGroupä¹Ÿæ˜¯HorizontalOrVerticalLayoutGroupçš„å­ç±»ï¼ŒHorizontalOrVerticalLayoutGroupæ˜¯LayoutGroupçš„å­ç±»ï¼Œä¸‹é¢ä»æºç ä¸­è¿›è¡Œå¯¹æ¯”</p><pre><code>namespace UnityEngine.UI{    [AddComponentMenu(&quot;Layout/Horizontal Layout Group&quot;, 150)]    public class HorizontalLayoutGroup : HorizontalOrVerticalLayoutGroup    {        protected HorizontalLayoutGroup()        {}        public override void CalculateLayoutInputHorizontal()        {            base.CalculateLayoutInputHorizontal();            CalcAlongAxis(0, false);        }        public override void CalculateLayoutInputVertical()        {            CalcAlongAxis(1, false);        }        public override void SetLayoutHorizontal()        {            SetChildrenAlongAxis(0, false);        }        public override void SetLayoutVertical()        {            SetChildrenAlongAxis(1, false);        }    }}namespace UnityEngine.UI{    [AddComponentMenu(&quot;Layout/Vertical Layout Group&quot;, 151)]    public class VerticalLayoutGroup : HorizontalOrVerticalLayoutGroup    {        protected VerticalLayoutGroup()        {}        public override void CalculateLayoutInputHorizontal()        {            base.CalculateLayoutInputHorizontal();            CalcAlongAxis(0, true);        }        public override void CalculateLayoutInputVertical()        {            CalcAlongAxis(1, true);        }        public override void SetLayoutHorizontal()        {            SetChildrenAlongAxis(0, true);        }        public override void SetLayoutVertical()        {            SetChildrenAlongAxis(1, true);        }    }}</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å››ä¸ªé‡å†™çš„åŸºæ–¹æ³•é‡Œçš„è°ƒç”¨çš„CalcAlongAxisã€SetChildrenAlongAxisä¸€ä¸ªæ˜¯falseï¼Œä¸€ä¸ªæ˜¯trueï¼Œé‚£ä¹ˆæ˜¾ç„¶trueè¡¨ç¤ºæ˜¯verticalï¼Œfalseè¡¨ç¤ºhorizontal</p><p>æ‰€ä»¥åœ¨è¿™å°±ä¸è¿‡å¤šçš„å¯¹Vertical Layout Groupç»„ä»¶åšè¿‡å¤šçš„ä»‹ç»ï¼Œç”¨æ³•è·Ÿ Horizontal Layout<br>Groupç»„ä»¶ä¸€æ ·çš„ç”¨ï¼Œå¦‚æœå¯¹Horizontal Layout Groupç»„ä»¶æœ‰ä¸äº†è§£çš„ï¼Œè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œ <a href="http://blog.csdn.net/qq_26999509/article/details/53406107" target="_blank" rel="noopener"> Horizontal Layout<br>Groupç»„ä»¶ä»‹ç» </a></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VerticalLayoutGroup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Horizontal Layout Groupç»„ä»¶ä»‹ç»</title>
      <link href="/2016/11/30/ugui-zhi-horizontal-layout-group-zu-jian-jie-shao/"/>
      <url>/2016/11/30/ugui-zhi-horizontal-layout-group-zu-jian-jie-shao/</url>
      
        <content type="html"><![CDATA[<p>Horizontal Layout<br>Groupæ˜¯HorizontalOrVerticalLayoutGroupçš„å­ç±»ï¼ŒHorizontalOrVerticalLayoutGroupåˆæ˜¯LayoutGroupçš„å­ç±»</p><p>è„šæœ¬æˆªå›¾å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130105302623" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾ä¸­åŒ…æ‹¬ä»¥ä¸‹å±æ€§ï¼š<br>1ã€Paddingï¼šRectOffsetç±»å‹ï¼ŒçŸ©å½¢åç§»<br>æºç å¦‚ä¸‹ï¼š</p><pre><code>public sealed class RectOffset{    public RectOffset();    public RectOffset(int left, int right, int top, int bottom);    ~RectOffset();    public int bottom { get; set; }       //åº•è¾¹ç¼˜    public int horizontal { get; }        //æ°´å¹³    public int left { get; set; }         //å·¦è¾¹ç¼˜    public int right { get; set; }        //å³è¾¹ç¼˜    public int top { get; set; }          //é¡¶è¾¹ç¼˜    public int vertical { get; }          //å‚ç›´    public Rect Add(Rect rect);           //å‘ä¸€ä¸ªRectæ·»åŠ è¾¹æ¡†åç§»    public Rect Remove(Rect rect);        //ä»ä¸€ä¸ªRectç§»é™¤è¾¹æ¡†åç§»    public override string ToString();      }</code></pre><p>å¦‚ä¸‹é¢å‡ ä¸ªå›¾ä¸­ï¼š<br>å›¾ä¸€ï¼šé»˜è®¤æƒ…å†µ</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130112111669" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾äºŒï¼šåªæ”¹å˜Padding</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130112316107" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å½“Paddingä¸­çš„è¾¹ç¼˜å¤§å°è¿‡å¤§æ—¶ï¼Œä¼šè‡ªåŠ¨ç¼©æ”¾å¸ƒå±€å…ƒç´ ä»¥ä¿æŒå¸ƒå±€å…ƒç´ å‡åœ¨è¾¹æ¡†å†…ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹å‡º<br>å›¾ä¸‰<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130113434288" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>2ã€Spacingï¼šfloatç±»å‹<br>å¸ƒå±€å…ƒç´ ä¹‹é—´çš„é—´éš”</p><p>å›¾å››ï¼šåªæ”¹å˜Spacing</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130112521843" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å½“Spacingè¿‡å¤§ï¼Œä¼šè‡ªåŠ¨ç¼©æ”¾å¸ƒå±€å…ƒç´ ä»¥ä¿æŒå¸ƒå±€å…ƒç´ å‡åœ¨è¾¹æ¡†å†…ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹å‡ºå¸ƒå±€å…ƒç´ å®½åº¦ç¼©å°äº†<br>å›¾äº”ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130112740875" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>3ã€Child Alignmentï¼šTextAnchoræšä¸¾ç±»å‹ï¼Œæ–‡æœ¬é”šç‚¹<br>æºç å¦‚ä¸‹ï¼š</p><pre><code>public enum TextAnchor{    UpperLeft = 0,           //ä¸Šå·¦    UpperCenter = 1,         //ä¸Šä¸­    UpperRight = 2,          //ä¸Šå³    MiddleLeft = 3,          //ä¸­å·¦    MiddleCenter = 4,        //ä¸­ä¸­    MiddleRight = 5,         //ä¸­å³    LowerLeft = 6,           //ä¸‹å·¦    LowerCenter = 7,         //ä¸‹ä¸­    LowerRight = 8           //ä¸‹å³}</code></pre><p>4ã€Child Force Expandï¼šæœ‰ä¸¤ä¸ªå¯é€‰<br>ï¼ˆ1ï¼‰Widthï¼šæ˜¯å¦å¼ºè¡Œæ‰©å¤§å¸ƒå±€å…ƒç´ å®½åº¦ä»¥å¡«è¡¥é¢å¤–å¯ç”¨çš„ç©ºé—´<br>ï¼ˆ2ï¼‰Heightï¼šæ˜¯å¦å¼ºè¡Œæ‰©å¤§å¸ƒå±€å…ƒç´ é«˜åº¦ä»¥å¡«è¡¥é¢å¤–å¯ç”¨çš„ç©ºé—´<br>ä¸‹é¢ç»“åˆæˆªå›¾æ¥è¯´æ˜ï¼š<br>å›¾å…­ï¼šå‹¾é€‰Widthï¼Œå¡«è¡¥å®½åº¦<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130113918270" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾ä¸ƒï¼šå‹¾é€‰Heightï¼Œå¡«è¡¥é«˜åº¦<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130114007873" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å›¾å…«ï¼šå‹¾é€‰Widthå’ŒHeightï¼Œå¡«è¡¥å®½åº¦å’Œé«˜åº¦<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130114047546" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»ä»¥ä¸Šä¸‰å›¾ç»“åˆå›¾ä¸€é»˜è®¤å›¾å¯ä»¥çœ‹å‡ºå…¶å…·ä½“æ•ˆæœ</p><p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ç»å¸¸ç»“åˆContent Size Fitterç»„ä»¶ä¸€èµ·ä½¿ç”¨<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161130114433364" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å…³äºUIå¸ƒå±€ï¼Œå¤§å®¶å¼€å‘çš„å¤šäº†ï¼Œå°±ç†Ÿç»ƒäº†ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HorizontalLayoutGroup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Content Size Fitterç»„ä»¶</title>
      <link href="/2016/11/29/ugui-zhi-content-size-fitter-zu-jian/"/>
      <url>/2016/11/29/ugui-zhi-content-size-fitter-zu-jian/</url>
      
        <content type="html"><![CDATA[<p>å…·ä½“å±æ€§æˆªå›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129161134457" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Horizontal Fitå’ŒVertical<br>Fitå‡ä¸ºUI.ContentSizeFitter.FitModeæšä¸¾ç±»å‹ï¼Œæœ‰ä¸‰ä¸ªå€¼å¯é€‰ï¼šUnconstrainedï¼ŒMinSizeï¼ŒPreferredSize</p><p>Unconstrainedï¼šä¸æ‰§è¡Œä»»ä½•è°ƒæ•´<br>MinSizeï¼šè°ƒæ•´å†…å®¹çš„æœ€å°å¤§å°<br>PreferredSizeï¼šè°ƒæ•´å†…å®¹çš„é¦–é€‰å¤§å°ï¼Œä¹Ÿå°±æ˜¯ä¼šè‡ªåŠ¨æ ¹æ®å†…å®¹æ¥è°ƒæ•´å¤§å°</p><p>ä½¿ç”¨Content Size Fitterç»„ä»¶ï¼ŒRectTransformç»„ä»¶ä¼šå‘ç”Ÿå“åº”çš„å˜åŒ–<br>é»˜è®¤æƒ…å†µä¸‹RectTransformç»„ä»¶çš„Width å’Œ Height å¯ä»¥åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹å°±è¡Œä¿®æ”¹ï¼Œå½“Horizontal<br>Fitä¸ä¸ºUnconstrainedæ—¶ï¼ŒWidthä¸å¯ä¿®æ”¹ï¼ŒåŒç†ï¼ŒVertical Fitä¸ä¸ºUnconstrainedæ—¶ï¼ŒHeightä¸å¯ä¿®æ”¹ã€‚</p><p>ä»£ç ä¸­ï¼Œå¦‚æœéœ€è¦è·å–è¿™ä¸ªgameobjectçš„Width å’ŒHeightï¼Œä¸‹å›¾ä¸­æä¾›äº†Preferred Heightå’ŒPreferred<br>Widthçš„è·å–æ–¹å¼<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129163322107" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å³ä¸‹è§’å¯ä»¥çœ‹å‡ºæ•°æ®çš„Sourceæ˜¯Textç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡GetComponent().PreferredWidthå’ŒPreferredHeightæ¥è·å¾—ã€‚</p><p>å½“ç„¶ä¸æ˜¯æ‰€æœ‰æƒ…å†µï¼Œè¿™ä¸¤ä¸ªæ•°æ®çš„sourceéƒ½æ˜¯Textï¼ï¼ï¼</p><p>å…³äºContent Size Fitterä»‹ç»æš‚æ—¶å°±åˆ°è¿™é‡Œï¼Œåç»­å®Œå–„</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ContentSizeFitter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Outlineè½®å»“ç»„ä»¶</title>
      <link href="/2016/11/29/ugui-zhi-outline-lun-kuo-zu-jian/"/>
      <url>/2016/11/29/ugui-zhi-outline-lun-kuo-zu-jian/</url>
      
        <content type="html"><![CDATA[<p>å±æ€§å›¾å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129150337459" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»æºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå…¶å®Outlineæ˜¯Shadowçš„å­ç±»ï¼Œåªä¸è¿‡Outlineè„šæœ¬åœ¨å››ä¸ªæ–¹å‘ä¸Šè°ƒç”¨äº†Shadowçš„ApplyShadowZeroAllocå‡½æ•°è€Œå·²ï¼Œå…·ä½“æºç å¦‚ä¸‹ï¼š</p><pre><code>using System.Collections.Generic;namespace UnityEngine.UI{    [AddComponentMenu(&quot;UI/Effects/Outline&quot;, 15)]    public class Outline : Shadow    {        protected Outline()        {}        public override void ModifyMesh(VertexHelper vh)        {            if (!IsActive())                return;            var verts = ListPool&lt;UIVertex&gt;.Get();            vh.GetUIVertexStream(verts);            var neededCpacity = verts.Count * 5;            if (verts.Capacity &lt; neededCpacity)                verts.Capacity = neededCpacity;            var start = 0;            var end = verts.Count;            ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, effectDistance.x, effectDistance.y);            start = end;            end = verts.Count;            ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, effectDistance.x, -effectDistance.y);            start = end;            end = verts.Count;            ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, -effectDistance.x, effectDistance.y);            start = end;            end = verts.Count;            ApplyShadowZeroAlloc(verts, effectColor, start, verts.Count, -effectDistance.x, -effectDistance.y);            vh.Clear();            vh.AddUIVertexTriangleStream(verts);            ListPool&lt;UIVertex&gt;.Release(verts);        }    }}</code></pre><p>è¿™é‡Œä¸å†èµ˜è¿°Outlineç»„ä»¶çš„å±æ€§äº†ï¼Œè·ŸShadowç»„ä»¶ä¸€æ ·ç”¨ï¼Œå…³äºShadowç»„ä»¶çš„ä»‹ç»è¯·æˆ³è¿™é‡Œ <a href="http://blog.csdn.net/qq_26999509/article/details/53392472" target="_blank" rel="noopener"> UGUIä¹‹Shadowé˜´å½±ç»„ä»¶</a></p><p>ç›¸åº”çš„ï¼Œä½¿ç”¨Outlineç»„ä»¶ï¼Œé¡¶ç‚¹æ•°åŠ äº†å››å€<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129151642745" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Outline </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Shadowé˜´å½±ç»„ä»¶</title>
      <link href="/2016/11/29/ugui-zhi-shadow-yin-ying-zu-jian/"/>
      <url>/2016/11/29/ugui-zhi-shadow-yin-ying-zu-jian/</url>
      
        <content type="html"><![CDATA[<p>åŸºæœ¬å±æ€§å›¾å¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129135448227" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>1ã€Effect Colorï¼šé˜´å½±çš„é¢œè‰²<br>2ã€Effect Distanceï¼šé˜´å½±çš„åç§»è·ç¦»<br>ï¼ˆ1ï¼‰xè½´æ°´å¹³æ–¹å‘ï¼šå½“x=0æ—¶ï¼Œé˜´å½±åœ¨æ°´å¹³æ–¹å‘ä¸Šä¸­é—´ï¼›å½“x&gt;0æ—¶ï¼Œé˜´å½±åœ¨å³æ–¹ï¼›å½“x&lt;0æ—¶ï¼Œé˜´å½±åœ¨å·¦æ–¹<br>ï¼ˆ2ï¼‰yè½´å‚ç›´æ–¹å‘ï¼šå½“y=0æ—¶ï¼Œé˜´å½±åœ¨å‚ç›´æ–¹å‘ä¸Šä¸­é—´ï¼›å½“y&gt;0æ—¶ï¼Œé˜´å½±åœ¨ä¸Šæ–¹ï¼›å½“y&lt;0æ—¶ï¼Œé˜´å½±åœ¨ä¸‹æ–¹<br>ä»ä¸Šå›¾ä¸­å¯è§å…¶æ•ˆæœï¼Œå¦å¤–ä»æºç ä¸­å¯ä»¥çœ‹å‡ºxã€yçš„èŒƒå›´å‡ä¸º[-600,600]ï¼Œå½“ç„¶å®é™…åº”ç”¨ä¸­è¿™ä¸ªèŒƒå›´æ˜¯ç»å¯¹è¶³å¤Ÿç”¨çš„<br>æºç å¦‚ä¸‹ï¼š</p><pre><code>public Vector2 effectDistance        {            get { return m_EffectDistance; }            set            {                if (value.x &gt; 600)                    value.x = 600;                if (value.x &lt; -600)                    value.x = -600;                if (value.y &gt; 600)                    value.y = 600;                if (value.y &lt; -600)                    value.y = -600;                if (m_EffectDistance == value)                    return;                m_EffectDistance = value;                if (graphic != null)                    graphic.SetVerticesDirty();            }        }</code></pre><p>3ã€Use Graphic Alphaï¼šæ˜¯å¦ä½¿ç”¨Graphicä¸­çš„Alphaé€æ˜åº¦<br>ï¼ˆ1ï¼‰å‹¾é€‰ï¼šé˜´å½±çš„é€æ˜åº¦ä¼šæ ¹æ®Graphicçš„é€æ˜åº¦å˜åŒ–è€Œå˜åŒ–<br>æ³¨æ„çœ‹ä¸‹é¢ä¸¤ä¸ªå›¾ä¸­çš„é¢œè‰²Alphaå€¼ä»¥åŠå·¦è¾¹çš„Texté€æ˜åº¦å˜åŒ–<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129141244514" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>å›¾ä¸€</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129141513365" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>å›¾äºŒ</p><p>ä»ä»¥ä¸Šå¯ä»¥çœ‹å‡ºå‹¾é€‰Use Graphic Alphaçš„æ•ˆæœ<br>ï¼ˆ2ï¼‰ä¸å‹¾é€‰ï¼šé˜´å½±çš„é€æ˜åº¦ä¸ä¼šæ ¹æ®Graphicçš„é€æ˜åº¦å˜åŒ–è€Œå˜åŒ–<br>åœ¨å›¾äºŒçš„åŸºç¡€ä¸Šï¼Œå»æ‰Use Graphic Alphaçš„å‹¾é€‰ï¼Œç»“æœå¦‚ä¸‹ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129142217738" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>é˜´å½±éƒ¨åˆ†é€æ˜åº¦å¹¶æ²¡æœ‰å—åˆ°Graphicçš„å½±å“<br>æºç éƒ¨åˆ†ï¼š<br>å¦‚æœUse Graphic<br>Alphaè¢«å‹¾é€‰ï¼Œm_UseGraphicAlphaä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseï¼Œä»æºç ä¸­å¯ä»¥å¦‚æœm_UseGraphicAlphaä¸ºtrueï¼Œé˜´å½±çš„alphaç»è¿‡äº†ä»¥ä¸‹è¿ç®—ï¼šnewColor.a<br>= (byte)((newColor.a * verts[i].color.a) / 255)ï¼›</p><pre><code>protected void ApplyShadowZeroAlloc(List&lt;UIVertex&gt; verts, Color32 color, int start, int end, float x, float y)        {            UIVertex vt;            var neededCpacity = verts.Count * 2;            if (verts.Capacity &lt; neededCpacity)                verts.Capacity = neededCpacity;            for (int i = start; i &lt; end; ++i)            {                vt = verts[i];                verts.Add(vt);                Vector3 v = vt.position;                v.x += x;                v.y += y;                vt.position = v;                var newColor = color;                if (m_UseGraphicAlpha)                    newColor.a = (byte)((newColor.a * verts[i].color.a) / 255);                vt.color = newColor;                verts[i] = vt;            }        }</code></pre><p>ä»¥ä¸Šä¸ºShadowç»“åˆTextç»„ä»¶çš„ä½¿ç”¨ä»‹ç»ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹Shadowç»“åˆImageç»„ä»¶çš„ä½¿ç”¨ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129143409977" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>è¿™é‡Œä¸å†è¿‡å¤šä»‹ç»ï¼Œå¤§å®¶æœ‰å…´è¶£ï¼Œå¯ä»¥æ·±å…¥ç ”ç©¶æºç ã€‚</p><p>å¦å¤–ï¼Œä½¿ç”¨Shadowä¼šå¯¼è‡´é¡¶ç‚¹æ•°ç¿»å€ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129143927273" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shadow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Textç»„ä»¶è¯¦è§£</title>
      <link href="/2016/11/29/ugui-zhi-text-zu-jian-xiang-jie/"/>
      <url>/2016/11/29/ugui-zhi-text-zu-jian-xiang-jie/</url>
      
        <content type="html"><![CDATA[<p>åŸºæœ¬å±æ€§å¦‚ä¸‹å›¾ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129115729933" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Characterï¼š<br>1ã€Fontï¼šå­—ä½“<br>2ã€Font Styleï¼š<br>ï¼ˆ1ï¼‰Normalï¼šæ­£å¸¸<br>ï¼ˆ2ï¼‰Boldï¼šç²—ä½“<br>ï¼ˆ3ï¼‰Italicï¼šæ–œä½“<br>ï¼ˆ4ï¼‰Bold And Italicï¼šç²—ä½“+æ–œä½“<br>3ã€Font Sizeï¼šå­—ä½“å¤§å°<br>4ã€Line Spacingï¼šè¡Œé—´è·ï¼ˆæ³¨ï¼šTextç»„ä»¶æ²¡æœ‰æä¾›ä¿®æ”¹å­—é—´è·çš„å±æ€§ï¼Œåœ¨å‰é¢å†™è¿‡ä¿®æ”¹å­—é—´è·çš„è„šæœ¬ï¼‰<br>5ã€Rich Textï¼šå¯Œæ–‡æœ¬<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129121858435" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>æ”¯æŒå¤šç»„åˆçš„è¯­æ³•ä¾‹å¦‚ä¸‹é¢ä¾‹å­ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129122131670" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Paragraphï¼š<br>1ã€Alignmentï¼š <img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20161129120344802" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>å‰é¢ä¸‰ä¸ªæŒ‰é’®æ˜¯æ°´å¹³æ–¹å‘ï¼ˆåˆ†åˆ«ä¸ºå·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½ï¼‰ï¼Œåé¢ä¸‰ä¸ªæŒ‰é’®æ˜¯å‚ç›´æ–¹å‘ï¼ˆåˆ†åˆ«ä¸ºé¡¶å¯¹é½ï¼Œå±…ä¸­ï¼Œåº•å¯¹é½ï¼‰</p><p>2ã€Align By Geometryï¼š<br>å®˜æ–¹è§£é‡Šï¼š<br>Use the extents of glyph geometry to perform horizontal alignment rather than<br>glyph metrics.<br>This can result in better fitting left and right alignment, but may result in<br>incorrect positioning when attempting to overlay multiple fonts (such as a<br>specialized outline font) on top of each other.<br>ä½¿ç”¨åŒºæ®µçš„å­—å½¢å‡ ä½•æ‰§è¡Œæ°´å¹³å¯¹é½,è€Œä¸æ˜¯å­—å½¢æŒ‡æ ‡ã€‚<br>è¿™å¯ä»¥å¯¼è‡´æ›´å¥½çš„æ‹Ÿåˆå·¦å’Œå³å¯¹é½,ä½†å¯èƒ½ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„å®šä½å½“è¯•å›¾è¦†ç›–å¤šä¸ªå­—ä½“(å¦‚ä¸“ä¸šè½®å»“å­—ä½“)ä¸Šã€‚</p><p>3ã€Horizontal Overflowï¼šæ°´å¹³æº¢å‡º<br>ï¼ˆ1ï¼‰Wrapï¼šæ–‡æœ¬å°†è‡ªåŠ¨æ¢è¡Œï¼Œå½“è¾¾åˆ°æ°´å¹³è¾¹ç•Œ<br>ï¼ˆ2ï¼‰Overflowï¼šæ–‡æœ¬å¯ä»¥è¶…å‡ºæ°´å¹³è¾¹ç•Œï¼Œç»§ç»­æ˜¾ç¤º<br>4ã€Vertical Overflowï¼šå‚ç›´æº¢å‡º<br>ï¼ˆ1ï¼‰Truncateï¼šæ–‡æœ¬ä¸æ˜¾ç¤ºè¶…å‡ºå‚ç›´è¾¹ç•Œçš„éƒ¨åˆ†<br>ï¼ˆ2ï¼‰Overflowï¼šæ–‡æœ¬å¯ä»¥è¶…å‡ºå‚ç›´è¾¹ç•Œï¼Œç»§ç»­æ˜¾ç¤º<br>5ã€Best Fitï¼šå‹¾é€‰ä¹‹åï¼Œç¼–è¾‘å™¨å‘ç”Ÿå˜åŒ–ï¼Œæ˜¾ç¤ºMin Sizeå’ŒMax Size<br>ï¼ˆ1ï¼‰Min Sizeï¼šæœ€å°å¤§å°<br>ï¼ˆ2ï¼‰Max Sizeï¼šæœ€å¤§å¤§å°<br>å½“è¾¹æ¡†å¾ˆå¤§æ—¶ï¼Œæ–‡å­—æœ€å¤§æ˜¾ç¤ºMax Sizeå­—ä½“å¤§å°ï¼›å½“è¾¹æ¡†å¾ˆå°æ—¶ï¼Œæ–‡å­—æœ€å°æ˜¾ç¤ºMin Sizeå­—ä½“å¤§å°ï¼Œè¾¹æ¡†æ˜¾ç¤ºä¸äº†MinSizeå­—ä½“å¤§å°å°±ä¸å†æ˜¾ç¤ºæ–‡å­—äº†ã€‚</p><p>Colorï¼šé¢œè‰²</p><p>Materialï¼šæè´¨</p><p>Raycast Targetï¼šæ¥è‡ªç±»Graphicï¼Œå½“è¯¥é¡¹ä¸ºfalseæ—¶ï¼Œæ¶ˆæ¯ä¼šé€ä¼ </p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Text </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Textå¯¹é½è‡³æ ¼å­</title>
      <link href="/2016/08/06/ugui-zhi-text-dui-qi-zhi-ge-zi/"/>
      <url>/2016/08/06/ugui-zhi-text-dui-qi-zhi-ge-zi/</url>
      
        <content type="html"><![CDATA[<h2 id="UGUIä¹‹Textå¯¹é½è‡³æ ¼å­"><a href="#UGUIä¹‹Textå¯¹é½è‡³æ ¼å­" class="headerlink" title="UGUIä¹‹Textå¯¹é½è‡³æ ¼å­"></a>UGUIä¹‹Textå¯¹é½è‡³æ ¼å­</h2><p>èƒŒæ™¯ï¼šå‰å‡ å¤©æœ‰ä¸ªéœ€æ±‚ï¼šç©å®¶è¾“å…¥çš„6ä½æˆ¿é—´IDå·ï¼Œè¦å¯¹é½è‡³èƒŒæ™¯æ ¼å­å›¾ä¸­ï¼Œæ•…å°†å‰é¢å†™çš„è°ƒæ•´Textå­—é—´è·å‹‰å¼ºç»™bossç”¨äº†</p><p>å¤§è‡´æ•ˆæœå¦‚å›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160806112851169" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å…·ä½“è„šæœ¬ä»£ç å¦‚ä¸‹:</p><pre><code>using UnityEngine;using System.Collections;using UnityEngine.UI;using System;using System.Collections.Generic;[AddComponentMenu(&quot;UI/Effects/TextAlignToGrid&quot;)]public class TextAlignToGrid : BaseMeshEffect{    public RectTransform _gridBg;          //æ ¼å­èƒŒæ™¯    public int _gridNum;                  //æˆ‘çš„æ ¼å­æ•°ä¸º6    private Vector2 _gridSize;          //æ ¼å­å¤§å°    private Vector3[] _targetFocusPos;  //ç›®æ ‡ä¸­å¿ƒç‚¹ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„æ ¼å­ä¸­å¿ƒç‚¹    public override void ModifyMesh(VertexHelper vh)    {        if (!IsActive() || vh.currentVertCount == 0)        {            return;        }        if (_gridBg == null)        {            Debug.Log(&quot;Missing Grid Background&quot;);            return;        }        Text text = GetComponent&lt;Text&gt;();        if (text == null)        {            Debug.Log(&quot;Missing Text component&quot;);            return;        }        _gridSize = _gridBg.sizeDelta;        int textLen = text.text.Length;        Vector3[] textFocusPos = new Vector3[textLen];        List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;();        _targetFocusPos = new Vector3[textLen];        vh.GetUIVertexStream(vertexs);        //è®¡ç®—textå„æ–‡å­—ä¸­å¿ƒç‚¹åæ ‡        for (int i = 0; i &lt; textLen; i++)        {            float x = (vertexs[i * 6].position.x + vertexs[i * 6 + 1].position.x) / 2;            float y = (vertexs[i * 6 + 1].position.y + vertexs[i * 6 + 2].position.y) / 2;            textFocusPos[i] = new Vector3(x, y, 0);        }        //æ ¹æ®æ ¼å­å¤§å°_gridSizeè®¡ç®—ç›®æ ‡ä¸­å¿ƒç‚¹        float xOffset = _gridSize.x / _gridNum;        for (int i = 0; i &lt; textLen; i++)        {            float x = (float)(-_gridSize.x / 2 + xOffset * (i + 0.5));            _targetFocusPos[i] = new Vector3(x, 0, 0);        }        //è®¡ç®—textå„é¡¶ç‚¹æ–°åæ ‡        UIVertex v = new UIVertex();        for (int i = 0; i &lt; vh.currentVertCount; i++)        {            vh.PopulateUIVertex(ref v, i);            float x = v.position.x + _targetFocusPos[i / 4].x - textFocusPos[i / 4].x;            float y = v.position.y + _targetFocusPos[i / 4].y - textFocusPos[i / 4].y;            v.position = new Vector3(x, y, 0);            vh.SetUIVertex(v, i);        }    }}</code></pre><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Textå¯¹é½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹ä¿®æ”¹Textå­—é—´è·</title>
      <link href="/2016/07/13/ugui-zhi-xiu-gai-text-zi-jian-ju/"/>
      <url>/2016/07/13/ugui-zhi-xiu-gai-text-zi-jian-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="UGUIä¹‹ä¿®æ”¹Textå­—é—´è·"><a href="#UGUIä¹‹ä¿®æ”¹Textå­—é—´è·" class="headerlink" title="UGUIä¹‹ä¿®æ”¹Textå­—é—´è·"></a>UGUIä¹‹ä¿®æ”¹Textå­—é—´è·</h2><h2 id="ç¬¬ä¸€ç‰ˆ"><a href="#ç¬¬ä¸€ç‰ˆ" class="headerlink" title="ç¬¬ä¸€ç‰ˆ"></a>ç¬¬ä¸€ç‰ˆ</h2><p>å…ˆçœ‹æ•ˆæœå›¾ï¼š</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160713233614704" alt="é—´è·ä¸º10æ—¶"></p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160713233555078" alt="é—´è·ä¸º30æ—¶"></p><p>æ€è·¯æ˜¯ä¿®æ”¹é¡¶ç‚¹åæ ‡</p><p>è„šæœ¬TextSpacingä»£ç å¦‚ä¸‹ï¼š</p><pre><code>using UnityEngine;using System.Collections;using UnityEngine.UI;using System;using System.Collections.Generic;[AddComponentMenu(&quot;UI/Effects/TextSpacing&quot;)]public class TextSpacing : BaseMeshEffect {    public float _textSpacing = 1f;    public override void ModifyMesh(VertexHelper vh)    {        if (!IsActive() || vh.currentVertCount == 0)        {            return;        }        List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;();        vh.GetUIVertexStream(vertexs);        int indexCount = vh.currentIndexCount;        UIVertex vt;        for (int i = 6; i &lt; indexCount; i++)        {            //ç¬¬ä¸€ä¸ªå­—ä¸ç”¨æ”¹å˜ä½ç½®            vt = vertexs[i];            vt.position += new Vector3(_textSpacing * (i / 6), 0, 0);            vertexs[i] = vt;            //ä»¥ä¸‹æ³¨æ„ç‚¹ä¸ç´¢å¼•çš„å¯¹åº”å…³ç³»            if (i % 6 &lt;= 2)            {                vh.SetUIVertex(vt, (i / 6) * 4 + i % 6);            }            if (i % 6 == 4)            {                vh.SetUIVertex(vt, (i / 6) * 4 + i % 6 - 1);            }        }    }}</code></pre><h2 id="ç¬¬äºŒç‰ˆ"><a href="#ç¬¬äºŒç‰ˆ" class="headerlink" title="ç¬¬äºŒç‰ˆ"></a>ç¬¬äºŒç‰ˆ</h2><p>åœ¨ç¬¬ä¸€ç‰ˆçš„åŸºç¡€ä¸Šï¼Œè§£å†³äº†æ¢è¡Œä¹‹åå­˜åœ¨çš„é—®é¢˜<br>å…ˆçœ‹ç¬¬äºŒç‰ˆçš„æ•ˆæœå›¾ï¼š<br>![è¿™é‡Œå†™å›¾ç‰‡æè¿°](<a href="https://img-" target="_blank" rel="noopener">https://img-</a><br>blog.csdn.net/20170508115729311?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjY5OTk1MDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p><p>ç›´æ¥ä¸Šæºç ï¼š</p><pre><code>using UnityEngine;using System.Collections;using UnityEngine.UI;using System;using System.Collections.Generic;public class Line{    private int _startVertexIndex = 0;    /// &lt;summary&gt;    /// èµ·ç‚¹ç´¢å¼•    /// &lt;/summary&gt;    public int StartVertexIndex    {        get        {            return _startVertexIndex;        }    }    private int _endVertexIndex = 0;    /// &lt;summary&gt;    /// ç»ˆç‚¹ç´¢å¼•    /// &lt;/summary&gt;    public int EndVertexIndex    {        get        {            return _endVertexIndex;        }    }    private int _vertexCount = 0;    /// &lt;summary&gt;    /// è¯¥è¡Œå çš„ç‚¹æ•°ç›®    /// &lt;/summary&gt;    public int VertexCount    {        get        {            return _vertexCount;        }    }    public Line(int startVertexIndex,int length)    {        _startVertexIndex = startVertexIndex;        _endVertexIndex = length * 6 - 1 + startVertexIndex;        _vertexCount = length * 6;    }}[AddComponentMenu(&quot;UI/Effects/TextSpacing&quot;)]public class TextSpacing : BaseMeshEffect{    public float _textSpacing = 1f;    public override void ModifyMesh(VertexHelper vh)    {        if (!IsActive() || vh.currentVertCount == 0)        {            return;        }        Text text = GetComponent&lt;Text&gt;();        if (text == null)        {            Debug.LogError(&quot;Missing Text component&quot;);            return;        }        List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;();        vh.GetUIVertexStream(vertexs);        int indexCount = vh.currentIndexCount;        string[] lineTexts = text.text.Split(&apos;\n&apos;);        Line[] lines = new Line[lineTexts.Length];        //æ ¹æ®linesæ•°ç»„ä¸­å„ä¸ªå…ƒç´ çš„é•¿åº¦è®¡ç®—æ¯ä¸€è¡Œä¸­ç¬¬ä¸€ä¸ªç‚¹çš„ç´¢å¼•ï¼Œæ¯ä¸ªå­—ã€å­—æ¯ã€ç©ºæ¯å‡å 6ä¸ªç‚¹        for (int i = 0; i &lt; lines.Length; i++)        {            //é™¤æœ€åä¸€è¡Œå¤–ï¼Œvertexså¯¹äºå‰é¢å‡ è¡Œéƒ½æœ‰å›è½¦ç¬¦å äº†6ä¸ªç‚¹            if (i == 0)            {                lines[i] = new Line(0, lineTexts[i].Length + 1);            }            else if(i &gt; 0 &amp;&amp; i &lt; lines.Length - 1)            {                lines[i] = new Line(lines[i - 1].EndVertexIndex + 1, lineTexts[i].Length + 1);            }            else            {                lines[i] = new Line(lines[i - 1].EndVertexIndex + 1, lineTexts[i].Length);            }        }        UIVertex vt;        for (int i = 0; i &lt; lines.Length; i++)        {            for (int j = lines[i].StartVertexIndex + 6; j &lt;= lines[i].EndVertexIndex; j++)            {                if (j &lt; 0 || j &gt;= vertexs.Count)                {                    continue;                }                vt = vertexs[j];                vt.position += new Vector3(_textSpacing * ((j - lines[i].StartVertexIndex) / 6), 0, 0);                vertexs[j] = vt;                //ä»¥ä¸‹æ³¨æ„ç‚¹ä¸ç´¢å¼•çš„å¯¹åº”å…³ç³»                if (j % 6 &lt;= 2)                {                    vh.SetUIVertex(vt, (j / 6) * 4 + j % 6);                }                if (j % 6 == 4)                {                    vh.SetUIVertex(vt, (j / 6) * 4 + j % 6 - 1);                }            }        }    }}</code></pre><p>æ€è·¯æ˜¯åœ¨ç¬¬ä¸€ç‰ˆçš„åŸºç¡€ä¸Šï¼Œå¯¹æ¯ä¸€è¡Œéƒ½é¡¶ç‚¹åæ ‡åšå¤„ç†ã€‚</p><p>ä»¥ä¸ŠçŸ¥è¯†åˆ†äº«ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œå…±åŒå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Texté•œåƒæ•ˆæœ</title>
      <link href="/2016/07/11/ugui-zhi-text-jing-xiang-xiao-guo/"/>
      <url>/2016/07/11/ugui-zhi-text-jing-xiang-xiao-guo/</url>
      
        <content type="html"><![CDATA[<h2 id="UGUIä¹‹Texté•œåƒæ•ˆæœ"><a href="#UGUIä¹‹Texté•œåƒæ•ˆæœ" class="headerlink" title="UGUIä¹‹Texté•œåƒæ•ˆæœ"></a>UGUIä¹‹Texté•œåƒæ•ˆæœ</h2><p>å…ˆä¸Šæ•ˆæœå›¾ï¼š<br><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160711212005282" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>è„šæœ¬Mirrorç›´æ¥æŒ‚åœ¨Textä¸‹ï¼Œdistanceæ˜¯é•œåƒè·ç¦»</p><p>Mirrorè„šæœ¬å¦‚ä¸‹ï¼š</p><pre><code>using UnityEngine;using System.Collections;using UnityEngine.UI;using System;using System.Collections.Generic;[AddComponentMenu(&quot;UI/Effects/Mirror&quot;)]public class Mirror : BaseMeshEffect{    //è·ç¦»ï¼Œé™åˆ¶èŒƒå›´0-30    [Range(0,30)]    public float distance;    public override void ModifyMesh(VertexHelper vh)    {        if (!IsActive() || vh.currentVertCount == 0)        {            return;        }        List&lt;UIVertex&gt; vertexs = new List&lt;UIVertex&gt;();        vh.GetUIVertexStream(vertexs);        UIVertex vt;        int count = vertexs.Count;        float miny = vertexs[0].position.y;        float maxy = vertexs[0].position.y;        for (int i = 1; i &lt; count; i++)        {            if (vertexs[i].position.y &lt; miny)            {                miny = vertexs[i].position.y;            }            else if (vertexs[i].position.y &gt; maxy)            {                maxy = vertexs[i].position.y;            }        }        float uiElementHeight = maxy - miny;        float mirrorMinY = -maxy + 2 * miny - distance;        Color32 top = GetComponent&lt;Text&gt;().color;        Color32 bottom = new Color(top.r, top.g, top.b, 0);        for (int i = 0; i &lt; count; i++)        {            vt = vertexs[i];            vertexs.Add(vt);            Vector3 v = vt.position;            v.y = -v.y + 2 * miny - distance;            vt.position = v;            //é€æ˜åº¦æ•ˆæœ            vt.color = Color32.Lerp(bottom, top, (vt.position.y - mirrorMinY) / uiElementHeight);            vertexs[i + count] = vt;        }        vh.Clear();        vh.AddUIVertexTriangleStream(vertexs);    }}</code></pre><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Texté•œåƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UGUIä¹‹Textå½©è™¹å­—</title>
      <link href="/2016/07/08/ugui-zhi-text-cai-hong-zi/"/>
      <url>/2016/07/08/ugui-zhi-text-cai-hong-zi/</url>
      
        <content type="html"><![CDATA[<h1 id="UGUIä¹‹Textå½©è™¹å­—"><a href="#UGUIä¹‹Textå½©è™¹å­—" class="headerlink" title="UGUIä¹‹Textå½©è™¹å­—"></a>UGUIä¹‹Textå½©è™¹å­—</h1><p>è„šæœ¬Rainbowç›´æ¥æŒ‚åœ¨Textä¸‹</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160708180449086" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä½¿å¾—æ¯ä¸ªå­—æ¯æˆ–è€…æ±‰å­—å‡ä¸ºä¸€ç§éšæœºé¢œè‰²</p><p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="https://img-blog.csdn.net/20160708180636650" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Rainbowè„šæœ¬å¦‚ä¸‹ï¼š</p><pre><code>using UnityEngine;using System.Collections;using UnityEngine.UI;using System.Collections.Generic;[AddComponentMenu(&quot;UI/Effects/Gradient&quot;)]public class Rainbow : BaseMeshEffect{    private Color32[] colors;    public override void ModifyMesh(VertexHelper vh)    {        if (!IsActive() || vh.currentVertCount == 0)        {            return;        }        List&lt;UIVertex&gt; vertices = new List&lt;UIVertex&gt;();        vh.GetUIVertexStream(vertices);        int count = vertices.Count;        colors = new Color32[count / 6];        for (int i = 0; i &lt; colors.Length; i++)        {            //éšæœºé¢œè‰²            float r = Random.value;            float g = Random.value;            float b = Random.value;            colors[i] = new Color(r, g, b);        }        UIVertex v = new UIVertex();        for (int i = 0; i &lt; vh.currentVertCount; i++)        {            vh.PopulateUIVertex(ref v, i);            v.color = colors[i / 4];            vh.SetUIVertex(v, i);        }    }}</code></pre><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> Unity </category>
          
          <category> UGUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Textå½©è™¹å­— </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
